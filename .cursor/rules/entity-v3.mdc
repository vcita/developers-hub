---
description: Entity development standards and conventions
globs: entities/**/*.json
alwaysApply: true
---
# Entity v3 Standards
## Standards must be followed!
## When developing an Entity defention, follow the standars listed on our confluence: @https://myvcita.atlassian.net/wiki/spaces/IT/pages/3774808305/Entities+v3+Standards

## File Structure
- Entities: `entities/{domain}/{entityName}.json`

## Entity JSON Structure
- Root level must have: `type`, `properties`, `description`, `example`
- Examples must be complete and realistic with all fields populated

## Avoid
- Don't use `readOnly` array at root level - not a common pattern
- Backend-managed fields may be in entity but not in request schemas

## Example: Request Schema (excludes readonly fields)

```json
{
  "CreateBusinessPhoneNumberRequest": {
    "type": "object",
    "properties": {
      "phone_number": {
        "type": "string",
        "description": "The complete phone number in E.164 format without + prefix (e.g., \"12127654321\")."
      },
      "country_code": {
        "type": "string",
        "pattern": "^[A-Z]{2}$",
        "description": "ISO 3166-1 alpha-2 country code (e.g., \"US\", \"GB\")."
      }
    },
    "required": ["phone_number", "country_code"]
  }
}
```

Note: `uid`, `business_uid`, `created_at`, `updated_at` are omitted - they are backend-managed.

## Example: Entity Definition

```json
{
  "type": "object",
  "description": "Represents a business phone number used for communication.",
  "properties": {
    "uid": {
      "type": "string",
      "description": "Unique identifier for the phone number record."
    },
    "business_uid": {
      "type": "string",
      "description": "Unique identifier of the business that owns this phone number."
    },
    "phone_number": {
      "type": "string",
      "description": "The complete phone number in E.164 format without + prefix (e.g., \"12127654321\")."
    },
    "country_code": {
      "type": "string",
      "pattern": "^[A-Z]{2}$",
      "description": "ISO 3166-1 alpha-2 country code (e.g., \"US\", \"GB\")."
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "The date and time when the record was created, in ISO 8601 format."
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "The date and time when the record was last updated, in ISO 8601 format."
    }
  },
  "example": {
    "uid": "phn_abc123",
    "business_uid": "d290f1ee26c54",
    "phone_number": "12127654321",
    "country_code": "US",
    "created_at": "2026-01-12T10:30:00Z",
    "updated_at": "2026-01-12T10:30:00Z"
  }
}
```
