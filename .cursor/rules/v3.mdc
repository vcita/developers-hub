---
description: 
globs: 
alwaysApply: true
---
# V3 API Development Guidelines
Standards for V3 API development:

- Standards must be followed! Check for "API V3 Standards", "Domains, Contexts, Entities", and "v3 standards checklist" in our Confluence for detailed instructions.
- New entities are added under the `entities` folder, followed by the domain and entity name: `/entities/{domain}/{entity}.json`
  Example: `/entities/access_control/permission.json`
- New swagger definitions are added under the `swagger` folder with similar organization: `/swagger/{domain}/{entity}.json`
  Example: `/swagger/access_control/permission.json`
- Keep examples in `entities` folder, not in `swagger` files.
- Ensure examples use realistic values (e.g., use `"name": "John Doe"` instead of `"name": "string"`).
- Include all relevant response codes (e.g., 401, 403, 404).
- For PUT endpoints, allow modification of only appropriate fields (do not allow updates to `uid`, `created_at`, or `updated_at`).
- By default, do not expose the `deleted_at` field unless soft delete functionality is needed.
- If soft-delete is implemented, add a `with_deleted` filter to GET routes and return only non-deleted entities by default (follow the approach used by Resource).
