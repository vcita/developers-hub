---
description: Swagger API development standards and conventions
globs: swagger/**/*.json
alwaysApply: true
---
# API v3 REST Standards
## Standards must be followed!
## When the developing a Swagger API defention, follow the standars listed on our confluence: @https://myvcita.atlassian.net/wiki/spaces/IT/pages/3774841078/API+v3+REST+Standards

## Request/Response Schemas
- Define request schemas separately from entity (e.g., `CreateBusinessPhoneNumberRequest`)
- Request schemas should only include user-editable fields
- Reference entities via GitHub Pages URL: `https://vcita.github.io/developers-hub/entities/{domain}/{entityName}.json`

## Error Responses
- **400 Bad Request**: Malformed requests or invalid syntax
- **422 Unprocessable Entity**: Validation errors with valid syntax
- Include `field` property in errors to identify which field failed

## Documentation Standards
- Token permissions in bold: `Available for **Staff and Directory tokens**`

## Conditional Validation
- Use `allOf`/`if`/`then` for conditional requirements
- Only add conditionally required fields, don't duplicate base required fields

## Avoid
- Don't inline large schemas - extract to entity files
- Don't duplicate schema definitions - use `$ref`