{
  "openapi": "3.0.0",
  "info": {
    "title": "Notification Metadata API",
    "version": "1.0.0",
    "description": "API for managing notification metadata definitions."
  },
  "paths": {
    "/v3/communication/notification_metadata": {
      "get": {
        "summary": "List all notification metadata entries",
        "responses": {
          "200": {
            "description": "List of notification metadata entries.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "../../entities/communication/notification_metadata.json" }
                },
                "example": [
                  {
                    "notification_identifier": "welcome_user",
                    "channel": { "push": true, "pane": true, "email": true },
                    "deep_link": "app://welcome",
                    "notification_type": "user_onboarding",
                    "show_in_settings": true,
                    "text": {
                      "en": {
                        "display_settings": {
                          "notification_name": "Welcome Notification",
                          "notification_description": "Sent to new users upon signup."
                        },
                        "in_app_settings": {
                          "in_app_title": "Welcome!",
                          "in_app_message": "Thanks for joining."
                        },
                        "email_settings": {
                          "subject": "Welcome to our platform!",
                          "header_text": "Hello and welcome!",
                          "main_text": "We're excited to have you.",
                          "footer_text": "Best regards, The Team",
                          "cta_button": {
                            "text": "Get Started",
                            "url": "https://example.com/start"
                          },
                          "top_image": {
                            "url": "https://example.com/top.png",
                            "width": 600
                          },
                          "middle_image": {
                            "url": "https://example.com/middle.png",
                            "width": 400
                          }
                        }
                      },
                      "fr": {
                        "display_settings": {
                          "notification_name": "Notification de bienvenue",
                          "notification_description": "Envoyé aux nouveaux utilisateurs lors de l'inscription."
                        },
                        "in_app_settings": {
                          "in_app_title": "Bienvenue!",
                          "in_app_message": "Merci de vous être inscrit."
                        },
                        "email_settings": {
                          "subject": "Bienvenue sur notre plateforme!",
                          "header_text": "Bonjour et bienvenue!",
                          "main_text": "Nous sommes ravis de vous accueillir.",
                          "footer_text": "Cordialement, L'équipe",
                          "cta_button": {
                            "text": "Commencer",
                            "url": "https://example.com/demarrer"
                          },
                          "top_image": {
                            "url": "https://example.com/haut.png",
                            "width": 600
                          },
                          "middle_image": {
                            "url": "https://example.com/milieu.png",
                            "width": 400
                          }
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new notification metadata entry",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "../../entities/communication/notification_metadata.json" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Notification metadata created.",
            "content": {
              "application/json": {
                "schema": { "$ref": "../../entities/communication/notification_metadata.json" }
              }
            }
          }
        }
      }
    },
    "/v3/communication/notification_metadata/{notification_identifier}": {
      "get": {
        "summary": "Get a single notification metadata entry by identifier",
        "parameters": [
          {
            "name": "notification_identifier",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification metadata entry.",
            "content": {
              "application/json": {
                "schema": { "$ref": "../../entities/communication/notification_metadata.json" }
              }
            }
          },
          "404": { "description": "Not found." }
        }
      },
      "put": {
        "summary": "Update a notification metadata entry by identifier",
        "parameters": [
          {
            "name": "notification_identifier",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "../../entities/communication/notification_metadata.json" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Notification metadata updated.",
            "content": {
              "application/json": {
                "schema": { "$ref": "../../entities/communication/notification_metadata.json" }
              }
            }
          },
          "404": { "description": "Not found." }
        }
      },
      "delete": {
        "summary": "Delete a notification metadata entry by identifier",
        "parameters": [
          {
            "name": "notification_identifier",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "204": { "description": "Deleted successfully." },
          "404": { "description": "Not found." }
        }
      }
    }
  }
} 