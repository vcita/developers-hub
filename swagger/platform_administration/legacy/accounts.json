{
  "basePath": "/business/accounts",
  "host": "api.vcita.biz",
  "info": {
    "title": "Accounts related API",
    "version": "v2.0"
  },
  "paths": {
    "/v1/attributes": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "description": "Gets business attributes",

        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "examples": {
              "application/json": {
                "data": {
                  "attributes": {
                    "account_blocked": false,
                    "app_host": "app.dev-vcita.me:7200",
                    "brand_name": "vcita",
                    "business_name": "business8b4b70964bc715a0",
                    "dashboard_as_an_app": false,
                    "directory_settings": {
                      "cancel_page_url": "",
                      "change_password_url": null,
                      "custom_support_url": "",
                      "default_support_url": "www.dev-vcita.me:3000/contact",
                      "directory_manages_users": false,
                      "enable_upgrade_page_tab": null,
                      "external_backoffice_url": null,
                      "faq_url": null,
                      "has_parent_directory": null,
                      "help_links": null,
                      "is_co_branded_managed": false,
                      "is_managed_partner": null,
                      "is_whitelabel": false,
                      "logout_url": null,
                      "managed_login_url": null,
                      "menu_powered_by": null,
                      "mobile_app_android": null,
                      "mobile_app_ios": null,
                      "partners_dashboard_url": "https://localhost:2019/manage",
                      "review_site_display_name": null,
                      "review_site_url": null,
                      "upgrade_url": null,
                      "whitelabel_configuration_key": null
                    },
                    "is_upgradeable": false,
                    "locale": "en",
                    "matter_term": "clients",
                    "multistaff": false,
                    "partner_admin": false,
                    "partner_operator": false,
                    "photo_path": "",
                    "scheduled_payments_eligible": false,
                    "time_format": "12h"
                  }
                },
                "success": true
              }
            }
          },
          "422": {
            "description": "Failure",
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "code": "Error Code",
                    "field": "Error Field (optional)",
                    "message": "Error Message"
                  }
                ],
                "success": false
              }
            }
          }
        },
        "security": [
          {
            "default": [
              "business/accounts"
            ]
          }
        ],
        "summary": "Gets business attributes",
        "tags": [
          "Business Attributes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/accounts/v1/attributes"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/v1/branding": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "description": "Gets the branding of the business if possible, and if not gets the directory's branding",

        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "examples": {
              "application/json": {
                "data": {
                  "branding": {
                    "colors": {
                      "primary": "#0c315e",
                      "secondary": "#0093B8",
                      "text": "#ffffff"
                    },
                    "logo": null,
                    "powered_by": {
                      "intandem_goto_url": null,
                      "intandem_logo_bright": null,
                      "intandem_logo_dark": null,
                      "parent_goto_url": null,
                      "parent_logo_bright": null,
                      "parent_logo_dark": null
                    }
                  }
                },
                "success": true
              }
            }
          },
          "422": {
            "description": "Failure",
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "code": "Error Code",
                    "field": "Error Field (optional)",
                    "message": "Error Message"
                  }
                ],
                "success": false
              }
            }
          }
        },
        "security": [
          {
            "default": [
              "business/accounts"
            ]
          }
        ],
        "summary": "Gets the branding of the business",
        "tags": [
          "Business Branding"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/accounts/v1/branding"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/v1/identities": {
      "delete": {
        "consumes": [
          "application/json"
        ],
        "description": "Remove identities of business",
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "schema": {
              "properties": {
                "identities": {
                  "description": "Identities to add to business or a single identity of verti",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            }
          }
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "examples": {
              "application/json": {
                "data": {
                  "business": {
                    "identities": [
                      "1234567890"
                    ],
                    "uid": "33d51bd5187ecfe0"
                  }
                },
                "success": true
              }
            }
          }
        },
        "security": [
          {
            "default": [
              "business/accounts"
            ]
          }
        ],
        "summary": "Remove business identities",
        "tags": [
          "Business"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/accounts/v1/identities"
        },
        "x-auth-type": "Application & Application User"
      },
      "get": {
        "consumes": [
          "application/json"
        ],
        "description": "Get identities of business",
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "type": "string"
          }
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "examples": {
              "application/json": {
                "data": {
                  "business": {
                    "identities": [],
                    "uid": "33d51bd5187ecfe0"
                  }
                },
                "success": true
              }
            }
          }
        },
        "security": [
          {
            "default": [
              "business/accounts"
            ]
          }
        ],
        "summary": "Get business identities",
        "tags": [
          "Business"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/accounts/v1/identities"
        },
        "x-auth-type": "Application & Application User"
      },
      "put": {
        "consumes": [
          "application/json"
        ],
        "description": "Add business identities to optimize the business terminology, settings, and content\n* The provided identities must exist in the system\n* Each call adds the provided identities to the list of identities already set for the business\n * Provide one identity only when running Verti. Providing multiple identities will fail.\n* For best practice, when creating an account, do one of the following:\n  1. Don't assign an identity - when not assigning an identity, Verti uses the default identity content and settings. Later, when re-running Verti with an identity, it will overwrite the account settings and content with the provided identity settings and will append its content.\n  2. Assign the account an identity that was marked as \"Generic\" - Verti only clones its content and not the settings. Later when re-running Verti, it will add the additional identity's content and settings.",
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "type": "string"
          },
          {
            "in": "body",
            "name": "body",
            "schema": {
              "properties": {
                "business": {
                  "properties": {
                    "execute_verti": {
                      "description": "Re-runs Verti when set to true",
                      "type": "boolean"
                    },
                    "identities": {
                      "description": "Identities to add to business or a single identity of verti",
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  },
                  "type": "object"
                }
              },
              "type": "object"
            }
          }
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "examples": {
              "application/json": {
                "data": {
                  "business": {
                    "identities": [
                      "1234567890"
                    ],
                    "uid": "33d51bd5187ecfe0"
                  }
                },
                "success": true
              }
            }
          }
        },
        "security": [
          {
            "default": [
              "business/accounts"
            ]
          }
        ],
        "summary": "Update business identities",
        "tags": [
          "Business"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/accounts/v1/identities"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/v1/usage/last_3_months_activity": {
      "get": {
        "consumes": [
          "application/json"
        ],
        "description": "Get an account's activity report for the <b>last 3 months</b>, including the following information: <ol> <li>Number of payments received</li> <li>Number of conversations started</li> <li>Number of bookings, including appointments booked and event attendance</li> <li>Number of campaigns created</li> <li>Number of documents shared by the business</li> <li>Total Number of clients</li> </ol> <b>Note:</b> Currently, the API has a rate limit of 1 request per 5 seconds. Results are cached for 24 hours ",

        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "examples": {
              "application/json": {
                "data": {
                  "activities": {
                    "bookings": 13,
                    "campaigns": 16,
                    "clients": 11,
                    "conversations": 12,
                    "documents": 15,
                    "payments": 14
                  },
                  "business_uid": "j2puryc6ixpi7d"
                },
                "success": true
              }
            },
            "schema": {
              "properties": {
                "data": {
                  "properties": {
                    "activities": {
                      "properties": {
                        "bookings": {
                          "description": "Total number of bookings in the last 3 months",
                          "type": "integer"
                        },
                        "campaigns": {
                          "description": "Total number of campaigns in the last 3 months",
                          "type": "integer"
                        },
                        "clients": {
                          "description": "Total number of clients",
                          "type": "integer"
                        },
                        "conversations": {
                          "description": "Total number of conversations in the last 3 months",
                          "type": "integer"
                        },
                        "documents": {
                          "description": "Total number of documents in the last 3 months",
                          "type": "integer"
                        },
                        "payments": {
                          "description": "Total number of payments in the last 3 months",
                          "type": "integer"
                        }
                      },
                      "type": "object"
                    },
                    "business_uid": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "success": {
                  "type": "boolean"
                }
              },
              "type": "object"
            }
          },
          "422": {
            "description": "Failure",
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "code": "unauthorized",
                    "message": "Unauthorized"
                  }
                ],
                "success": false
              }
            },
            "schema": {
              "properties": {
                "errors": {
                  "items": {
                    "properties": {
                      "code": {
                        "type": "string"
                      },
                      "field": {
                        "type": "string"
                      },
                      "message": {
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  "type": "array"
                },
                "success": {
                  "type": "boolean"
                }
              },
              "type": "object"
            }
          }
        },
        "security": [
          {
            "default": [
              "business/accounts"
            ]
          }
        ],
        "summary": "Business account usage in the last 3 months",
        "tags": [
          "Business account usage"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/accounts/v1/usage/last_3_months_activity"
        },
        "x-auth-type": "Application & Application User"
      }
    }
  },
  "securityDefinitions": {
    "default": {
      "authorizationUrl": "https://ignore.myclients.io",
      "flow": "implicit",
      "scopes": {
        "business/accounts": "All accounts related operations from the business side",
        "business/accounts_create": "business/accounts create scope",
        "business/accounts_delete": "business/accounts delete scope",
        "business/accounts_read": "business/accounts read scope",
        "business/accounts_update": "business/accounts update scope"
      },
      "type": "oauth2",
      "x-scopes-bindings": {
        "business/accounts": "",
        "business/accounts_create": "",
        "business/accounts_delete": "",
        "business/accounts_read": "",
        "business/accounts_update": ""
      }
    }
  },
  "swagger": "2.0",
  "x-throttling-tier": "8ReqPerSec"
}