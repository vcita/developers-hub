{
  "openapi": "3.1.0",
  "info": {
    "title": "Clients",
    "description": "Unified OpenAPI specification for clients domain",
    "version": "3.0",
    "x-generated": {
      "sourceFiles": [
        "manage_clients.json",
        "crm_views.json",
        "legacy_v1_clients.json",
        "client_communication.json",
        "clients_payments.json",
        "client_settings.json"
      ],
      "pathNormalizations": [
        {
          "file": "manage_clients.json",
          "basePath": "/business/clients",
          "transformations": [
            {
              "original": "/v1/apps/{app_code_name}/import",
              "normalized": "/business/clients/v1/apps/{app_code_name}/import",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/contacts/{client_uid}/matters",
              "normalized": "/business/clients/v1/contacts/{client_uid}/matters",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters",
              "normalized": "/business/clients/v1/matters",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/collaborators",
              "normalized": "/business/clients/v1/matters/{matter_uid}/collaborators",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/collaborators/{staff_uid}",
              "normalized": "/business/clients/v1/matters/{matter_uid}/collaborators/{staff_uid}",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/nest",
              "normalized": "/business/clients/v1/matters/{matter_uid}/nest",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/notes",
              "normalized": "/business/clients/v1/matters/{matter_uid}/notes",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/notes/{note_uid}",
              "normalized": "/business/clients/v1/matters/{matter_uid}/notes/{note_uid}",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/reassign",
              "normalized": "/business/clients/v1/matters/{matter_uid}/reassign",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/tags",
              "normalized": "/business/clients/v1/tags",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{matter_uid}/tags",
              "normalized": "/business/clients/v1/matters/{matter_uid}/tags",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/matters/{uid}",
              "normalized": "/business/clients/v1/matters/{uid}",
              "basePath": "/business/clients"
            },
            {
              "original": "/v1/settings",
              "normalized": "/business/clients/v1/settings",
              "basePath": "/business/clients"
            }
          ]
        },
        {
          "file": "crm_views.json",
          "basePath": "/business/search/v1",
          "transformations": [
            {
              "original": "/views",
              "normalized": "/business/search/v1/views",
              "basePath": "/business/search/v1"
            },
            {
              "original": "/views/{uid}",
              "normalized": "/business/search/v1/views/{uid}",
              "basePath": "/business/search/v1"
            },
            {
              "original": "/views/bulk",
              "normalized": "/business/search/v1/views/bulk",
              "basePath": "/business/search/v1"
            },
            {
              "original": "/views_columns",
              "normalized": "/business/search/v1/views_columns",
              "basePath": "/business/search/v1"
            },
            {
              "original": "/view_filters",
              "normalized": "/business/search/v1/view_filters",
              "basePath": "/business/search/v1"
            }
          ]
        },
        {
          "file": "legacy_v1_clients.json",
          "basePath": "/platform/v1",
          "transformations": [
            {
              "original": "/clients",
              "normalized": "/platform/v1/clients",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/merges/merge_clients",
              "normalized": "/platform/v1/clients/merges/merge_clients",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/merges/possible_merge_master",
              "normalized": "/platform/v1/clients/merges/possible_merge_master",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/payment/client_packages/update_usage",
              "normalized": "/platform/v1/clients/payment/client_packages/update_usage",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/payment/client_packages/validate",
              "normalized": "/platform/v1/clients/payment/client_packages/validate",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/{client_id}",
              "normalized": "/platform/v1/clients/{client_id}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/{client_id}/conversations",
              "normalized": "/platform/v1/clients/{client_id}/conversations",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/{client_id}/documents",
              "normalized": "/platform/v1/clients/{client_id}/documents",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/{client_id}/estimates",
              "normalized": "/platform/v1/clients/{client_id}/estimates",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/{client_id}/invoices",
              "normalized": "/platform/v1/clients/{client_id}/invoices",
              "basePath": "/platform/v1"
            },
            {
              "original": "/clients/{client_id}/payments",
              "normalized": "/platform/v1/clients/{client_id}/payments",
              "basePath": "/platform/v1"
            }
          ]
        },
        {
          "file": "client_communication.json",
          "basePath": "/client_api/v1",
          "transformations": [
            {
              "original": "/portals/{business_uid}/contact/get_form",
              "normalized": "/client_api/v1/portals/{business_uid}/contact/get_form",
              "basePath": "/client_api/v1"
            },
            {
              "original": "/portals/{business_uid}/contact/submit",
              "normalized": "/client_api/v1/portals/{business_uid}/contact/submit",
              "basePath": "/client_api/v1"
            },
            {
              "original": "/portals/{business_uid}/share_documents_form/get_form",
              "normalized": "/client_api/v1/portals/{business_uid}/share_documents_form/get_form",
              "basePath": "/client_api/v1"
            },
            {
              "original": "/portals/{business_uid}/share_documents_form/submit",
              "normalized": "/client_api/v1/portals/{business_uid}/share_documents_form/submit",
              "basePath": "/client_api/v1"
            }
          ]
        },
        {
          "file": "clients_payments.json",
          "basePath": "/client/payments",
          "transformations": [
            {
              "original": "/v1/apps/primary_provider_connected_application",
              "normalized": "/client/payments/v1/apps/primary_provider_connected_application",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/cards",
              "normalized": "/client/payments/v1/cards",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/cards/get_new_card",
              "normalized": "/client/payments/v1/cards/get_new_card",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/cards/save_card_session",
              "normalized": "/client/payments/v1/cards/save_card_session",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/carts",
              "normalized": "/client/payments/v1/carts",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/carts/{cart_uid}?matter_uid={matter_uid}",
              "normalized": "/client/payments/v1/carts/{cart_uid}?matter_uid={matter_uid}",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/client_packages",
              "normalized": "/client/payments/v1/client_packages",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/deposits",
              "normalized": "/client/payments/v1/deposits",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/deposits/{deposit_uid}?matter_uid={matter_uid}",
              "normalized": "/client/payments/v1/deposits/{deposit_uid}?matter_uid={matter_uid}",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/invoices",
              "normalized": "/client/payments/v1/invoices",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/packages",
              "normalized": "/client/payments/v1/packages",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/packages/{package_id}",
              "normalized": "/client/payments/v1/packages/{package_id}",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/payment_requests",
              "normalized": "/client/payments/v1/payment_requests",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/payment_requests/{payment_request_uid}/checkout",
              "normalized": "/client/payments/v1/payment_requests/{payment_request_uid}/checkout",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/payments",
              "normalized": "/client/payments/v1/payments",
              "basePath": "/client/payments"
            },
            {
              "original": "/v1/product_orders",
              "normalized": "/client/payments/v1/product_orders",
              "basePath": "/client/payments"
            }
          ]
        }
      ],
      "pathConflicts": [],
      "componentConflicts": [],
      "totalPaths": 50,
      "totalComponents": 6
    }
  },
  "servers": [
    {
      "url": "https://api.vcita.biz",
      "description": "Unified API Gateway server"
    }
  ],
  "paths": {
    "/business/clients/v1/apps/{app_code_name}/import": {
      "post": {
        "description": "## Overview\nImport clients to an app. Creates client records based on the provided field mappings.\n\n## Authentication\n**Available for Staff, App, and Directory tokens.**\n\n## Prerequisites\n1. The app specified by `app_code_name` must be assigned to the business\n2. The app must have `app_type` set to `import_clients`\n3. Use `POST /v3/apps/app_assignments` with `assignment_mode: 'internal'` to assign the app\n\n## Request Body\n- `import_params`: Configuration for the import process\n- `fields_mapping`: Maps client fields to their values",
        "parameters": [
          {
            "description": "App code name",
            "in": "path",
            "name": "app_code_name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success - Import session created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "session_id": 1
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error - Common causes include: app not installed, wrong app type, or invalid data",
            "x-error-codes": {
              "not_installed": "The application {app_code_name} is not installed for the business",
              "wrong_type": "wrong type expecting import_clients"
            },
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "message": "The application {app_code_name} is not installed for the business"
                    }
                  ],
                  "success": false
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - May occur if request body is missing or malformed. Ensure import_params and fields_mapping are provided.",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "unexpected",
                      "message": "undefined method `key?' for nil:NilClass"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Import clients app",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/apps/{app_code_name}/import"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "import_params",
                  "fields_mapping"
                ],
                "properties": {
                  "fields_mapping": {
                    "description": "Maps client fields to their values. At minimum, provide email or phone for contact identification.",
                    "type": "object",
                    "properties": {
                      "email": {
                        "description": "Client email address (e.g., email@example.com)",
                        "type": "string"
                      },
                      "first_name": {
                        "description": "Client first name",
                        "type": "string"
                      },
                      "last_name": {
                        "description": "Client last name",
                        "type": "string"
                      },
                      "phone": {
                        "description": "Client phone number (e.g., 1213214124124)",
                        "type": "string"
                      }
                    }
                  },
                  "import_params": {
                    "description": "Configuration for the import process",
                    "type": "object",
                    "properties": {
                      "send_notifications_when_done": {
                        "description": "Sends an email to staff when the import is done. Defaults to true. Set to false to skip.",
                        "type": "boolean"
                      },
                      "should_override": {
                        "description": "Override existing contacts (default=false)",
                        "type": "boolean"
                      },
                      "upload_type": {
                        "description": "Is it single (individual contacts) or multi (multiple clients under the same contact)",
                        "type": "string",
                        "enum": [
                          "single",
                          "multi"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/contacts/{client_uid}/matters": {
      "get": {
        "description": "## Overview\nGets Matters of a client.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "matters": [
                      {
                        "business_uid": "925cc2e8f097fbef",
                        "contacts": [
                          {
                            "display_name": "First name",
                            "uid": "c9i4nkl5tzp9o42k"
                          }
                        ],
                        "created_at": "2025-08-05T09:53:15.761+03:00",
                        "deleted": false,
                        "display_name": "First name",
                        "fields": [
                          {
                            "uid": "wmcd6d1u3re6pt0i",
                            "value": "Some text"
                          }
                        ],
                        "last_activity_action": null,
                        "last_activity_time": null,
                        "staff": {
                          "uid": "fc2ca1c54e528bc4"
                        },
                        "tags": [
                          "tag1",
                          "tag2"
                        ],
                        "uid": "ofnm9n27xfkaicde",
                        "updated_at": "2025-08-05T09:53:15.761+03:00"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Gets Matters of a contact",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/contacts/{client_uid}/matters"
        },
        "x-auth-type": "Application & Application User"
      },
      "post": {
        "description": "## Overview\nCreate a new Matter for a contact.\n\n## Important Context\nCreating a client via POST /platform/v1/clients automatically creates a first matter. This endpoint is used to create **additional matters** for an existing client.\n\n## Name Field Requirement\nAdditional matters require a name field to differentiate them:\n1. Call `GET /platform/v1/fields` to get field definitions\n2. Find the field where `type == \"name\"` AND `object_type == \"matter\"`\n3. Use the field's `id` as the `uid` with a unique name value\n\n**Available for Staff tokens**",
        "parameters": [
          {
            "description": "The UID of the contact (client) to create the matter for. This is the contact's unique identifier, also referred to as `contact_uid` internally.",
            "in": "path",
            "name": "client_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "matter": {
                      "business_uid": "925cc2e8f097fbef",
                      "contacts": [
                        {
                          "display_name": "First name",
                          "uid": "c9i4nkl5tzp9o42k"
                        }
                      ],
                      "created_at": "2025-08-05T09:53:17.045+03:00",
                      "deleted": false,
                      "display_name": "Matter name",
                      "fields": [
                        {
                          "uid": "f22ike8s6dpz5vso",
                          "value": "Matter name"
                        }
                      ],
                      "last_activity_action": null,
                      "last_activity_time": null,
                      "staff": {
                        "uid": "fc2ca1c54e528bc4"
                      },
                      "tags": [
                        "tag1",
                        "tag2"
                      ],
                      "uid": "ypqy8rk11srr71sz",
                      "updated_at": "2025-08-05T09:53:17.045+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Validation Error - Common causes include: missing or invalid field UID, missing name field value, or invalid client_uid",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "missing_field",
                      "field": "name",
                      "message": "Name can't be blank"
                    }
                  ],
                  "success": false
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - May occur if the request body is empty or malformed. Ensure the request body contains the required matter object with fields array.",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "unexpected",
                      "message": "undefined method `[]' for nil:NilClass"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Create a new Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/contacts/{client_uid}/matters"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "matter"
                ],
                "properties": {
                  "matter": {
                    "type": "object",
                    "required": [
                      "fields"
                    ],
                    "properties": {
                      "fields": {
                        "description": "Array of custom field objects to set on the matter. Must include at least one element: the matter 'name' field, which is required to create a matter. To obtain the correct field UID for the name field, call `GET /platform/v1/fields` and find the field where `type` is `name` AND `object_type` is `matter`. Use that field's `id` as the `uid` value in this array.",
                        "type": "array",
                        "minItems": 1,
                        "items": {
                          "type": "object",
                          "required": [
                            "uid",
                            "value"
                          ],
                          "properties": {
                            "uid": {
                              "description": "The field definition UID. This is a dynamic identifier obtained from `GET /platform/v1/fields`. For the required name field, filter the response by `type='name'` AND `object_type='matter'` and use the `id` value (e.g., `hfv05wachtec1bvp`).",
                              "type": "string",
                              "x-reference-to": "field"
                            },
                            "value": {
                              "description": "The value to set for this field. For the name field, this becomes the matter's display name and should be a descriptive, unique-per-client value (e.g., `Personal Injury Case`).",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "note": {
                        "description": "An optional note to attach to the newly created matter.",
                        "type": "string"
                      },
                      "tags": {
                        "description": "An optional list of tags to associate with the newly created matter.",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters": {
      "get": {
        "description": "## Overview\nGets Matters by filter. Searchable fields are: Email, First name, Last name, Matter name and Phone.\n\n## Required Parameters\nYou must provide a `filter` parameter to search. Without it, the endpoint returns HTTP 422.\n\n## Filter Formats\n- `filter[advanced][start_with]=term` - Search by name/email/phone prefix\n- `filter[uid_in]=uid1,uid2,uid3` - Get specific matters by UIDs\n\n**Available for Staff, App, and Directory Tokens**",
        "parameters": [
          {
            "description": "Filter query to search matters. Required. Examples: `filter[advanced][start_with]=john` (search by name/email/phone prefix), `filter[uid_in]=uid1,uid2` (get specific UIDs)",
            "in": "query",
            "name": "filter",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "matters": [
                      {
                        "business_uid": "925cc2e8f097fbef",
                        "contacts": [
                          {
                            "display_name": "First name",
                            "uid": "c9i4nkl5tzp9o42k"
                          }
                        ],
                        "created_at": "2025-08-05T09:53:15.761+03:00",
                        "deleted": false,
                        "display_name": "First name",
                        "fields": [
                          {
                            "uid": "wmcd6d1u3re6pt0i",
                            "value": "Some text"
                          }
                        ],
                        "last_activity_action": null,
                        "last_activity_time": null,
                        "staff": {
                          "uid": "fc2ca1c54e528bc4"
                        },
                        "tags": [
                          "tag1",
                          "tag2"
                        ],
                        "uid": "ofnm9n27xfkaicde",
                        "updated_at": "2025-08-05T09:53:15.761+03:00"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Gets Matters by filter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/business/clients/v1/matters/{matter_uid}/collaborators": {
      "get": {
        "description": "## Overview\nGets the collaborators of a Matter.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "collaborators": [
                      {
                        "follow_up": false,
                        "id": 1,
                        "matter_uid": "njumjiw6n4qa1tz3",
                        "staff_uid": "c029d2733e12be32"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Gets the collaborators of a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/collaborators"
        },
        "x-auth-type": "Application & Application User"
      },
      "post": {
        "description": "## Overview\nAdds a collaborator to a Matter Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "collaborator": {
                      "follow_up": false,
                      "id": 1,
                      "matter_uid": "njumjiw6n4qa1tz3",
                      "staff_uid": "c029d2733e12be32"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - Validation failed. Missing or invalid collaborator or staff_uid."
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Adds a collaborator to a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/collaborators"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "collaborator": {
                    "type": "object",
                    "properties": {
                      "staff_uid": {
                        "description": "UID of an existing staff member in the business. Can be retrieved via GET /platform/v1/businesses/{business_uid}/staffs",
                        "type": "string",
                        "x-reference-to": "staff"
                      }
                    },
                    "required": [
                      "staff_uid"
                    ]
                  }
                },
                "required": [
                  "collaborator"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters/{matter_uid}/collaborators/{staff_uid}": {
      "delete": {
        "description": "## Overview\nRemoves a collaborator from a Matter Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Staff uid",
            "in": "path",
            "name": "staff_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "collaborator": {
                      "follow_up": false,
                      "id": 1,
                      "matter_uid": "njumjiw6n4qa1tz3",
                      "staff_uid": "c029d2733e12be32"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Removes a collaborator from a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/collaborators/{staff_uid}"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/business/clients/v1/matters/{matter_uid}/nest": {
      "put": {
        "description": "## Overview\nMoves a matter from its current contact to a different destination contact (nesting). The source contact is automatically deleted if it has no remaining matters after the nesting operation.\n\n## Important\nThe matter being nested must have a **different name** than any existing matter on the destination contact. If names collide, the API returns a 422 validation error.\n\n## Authentication\nAvailable for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "The unique identifier of the matter to be moved/nested.",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Matter successfully nested under the destination contact.",
            "content": {
              "application/json": {
                "example": {
                  "data": null,
                  "success": true
                }
              }
            }
          },
          "404": {
            "description": "Contact not found - the destination contact_uid does not exist or does not belong to the business.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "errors": [
                    {
                      "code": "missing",
                      "message": "This contact doesn't exist"
                    }
                  ]
                }
              }
            }
          },
          "422": {
            "description": "Validation error - typically occurs when the matter name already exists on the destination contact.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "errors": [
                    {
                      "code": "invalid_nesting",
                      "field": "matter_uid",
                      "message": "A matter with this name already exists on the destination contact"
                    }
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Nest a matter under another contact person",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/nest"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contact_uid"
                ],
                "properties": {
                  "contact_uid": {
                    "description": "The unique identifier of the destination contact to nest the matter under. Must be a valid contact UID belonging to the same business.",
                    "type": "string"
                  }
                },
                "example": {
                  "contact_uid": "{{contact_uid}}"
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters/{matter_uid}/notes": {
      "get": {
        "description": "## Overview\nGets a list of notes.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number of results. Default: 1",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "How many items to return per page. Default: 25. Max: 100",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "notes": [
                      {
                        "content": "some text",
                        "created_at": "2025-08-05T06:53:06.390Z",
                        "staff_uid": "ebe2e216a3ab3480",
                        "uid": "you37bj7mnbv372g",
                        "updated_at": "2025-08-05T06:53:06.390Z"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Gets a list of notes",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/notes"
        },
        "x-auth-type": "Application & Application User"
      },
      "post": {
        "description": "## Overview\nAdds a note Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "note": {
                      "content": "some text",
                      "created_at": "2025-08-05T06:53:06.960Z",
                      "staff_uid": "ebe2e216a3ab3480",
                      "uid": "ubneca28lj0komfa",
                      "updated_at": "2025-08-05T06:53:06.960Z"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Adds a note",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/notes"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "note"
                ],
                "properties": {
                  "note": {
                    "type": "object",
                    "required": [
                      "content"
                    ],
                    "properties": {
                      "content": {
                        "description": "A notes content",
                        "type": "string",
                        "minLength": 1
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters/{matter_uid}/notes/{note_uid}": {
      "delete": {
        "description": "## Overview\nRemove a note Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "note uid",
            "in": "path",
            "name": "note_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "note": {
                      "content": "some text",
                      "created_at": "2025-08-05T06:53:06.390Z",
                      "staff_uid": "ebe2e216a3ab3480",
                      "uid": "you37bj7mnbv372g",
                      "updated_at": "2025-08-05T06:53:06.390Z"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Remove a note",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/notes/{note_uid}"
        },
        "x-auth-type": "Application & Application User"
      },
      "get": {
        "description": "## Overview\nGet a note.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "note uid",
            "in": "path",
            "name": "note_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "note": {
                      "content": "some text",
                      "created_at": "2025-08-05T06:53:06.390Z",
                      "staff_uid": "ebe2e216a3ab3480",
                      "uid": "you37bj7mnbv372g",
                      "updated_at": "2025-08-05T06:53:06.390Z"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get a note",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/notes/{note_uid}"
        },
        "x-auth-type": "Application & Application User"
      },
      "put": {
        "description": "## Overview\nUpdate a note Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "note uid",
            "in": "path",
            "name": "note_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "note": {
                      "content": "some text",
                      "created_at": "2025-08-05T06:53:06.390Z",
                      "staff_uid": "ebe2e216a3ab3480",
                      "uid": "you37bj7mnbv372g",
                      "updated_at": "2025-08-05T06:53:06.390Z"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Update a note",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/notes/{note_uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "note": {
                    "properties": {
                      "content": {
                        "description": "A notes content",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters/{matter_uid}/reassign": {
      "put": {
        "description": "## Overview\nReassign staff to Matter Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Reassign staff to Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/reassign"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "notes": {
                    "description": "Notes for the message to staff",
                    "type": "string"
                  },
                  "reassign_future_meetings": {
                    "description": "true, false. default false",
                    "type": "boolean"
                  },
                  "staff_uid": {
                    "description": "Staff uid",
                    "type": "string"
                  }
                },
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/tags": {
      "put": {
        "description": "## Overview\nBulk add tags to one or more matters. This is the endpoint used by the product (e.g. with Staff token). Send `new_api: true`, `matters.uids` (array of matter UIDs), and `tags` (array of tag strings). Available for **Staff, App, and Directory tokens**. Requires packagable feature **tags_feature** (returns 401 when disabled).",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "Unauthorized - missing or invalid token, or missing tags_feature for the business."
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Bulk add tags to matters",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/tags"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "matters",
                  "tags"
                ],
                "properties": {
                  "new_api": {
                    "type": "boolean",
                    "description": "Set to true to use the bulk API behavior (recommended)."
                  },
                  "matters": {
                    "type": "object",
                    "required": [
                      "uids"
                    ],
                    "properties": {
                      "uids": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "List of matter UIDs to add tags to."
                      }
                    }
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of tag strings to add to the given matters."
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "description": "## Overview\nBulk remove tags from one or more matters. Same contract as PUT: send `matters.uids` (array of matter UIDs) and `tags` (array of tag strings to remove). Optional query param `new_api: true` (Frontage sends it). Available for **Staff, App, and Directory tokens**. Requires **tags_feature** (returns 401 when disabled). Frontend: `frontage/app/assets/frontage/app/crm/actions/client-tags/client-bulk-tags-controller.js.coffee` (customDELETE with body).",
        "parameters": [
          {
            "in": "query",
            "name": "new_api",
            "required": false,
            "description": "Set to true to use bulk API (Frontage sends this).",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "Unauthorized - missing or invalid token, or missing tags_feature."
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Bulk remove tags from matters",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/tags"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "matters",
                  "tags"
                ],
                "properties": {
                  "matters": {
                    "type": "object",
                    "required": [
                      "uids"
                    ],
                    "properties": {
                      "uids": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "List of matter UIDs to remove tags from."
                      }
                    }
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of tag strings to remove from the given matters."
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters/{matter_uid}/tags": {
      "delete": {
        "description": "## Overview\nRemove a tag from a single Matter (one matter_uid in path, one tag in body). For bulk remove use DELETE /v1/tags. Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": null,
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Remove a tag from a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/tags"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "tag": {
                    "description": "A tag to remove",
                    "type": "string"
                  }
                },
                "type": "object"
              }
            }
          }
        }
      },
      "get": {
        "description": "## Overview\nGets a list of tags of a Matter.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "tags": [
                      "tag1",
                      "tag2"
                    ]
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Gets a list of tags of a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/tags"
        },
        "x-auth-type": "Application & Application User"
      },
      "post": {
        "description": "## Overview\n**Deprecated.** Use **PUT /v1/tags** instead (bulk add with body `new_api`, `matters.uids`, `tags`). This endpoint adds a single tag to one matter. Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": null,
                  "success": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - missing or invalid token, or token accepted but business context mismatch (e.g. Staff token for a different business).",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "errors": [
                    {
                      "code": "unauthorized",
                      "message": "Unauthorized"
                    }
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "[Deprecated] Adds a tag to a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{matter_uid}/tags"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "tag"
                ],
                "properties": {
                  "tag": {
                    "description": "A new tag to add",
                    "type": "string",
                    "minLength": 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/matters/{uid}": {
      "get": {
        "description": "## Overview\nGets a Matter.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Matter UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "matter": {
                      "business_uid": "925cc2e8f097fbef",
                      "contacts": [
                        {
                          "display_name": "First name",
                          "uid": "c9i4nkl5tzp9o42k"
                        }
                      ],
                      "created_at": "2025-08-05T09:53:15.761+03:00",
                      "deleted": false,
                      "display_name": "First name",
                      "fields": [
                        {
                          "uid": "wmcd6d1u3re6pt0i",
                          "value": "Some text"
                        }
                      ],
                      "last_activity_action": null,
                      "last_activity_time": null,
                      "staff": {
                        "uid": "fc2ca1c54e528bc4"
                      },
                      "tags": [
                        "tag1",
                        "tag2"
                      ],
                      "uid": "ofnm9n27xfkaicde",
                      "updated_at": "2025-08-05T09:53:15.761+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Gets a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{uid}"
        },
        "x-auth-type": "Application & Application User"
      },
      "put": {
        "description": "## Overview\nUpdates a Matter.\n\n## Authentication\n**Available for Staff, App, and Directory tokens.**\n\n## Validation\n- `uid` (path parameter): Must be a valid matter UID that exists and is accessible to the authenticated user\n- `fields[].uid`: Each field UID must be a valid field that exists for this specific matter. Use `GET /business/clients/v1/matters/{uid}` to see available field UIDs.",
        "parameters": [
          {
            "description": "Matter UID. Must be a valid matter UID that exists and is accessible to the authenticated user.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "matter": {
                      "business_uid": "925cc2e8f097fbef",
                      "contacts": [
                        {
                          "display_name": "First name",
                          "uid": "c9i4nkl5tzp9o42k"
                        }
                      ],
                      "created_at": "2025-08-05T09:53:15.761+03:00",
                      "deleted": false,
                      "display_name": "First name",
                      "fields": [
                        {
                          "uid": "wmcd6d1u3re6pt0i",
                          "value": "Some text"
                        }
                      ],
                      "last_activity_action": null,
                      "last_activity_time": null,
                      "staff": {
                        "uid": "fc2ca1c54e528bc4"
                      },
                      "tags": [
                        "tag1",
                        "tag2"
                      ],
                      "uid": "ofnm9n27xfkaicde",
                      "updated_at": "2025-08-05T09:53:15.761+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Updates a Matter",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/matters/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "matter"
                ],
                "properties": {
                  "matter": {
                    "type": "object",
                    "properties": {
                      "fields": {
                        "description": "A list of fields to be updated. Each field UID must exist for this specific matter.",
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "uid": {
                              "description": "The field UID. Must be a valid custom_field that exists for this specific matter.",
                              "type": "string",
                              "x-reference-to": "custom_field"
                            },
                            "value": {
                              "description": "The field value to be updated",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/clients/v1/settings": {
      "get": {
        "description": "## Overview\nGet settings.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "settings": {
                      "terms": {
                        "options": [
                          "clients",
                          "patients",
                          "students",
                          "pets",
                          "cases",
                          "projects",
                          "properties",
                          "jobs",
                          "accounts",
                          "opportunities",
                          "vehicles"
                        ],
                        "selected": "clients"
                      }
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show business client settings",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/settings"
        },
        "x-auth-type": "Application & Application User"
      },
      "put": {
        "description": "## Overview\nUpdate settings Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "settings": {
                      "terms": {
                        "selected": "pets"
                      }
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Update business client settings",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/clients/v1/settings"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "settings"
                ],
                "properties": {
                  "settings": {
                    "type": "object",
                    "required": [
                      "terms"
                    ],
                    "properties": {
                      "terms": {
                        "type": "object",
                        "required": [
                          "selected"
                        ],
                        "properties": {
                          "selected": {
                            "description": "The terminology used to refer to clients in the business. Valid values: clients, patients, students, pets, cases, projects, properties, jobs, accounts, opportunities, vehicles",
                            "type": "string",
                            "enum": [
                              "clients",
                              "patients",
                              "students",
                              "pets",
                              "cases",
                              "projects",
                              "properties",
                              "jobs",
                              "accounts",
                              "opportunities",
                              "vehicles"
                            ]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/business/search/v1/views": {
      "get": {
        "summary": "Get all views",
        "description": "## Overview\nRetrieve all views for the authenticated business.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "name": "pinned",
            "in": "query",
            "description": "Filter by displayed views",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "views": [
                      {
                        "uid": "abc123def456",
                        "name": "All Clients",
                        "description": "View showing all active clients",
                        "view_type": "client",
                        "level": "account",
                        "columns": [
                          {
                            "label": "Client Name",
                            "type": "ContactFullName",
                            "identifier": "contact_full_name",
                            "sortable": true,
                            "sort_options": {}
                          },
                          {
                            "label": "Email",
                            "type": "Email",
                            "identifier": "email",
                            "sortable": false,
                            "sort_options": {}
                          },
                          {
                            "label": "Created At",
                            "type": "CreationDate",
                            "identifier": "created_at",
                            "sortable": true,
                            "sort_options": {}
                          }
                        ],
                        "filter": "[{\"key\":\"fields_filter.first_name\",\"label\":\"First Name\",\"value\":\"John\",\"type\":\"text\"}]",
                        "sorting_column": "contact_full_name",
                        "sorting_direction": "desc",
                        "order": 1,
                        "pinned": true
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views"
        ]
      },
      "post": {
        "summary": "Create a new view",
        "description": "## Overview\nCreate a new custom view - Create a new custom view - Available for **Staff, App, and Directory Tokens**.",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "view": {
                      "uid": "new456abc789",
                      "name": "Custom Client View",
                      "description": "My custom view for clients",
                      "view_type": "client",
                      "level": "staff",
                      "columns": [
                        {
                          "label": "Client Name",
                          "type": "ContactFullName",
                          "identifier": "contact_full_name",
                          "sortable": true,
                          "sort_options": {}
                        },
                        {
                          "label": "Phone",
                          "type": "Phone",
                          "identifier": "phone",
                          "sortable": false,
                          "sort_options": {}
                        }
                      ],
                      "filter": "[]",
                      "sorting_column": "contact_full_name",
                      "sorting_direction": "asc",
                      "order": 5,
                      "pinned": false
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "view": {
                    "type": "object",
                    "properties": {
                      "level": {
                        "type": "string",
                        "enum": [
                          "account",
                          "staff"
                        ],
                        "description": "View level. 'account' level views are visible to all staff members in the business, while 'staff' level views are private to the creating staff member."
                      },
                      "view_type": {
                        "type": "string",
                        "enum": [
                          "client"
                        ],
                        "description": "Type of view. Currently only 'client' views are supported."
                      },
                      "columns": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/ViewColumn"
                        },
                        "description": "Array of column definitions"
                      },
                      "sorting_column": {
                        "type": "string",
                        "enum": [
                          "matter_name_tokenized.raw",
                          "last_client_activity",
                          "first_name.raw",
                          "created_at",
                          "matter_name",
                          "photo_path",
                          "last_activity_time",
                          "contact_full_name",
                          "review_score",
                          "last_interaction"
                        ],
                        "description": "Column to sort by. Must be one of the allowed sorting column values."
                      },
                      "sorting_direction": {
                        "type": "string",
                        "enum": [
                          "asc",
                          "desc"
                        ],
                        "description": "Sort direction (asc or desc)"
                      },
                      "filter": {
                        "type": "string",
                        "description": "Filter configuration as a JSON-encoded string. Must be a valid JSON string that parses to either an object or array (e.g., \"{}\" or \"[]\"). Example: \"[{\\\"key\\\":\\\"fields_filter.first_name\\\",\\\"value\\\":\\\"John\\\"}]\"",
                        "x-reference-to": "view_filter"
                      },
                      "name": {
                        "type": "string",
                        "description": "View name"
                      },
                      "description": {
                        "type": "string",
                        "description": "View description"
                      },
                      "order": {
                        "type": "integer",
                        "description": "View order"
                      }
                    },
                    "required": [
                      "level",
                      "view_type",
                      "columns",
                      "sorting_column",
                      "sorting_direction",
                      "filter",
                      "name",
                      "description",
                      "order"
                    ]
                  }
                },
                "required": [
                  "view"
                ]
              }
            }
          }
        }
      }
    },
    "/business/search/v1/views/{uid}": {
      "get": {
        "summary": "Get a specific view",
        "description": "## Overview\nRetrieve a specific view by UID.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "description": "View UID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "description": "View type (system or custom)",
            "schema": {
              "type": "string",
              "enum": [
                "system",
                "custom"
              ]
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "view": {
                      "uid": "abc123def456",
                      "name": "All Clients",
                      "description": "View showing all active clients",
                      "view_type": "client",
                      "level": "account",
                      "columns": [
                        {
                          "label": "Client Name",
                          "type": "ContactFullName",
                          "identifier": "contact_full_name",
                          "sortable": true,
                          "sort_options": {}
                        },
                        {
                          "label": "Email",
                          "type": "Email",
                          "identifier": "email",
                          "sortable": false,
                          "sort_options": {}
                        }
                      ],
                      "filter": "[{\"key\":\"fields_filter.first_name\",\"label\":\"First Name\",\"value\":\"John\",\"type\":\"text\"}]",
                      "sorting_column": "contact_full_name",
                      "sorting_direction": "desc",
                      "order": 1,
                      "pinned": true
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views"
        ]
      },
      "put": {
        "summary": "Update a view",
        "description": "## Overview\nUpdate an existing view - Available for **Staff, App, and Directory Tokens**.\n\n## Request Body Requirements\nThe `view` object must contain **at least one updatable field** (e.g., `name`, `level`, `columns`, `filter`, `description`, `order`, `pinned`). Sending an empty view object will result in no changes being made.\n\n## Updatable Fields\n- `name`: View name\n- `description`: View description\n- `level`: View visibility level ('account' or 'staff')\n- `columns`: Array of column definitions\n- `filter`: Filter configuration (JSON string)\n- `sorting_column`: Column to sort by\n- `sorting_direction`: Sort direction ('asc' or 'desc')\n- `order`: Display order\n- `pinned`: Whether the view is displayed/pinned",
        "parameters": [
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "description": "View UID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "view": {
                      "uid": "abc123def456",
                      "name": "Updated View Name",
                      "description": "Updated description",
                      "view_type": "client",
                      "level": "staff",
                      "columns": [
                        {
                          "label": "Client Name",
                          "type": "ContactFullName",
                          "identifier": "contact_full_name",
                          "sortable": true,
                          "sort_options": {}
                        },
                        {
                          "label": "Tags",
                          "type": "Tags",
                          "identifier": "tags",
                          "sortable": false,
                          "sort_options": {}
                        }
                      ],
                      "filter": "[{\"key\":\"tags_filter\",\"label\":\"Tags\",\"value\":[\"important\"],\"type\":\"tags\"}]",
                      "sorting_column": "contact_full_name",
                      "sorting_direction": "asc",
                      "order": 2,
                      "pinned": false
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "view": {
                    "type": "object",
                    "description": "View object containing at least one updatable field. Cannot be empty.",
                    "minProperties": 1,
                    "properties": {
                      "level": {
                        "type": "string",
                        "enum": [
                          "account",
                          "staff"
                        ],
                        "description": "View level. 'account' level views are visible to all staff members in the business, while 'staff' level views are private to the creating staff member."
                      },
                      "name": {
                        "type": "string",
                        "description": "View name"
                      },
                      "description": {
                        "type": "string",
                        "description": "View description"
                      },
                      "columns": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/ViewColumn"
                        }
                      },
                      "filter": {
                        "type": "string",
                        "description": "Filter configuration as a JSON-encoded string. Must be a valid JSON string that parses to either an object or array (e.g., \"{}\" or \"[]\").",
                        "x-reference-to": "view_filter"
                      },
                      "sorting_column": {
                        "type": "string",
                        "description": "Column to sort by"
                      },
                      "sorting_direction": {
                        "type": "string",
                        "enum": [
                          "asc",
                          "desc"
                        ],
                        "description": "Sort direction"
                      },
                      "order": {
                        "type": "integer",
                        "description": "View display order"
                      },
                      "pinned": {
                        "type": "boolean",
                        "description": "Whether the view is displayed/pinned"
                      }
                    }
                  }
                },
                "required": [
                  "view"
                ]
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a view",
        "description": "## Overview\nDelete a custom view - Delete a custom view - Available for **Staff, App, and Directory Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "description": "View UID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "message": "View deleted successfully"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views"
        ]
      }
    },
    "/business/search/v1/views/bulk": {
      "post": {
        "summary": "Bulk update views",
        "description": "## Overview\nUpdate multiple views in bulk - Update multiple views in bulk - Available for **Staff, App, and Directory Tokens**.",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "message": "Views updated successfully"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "views": {
                    "type": "array",
                    "description": "Array of view updates. Each item contains the view UID and the fields to update at the same level (flat structure, NOT nested under 'updates').",
                    "items": {
                      "type": "object",
                      "properties": {
                        "uid": {
                          "type": "string",
                          "description": "View UID to update",
                          "x-reference-to": "view"
                        },
                        "pinned": {
                          "type": "boolean",
                          "description": "Whether the view is displayed/pinned"
                        },
                        "order": {
                          "type": "integer",
                          "description": "View display order"
                        },
                        "name": {
                          "type": "string",
                          "description": "View name"
                        }
                      },
                      "required": [
                        "uid"
                      ]
                    },
                    "example": [
                      {
                        "uid": "view_uid_1",
                        "pinned": true,
                        "order": 1
                      },
                      {
                        "uid": "view_uid_2",
                        "pinned": false,
                        "order": 2,
                        "name": "Updated Name"
                      }
                    ]
                  }
                },
                "required": [
                  "views"
                ]
              }
            }
          }
        }
      }
    },
    "/business/search/v1/views_columns": {
      "get": {
        "summary": "Get available columns",
        "description": "## Overview\nRetrieve all available columns for creating views.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "columns": [
                      {
                        "label": "Client Name",
                        "type": "ContactFullName",
                        "identifier": "contact_full_name",
                        "sortable": true,
                        "sort_options": {}
                      },
                      {
                        "label": "Email",
                        "type": "Email",
                        "identifier": "email",
                        "sortable": false,
                        "sort_options": {}
                      },
                      {
                        "label": "Phone",
                        "type": "Phone",
                        "identifier": "phone",
                        "sortable": false,
                        "sort_options": {}
                      },
                      {
                        "label": "Created At",
                        "type": "CreationDate",
                        "identifier": "created_at",
                        "sortable": true,
                        "sort_options": {}
                      },
                      {
                        "label": "Tags",
                        "type": "Tags",
                        "identifier": "tags",
                        "sortable": false,
                        "sort_options": {}
                      },
                      {
                        "label": "Last Activity",
                        "type": "LastActivityTime",
                        "identifier": "last_interaction",
                        "sortable": true,
                        "sort_options": {}
                      },
                      {
                        "label": "Review Score",
                        "type": "ReviewScore",
                        "identifier": "review_score",
                        "sortable": true,
                        "sort_options": {}
                      },
                      {
                        "label": "Contact Image",
                        "type": "ContactImage",
                        "identifier": "photo_path",
                        "sortable": true,
                        "sort_options": {}
                      },
                      {
                        "label": "Contact Status",
                        "type": "ContactStatus",
                        "identifier": "contact_status",
                        "sortable": false,
                        "sort_options": {}
                      },
                      {
                        "label": "Assigned Staff",
                        "type": "Staff",
                        "identifier": "contact_assigned_staff_uid",
                        "sortable": false,
                        "sort_options": {}
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "Views Columns"
        ]
      }
    },
    "/business/search/v1/view_filters": {
      "get": {
        "summary": "Get available filters",
        "description": "## Overview\nRetrieve all available filters for creating views.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "The format of the API authorization header should be: 'Authorization': \"Bearer API_TOKEN\"",
            "required": true,
            "x-example": "Bearer abc...123",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true,
                  "data": {
                    "filters": [
                      {
                        "category": "popular",
                        "label": "Popular Filters",
                        "order": 1,
                        "filters": [
                          {
                            "name": "contact_full_name",
                            "label": "Contact Full Name",
                            "type": "text",
                            "key": "fields_filter.first_name",
                            "options": {}
                          },
                          {
                            "name": "client_status",
                            "label": "Client Status",
                            "type": "multiselect",
                            "key": "client_data_associated_with_field_filter.status",
                            "options": {
                              "values": [
                                {
                                  "id": "lead",
                                  "display_value": "Lead"
                                },
                                {
                                  "id": "customer",
                                  "display_value": "Customer"
                                },
                                {
                                  "id": "loyal",
                                  "display_value": "Loyal"
                                },
                                {
                                  "id": "inactive",
                                  "display_value": "Inactive"
                                }
                              ]
                            }
                          },
                          {
                            "name": "tags",
                            "label": "Tags",
                            "type": "tags",
                            "key": "tags_filter",
                            "options": {
                              "values": [
                                "important",
                                "follow-up",
                                "new-client"
                              ]
                            }
                          },
                          {
                            "name": "assigned_staff",
                            "label": "Assigned Staff",
                            "type": "singleselect",
                            "key": "fields_filter.staff_ids",
                            "options": {
                              "values": [
                                {
                                  "id": "1",
                                  "display_value": "John Smith"
                                },
                                {
                                  "id": "2",
                                  "display_value": "Jane Doe"
                                }
                              ]
                            }
                          },
                          {
                            "name": "created_at",
                            "label": "Created At",
                            "type": "date",
                            "key": "created_at_filter",
                            "options": {}
                          }
                        ]
                      },
                      {
                        "category": "contact_info",
                        "label": "Contact Information",
                        "order": 2,
                        "filters": [
                          {
                            "name": "email",
                            "label": "Email",
                            "type": "text",
                            "key": "fields_filter.email",
                            "options": {}
                          },
                          {
                            "name": "firstname",
                            "label": "First Name",
                            "type": "text",
                            "key": "fields_filter.first_name",
                            "options": {}
                          },
                          {
                            "name": "lastname",
                            "label": "Last Name",
                            "type": "text",
                            "key": "fields_filter.last_name",
                            "options": {}
                          },
                          {
                            "name": "address",
                            "label": "Address",
                            "type": "text",
                            "key": "fields_filter.address",
                            "options": {}
                          },
                          {
                            "name": "review",
                            "label": "Review",
                            "type": "review",
                            "key": "review_filter",
                            "options": {}
                          },
                          {
                            "name": "appointment_state",
                            "label": "Appointment Status",
                            "type": "multiselect",
                            "key": "appointment_filter.state",
                            "options": {
                              "values": [
                                {
                                  "id": "requested",
                                  "display_value": "Pending approval"
                                },
                                {
                                  "id": "invited",
                                  "display_value": "Invited"
                                },
                                {
                                  "id": "scheduled",
                                  "display_value": "Scheduled"
                                },
                                {
                                  "id": "completed",
                                  "display_value": "Completed"
                                },
                                {
                                  "id": "cancelled",
                                  "display_value": "Cancelled"
                                },
                                {
                                  "id": "rejected",
                                  "display_value": "Declined"
                                }
                              ]
                            }
                          }
                        ]
                      },
                      {
                        "category": "comm_details",
                        "label": "Communication Details",
                        "order": 3,
                        "filters": [
                          {
                            "name": "unsubscribed",
                            "label": "Unsubscribed from Campaigns",
                            "type": "boolean",
                            "key": "fields_filter.unsubscribed",
                            "options": {}
                          },
                          {
                            "name": "email_blocked",
                            "label": "Email Blocked",
                            "type": "boolean",
                            "key": "fields_filter.email_blocked",
                            "options": {}
                          }
                        ]
                      },
                      {
                        "category": "smart",
                        "label": "Smart Filters",
                        "order": 5,
                        "filters": [
                          {
                            "name": "has_open_payments",
                            "label": "Has Open Payments",
                            "type": "smart",
                            "key": "matter_metadata_flat.payments.open",
                            "options": {
                              "description": "Clients who have outstanding payments"
                            }
                          },
                          {
                            "name": "has_approved_estimates",
                            "label": "Has Approved Estimates",
                            "type": "smart",
                            "key": "matter_metadata_flat.estimates.approved",
                            "options": {
                              "description": "Clients with approved estimates"
                            }
                          },
                          {
                            "name": "has_pending_estimates",
                            "label": "Has Pending Estimates",
                            "type": "smart",
                            "key": "matter_metadata_flat.estimates.pending",
                            "options": {
                              "description": "Clients with pending estimates"
                            }
                          },
                          {
                            "name": "marked_as_followup",
                            "label": "Marked for Follow-up",
                            "type": "smart",
                            "key": "matter_metadata_flat.collaborator.followup.staff123",
                            "options": {
                              "description": "Clients marked for follow-up by staff"
                            }
                          },
                          {
                            "name": "has_upcoming_bookings",
                            "label": "Has Upcoming Bookings",
                            "type": "smart",
                            "key": "matter_metadata_flat.bookings.scheduled",
                            "options": {
                              "description": "Clients with scheduled appointments"
                            }
                          },
                          {
                            "name": "new_inquiries",
                            "label": "New Inquiries",
                            "type": "smart",
                            "key": "matter_metadata_flat.messages.new_lead",
                            "options": {
                              "description": "Clients who are new leads"
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "tags": [
          "View Filters"
        ]
      }
    },
    "/platform/v1/clients": {
      "get": {
        "description": "## Overview\nRetrieves a paginated list of clients for the business. Supports searching by various attributes and filtering by update timestamp.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Search Term",
            "in": "query",
            "name": "search_term",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Search By - email/uid/phone/updated_at",
            "in": "query",
            "name": "search_by",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Specify the updated_at filter range, available operators for updated_at: gte, lte. example: updated_at[gte]=2019-01-01",
            "in": "query",
            "name": "updated_at",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number of results. Default: 1",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "How many items to return per page. Default: 25. Max: 100",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success - Returns list of clients matching the search criteria",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "clients": [
                      {
                        "address": "My Hourse, bellvue, seattle, wasinton",
                        "business_uid": "b1ed52cb3c5a6f87",
                        "campaign": "Source Campaign",
                        "channel": "Source Channel",
                        "created_at": "2025-08-05T06:56:27Z",
                        "custom_field1": "value1",
                        "custom_field2": "value2",
                        "custom_field3": "value3",
                        "customer_status": "lead",
                        "email": "clientemail@mail.com",
                        "first_name": "First Name",
                        "id": "czpvt3f246p4cw9i",
                        "last_name": "Last Name",
                        "mobile_phone": "+16378383489",
                        "normalized_phone": null,
                        "opt_in": "1",
                        "source": "Client Portal",
                        "source_url": "Source URL",
                        "tags": [],
                        "updated_at": "2025-08-05T06:56:27Z"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - Invalid request parameters"
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded for this business"
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Clients",
        "tags": [
          "Clients"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients"
        },
        "x-auth-type": "Application & Application User"
      },
      "post": {
        "description": "## Overview\nCreates a new client record for the business. If a client with the same email already exists, returns a 409 Conflict error.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client": {
                      "address": "Some big house in Hollywood 9",
                      "created_at": "2025-08-05T06:56:28Z",
                      "customer_status": "customer",
                      "email": "michael.douglass@spartacus.info.fake",
                      "first_name": "Michael",
                      "id": "fgrayekkrmqfzt7d",
                      "last_name": "Douglas",
                      "mobile_phone": "+19083073848",
                      "opt_in": null,
                      "source_data": {
                        "campaign": "campaign",
                        "channel": "channel",
                        "name": "website",
                        "website_url": "www.somesite.com"
                      },
                      "spam": false,
                      "tags": [
                        "tag1",
                        "tag2"
                      ],
                      "updated_at": "2025-08-05T06:56:28Z"
                    },
                    "token": "eyJhbGciOiJIUzI1NiJ9.eyJlbnRpdHlfdWlkIjoiZmdyYXlla2tybXFmenQ3ZCIsImV4dHJhIjp7ImJ1c2luZXNzX3VpZCI6ImIxZWQ1MmNiM2M1YTZmODcifSwiZXhwIjoxNzU2Nzk2MTg4LCJyZWZyZXNoIjoxNzU2Nzc2OTg4LCJjcmVhdGVkIjoxNzU0Mzc2OTg4LCJ0eXBlIjoiY2xpZW50IiwianRpIjoiZWQxNGY0MWViY2RlZGU1ODEyYjFkY2ZiZDBkMDE3MmI5ZThjODlhNGRlM2UzYmU1OTIyNGE4OWFmMmQ2OWU2NyJ9.D0OMzkIJ4sPAYuAduQxPRnu9_ScVCK-9Td1eROv8eSM"
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Create a Client",
        "tags": [
          "Clients"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "address": {
                    "description": "Address",
                    "type": "string"
                  },
                  "custom_field1": {
                    "description": "Custom Field 1",
                    "type": "string"
                  },
                  "custom_field2": {
                    "description": "Custom Field 2",
                    "type": "string"
                  },
                  "custom_field3": {
                    "description": "Custom Field 3",
                    "type": "string"
                  },
                  "email": {
                    "description": "Email Address. Must be a valid email format (e.g., user@example.com)",
                    "type": "string",
                    "format": "email"
                  },
                  "first_name": {
                    "description": "First Name",
                    "type": "string"
                  },
                  "last_name": {
                    "description": "Last Name",
                    "type": "string"
                  },
                  "opt_in_transactional_sms": {
                    "description": "Whether the client opts in to receive transactional SMS messages.",
                    "type": "boolean"
                  },
                  "phone": {
                    "description": "Phone Number",
                    "type": "string"
                  },
                  "source_campaign": {
                    "description": "Source campaign",
                    "type": "string"
                  },
                  "source_channel": {
                    "description": "Source channel",
                    "type": "string"
                  },
                  "source_name": {
                    "description": "Source name",
                    "type": "string"
                  },
                  "source_url": {
                    "description": "Source URL",
                    "type": "string"
                  },
                  "staff_id": {
                    "description": "Staff ID. Reference to the staff member (see staff entity).",
                    "type": "string",
                    "x-reference-to": "staff"
                  },
                  "status": {
                    "description": "Use a client status to categorize clients according to their relationship with your business. Valid values: lead, customer, loyal, inactive",
                    "type": "string",
                    "enum": [
                      "lead",
                      "customer",
                      "loyal",
                      "inactive"
                    ]
                  },
                  "tags": {
                    "description": "The tag system is based on customized labels that you create, so you can sort your data using personalized words, phrases or themes that are meaningful to you and your business",
                    "type": "string"
                  }
                },
                "required": [
                  "first_name"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/platform/v1/clients/merges/merge_clients": {
      "put": {
        "description": "## Overview\nMerge two or more duplicate clients into one primary client.\n\n## Authentication\n**Available for Staff, App, and Directory tokens.**\n\n## Query Parameters\n- `to_client_uid` (required): UID of the destination primary client\n- `from_client_uids` (required): Comma-separated UIDs of clients to merge into the primary client\n\n## Business Rules\n- Clients must represent different contact persons to be merged\n- Clients related to the same contact cannot be merged (returns 422 error)\n- Use `GET /platform/v1/clients/merges/possible_merge_master` to check merge eligibility first\n\n## Request Body\nThe request body can be empty but must be sent (e.g., `{}`).",
        "parameters": [
          {
            "description": "UID of the destination primary client.",
            "in": "query",
            "name": "to_client_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "UIDs of all the clients to be merged into the to_client_uid, as a non-empty comma-separated string (e.g., 'uid1,uid2').",
            "in": "query",
            "name": "from_client_uids",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success. Response includes master_ids (array of primary client UIDs) and clients (array of decorated client objects).",
            "content": {
              "application/json": {
                "example": {
                  "master_ids": [
                    "80g6241rk3zldz2h"
                  ],
                  "clients": [],
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Merge duplicate clients into a primary client.",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/merges/merge_clients"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "The request body. It can be empty but must still be sent.",
                "properties": {},
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/platform/v1/clients/merges/possible_merge_master": {
      "get": {
        "description": "## Overview\nReturns a list of client UIDs that can be used as a primary client for the merge.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**\n\n## Required Parameters\n- `client_ids` (required): Comma-separated client UIDs to check for merge eligibility.\n\n## Business Rules\n- **Clients with multiple matters cannot be merged** - If any selected client has more than one matter/project, the merge is not allowed\n- Returns 422 if multiple clients are related to the same contact (e.g., pets belonging to the same owner)\n- Clients must be independent contacts to be eligible for merge\n- The error message format is: '{Term} cannot be merged since you selected more than 1 {term} related to the same contact'",
        "parameters": [
          {
            "description": "List of client UIDs to check for merge eligibility, as a non-empty comma-separated string (e.g., 'uid1,uid2').",
            "in": "query",
            "name": "client_ids",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "master_ids": [
                    "80g6241rk3zldz2h",
                    "06h6m891ub6d2rx3"
                  ],
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "List of clients that can be used as primary for merge.",
        "tags": [
          "Matters"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/merges/possible_merge_master"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/platform/v1/clients/payment/client_packages/update_usage": {
      "post": {
        "description": "## Overview\nUpdate client package payment status (use a package credit).\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Note\nThere is also a Staff-facing version at `/platform/v1/payment/client_packages/update_usage` that accepts **Staff, App, and Directory tokens**.\n\n## Prerequisites\nThe client must have active packages with available sessions for the service referenced in the `payment_status_id`. Returns 422 \"There is no package to use\" if no suitable packages exist.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Package credit successfully applied to the payment status. The payment status is marked as paid with price 0, and a booking credit redemption record is created.",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "package_name": "Package Name"
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Validation error - The request was valid but could not be processed. Common reasons include: no suitable package exists for the service, the payment status is already paid, or the client has no active packages with available credits for this service.",
            "content": {
              "application/json": {
                "example": {
                  "error": "There is no package to use",
                  "status": "Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - May occur due to a known bug when the payment_status_id references a virtual booking that fails to be retrieved. The error message will contain 'undefined local variable or method `exception''. To avoid this, ensure the payment_status_id references a regular payment status that exists in the client's payment history.",
            "content": {
              "application/json": {
                "example": {
                  "error": "undefined local variable or method `exception' for Components::Payments::ClientPackagesAPI:Module",
                  "status": "Error"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Use Client Package Credit [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/payment/client_packages/update_usage"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payment_status_id": {
                    "description": "Payment status ID - Must reference a pending/unpaid payment status. Already paid statuses will return 422 error 'Payment status is already paid'.",
                    "type": "string",
                    "x-reference-to": "payment_status"
                  }
                },
                "required": [
                  "payment_status_id"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/platform/v1/clients/payment/client_packages/validate": {
      "get": {
        "description": "## Overview\nValidate client package payment status. Checks if a client has an active package with available credits for the service associated with the given payment status.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Constraints\n- The `payment_status_id` must reference a pending/unpaid payment status\n- Already paid statuses return 422 error 'Payment status is already paid'",
        "parameters": [
          {
            "description": "Payment status ID - must be a pending/unpaid payment status",
            "in": "query",
            "name": "payment_status_id",
            "required": true,
            "x-reference-to": "payment_status",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Validation Occurred - Returns has_package=true if a suitable package exists",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "has_package": true
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error - Common reasons: payment_status_id is already paid, or references an invalid payment status",
            "content": {
              "application/json": {
                "example": {
                  "error": "Payment status is already paid",
                  "status": "Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - Known bug: May occur when the payment_status_id parameter is missing, empty, or references a virtual booking that cannot be retrieved. The error message contains 'undefined local variable or method `exception''. To avoid this, ensure the payment_status_id is provided and references a valid payment status from the client's payment history.",
            "content": {
              "application/json": {
                "example": {
                  "error": "undefined local variable or method `exception' for Components::Payments::ClientPackagesAPI:Module",
                  "status": "Error"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Validate Client Package has redemption [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/payment/client_packages/validate"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/platform/v1/clients/{client_id}": {
      "delete": {
        "description": "## Overview\nDeletes a Client Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client": {
                      "address": "My Hourse, bellvue, seattle, wasinton",
                      "campaign": "Source Campaign",
                      "channel": "Source Channel",
                      "created_at": "2025-08-05T06:56:27Z",
                      "custom_field1": "value1",
                      "custom_field2": "value2",
                      "custom_field3": "value3",
                      "customer_status": "inactive",
                      "email": "clientemail@mail.com.dczpvt3f246p4cw9i",
                      "first_name": "First Name",
                      "id": "czpvt3f246p4cw9i",
                      "last_name": "Last Name",
                      "matter_term": "clients",
                      "matters": [],
                      "mobile_phone": "+16378383489",
                      "normalized_phone": null,
                      "opt_in": "1",
                      "source": "Client Portal",
                      "source_url": "Source URL",
                      "tags": [],
                      "updated_at": "2025-08-05T06:56:28Z"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Deletes a Client by Id",
        "tags": [
          "Clients"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}"
        },
        "x-auth-type": "Application & Application User"
      },
      "get": {
        "description": "## Overview\nRetrieves a Client.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client": {
                      "address": "My Hourse, bellvue, seattle, wasinton",
                      "campaign": "Source Campaign",
                      "channel": "Source Channel",
                      "created_at": "2025-08-05T06:56:27Z",
                      "custom_field1": "value1",
                      "custom_field2": "value2",
                      "custom_field3": "value3",
                      "customer_status": "lead",
                      "email": "clientemail@mail.com",
                      "first_name": "First Name",
                      "id": "czpvt3f246p4cw9i",
                      "last_name": "Last Name",
                      "matter_term": "clients",
                      "matters": [
                        {
                          "display_name": "First Name Last Name",
                          "fields": [],
                          "uid": "eb28o6g7ad6q2ya8"
                        }
                      ],
                      "mobile_phone": "+16378383489",
                      "normalized_phone": null,
                      "opt_in": "1",
                      "source": "Client Portal",
                      "source_url": "Source URL",
                      "tags": [],
                      "updated_at": "2025-08-05T06:56:27Z"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Retrieves a Client by Id",
        "tags": [
          "Clients"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}"
        },
        "x-auth-type": "Application & Application User"
      },
      "put": {
        "description": "## Overview\nUpdate a Client Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client": {
                      "address": "My Hourse, bellvue, seattle, wasinton",
                      "created_at": "2025-08-05T06:56:27Z",
                      "customer_status": "lead",
                      "email": "clientemail@mail.com",
                      "first_name": "NEWFIRSTNAME",
                      "id": "czpvt3f246p4cw9i",
                      "last_name": "Last Name",
                      "mobile_phone": "+16378383489",
                      "opt_in": "1",
                      "spam": false,
                      "tags": [],
                      "updated_at": "2025-08-05T06:56:28Z"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Updates a Client",
        "tags": [
          "Clients"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "address": {
                    "description": "Address. Send `null` or `\"\"` to clear this field if force_nullifying is true.",
                    "type": "string"
                  },
                  "created_at": {
                    "description": "Client creation date. Read-only - automatically managed by the system and ignored in updates.",
                    "type": "string",
                    "readOnly": true
                  },
                  "custom_field1": {
                    "description": "Custom Field 1",
                    "type": "string"
                  },
                  "custom_field2": {
                    "description": "Custom Field 2",
                    "type": "string"
                  },
                  "custom_field3": {
                    "description": "Custom Field 3",
                    "type": "string"
                  },
                  "email": {
                    "description": "Email Address. Must be a valid email format (e.g., user@example.com)",
                    "type": "string",
                    "format": "email"
                  },
                  "first_name": {
                    "description": "First Name",
                    "type": "string"
                  },
                  "force_nullifying": {
                    "description": "If true, allows nullable fields (address, mobile_phone) to be cleared by sending `null` or empty string. Must be boolean true or string \"true\".",
                    "type": "boolean"
                  },
                  "last_name": {
                    "description": "Last Name",
                    "type": "string"
                  },
                  "mobile_phone": {
                    "description": "Phone Number. Send `null` or `\"\"` to clear this field if force_nullifying is true.",
                    "type": "string"
                  },
                  "phone": {
                    "description": "Phone Number",
                    "type": "string"
                  },
                  "spam": {
                    "description": "Client marked as spam",
                    "type": "boolean"
                  },
                  "staff_id": {
                    "description": "Staff ID",
                    "type": "string"
                  },
                  "status": {
                    "description": "Use a client status to categorize clients according to their relationship with your business. Valid values: lead, customer, loyal, inactive",
                    "type": "string",
                    "enum": [
                      "lead",
                      "customer",
                      "loyal",
                      "inactive"
                    ]
                  },
                  "tags": {
                    "description": "The tag system is based on customized labels that you create, so you can sort your data using personalized words, phrases or themes that are meaningful to you and your business",
                    "type": "string"
                  },
                  "updated_at": {
                    "description": "Client last update date. Read-only - automatically managed by the system and ignored in updates.",
                    "type": "string",
                    "readOnly": true
                  }
                },
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/platform/v1/clients/{client_id}/conversations": {
      "get": {
        "description": "## Overview\nGets a list of conversations for a client.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "Results per page (default: 25, max: 50)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "conversations": [
                      {
                        "business_id": "2f27ca024eb96133",
                        "business_unread": false,
                        "client_id": "od0tuoli2prraw3y",
                        "client_unread": false,
                        "created_at": "2025-08-05T06:56:33.583Z",
                        "deep_link": "/app/conversations/uuk21b7xv53er6zq",
                        "id": "uuk21b7xv53er6zq",
                        "last_business_action": "",
                        "last_client_action": null,
                        "staff_id": "6ad7601fd821c8d2",
                        "title": null,
                        "updated_at": "2025-08-05T06:56:33.583Z"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Conversations For A Client",
        "tags": [
          "Conversations"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}/conversations"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/platform/v1/clients/{client_id}/documents": {
      "get": {
        "description": "## Overview\nGets a list of documents for a client.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number of results. Default: 1",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "How many items to return per page. Default: 25. Max: 100",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "documents": []
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Documents For A Client",
        "tags": [
          "Documents"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}/documents"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/platform/v1/clients/{client_id}/estimates": {
      "get": {
        "description": "## Overview\nGets a list of estimates for a client.\n\n## Authentication\n**Available for Directory tokens only.** Requires `X-On-Behalf-Of` header with the business UID.\n\n**Note**: Staff OAuth tokens fail with 422 'Unauthorized' even with `payments.manage` permission due to authorization type mismatch in the backend. Use Directory tokens with `X-On-Behalf-Of` header instead.\n\n**Note on Authorization Header**: Both `Authorization: Bearer <token>` and legacy `Authorization: Token <token>` formats are supported.\n\n## Error Responses\nAuthorization failures return HTTP 422 with `{status:'Error', error:'Unauthorized'}` rather than 401/403.",
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "client's id",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Filter by created_at, updated_at, state. state values: issued, approved, draft, invoiced, rejected. available operators for created_at and updated_at: gt, gte, lt, lte, eq. available operators for state: in. example: filter[created_at][gt]=2019-01-01, filter[state][in]=issued,rejected",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at, state. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Estimates Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "estimates": [
                      {
                        "address": "habarzel 32\\nTel Aviv",
                        "amount": 8.8,
                        "client_address": "Lombard St, San Francisco, CA",
                        "client_id": "kf9d91uh82bclson",
                        "client_name": "Alice Smith",
                        "conversation_id": "rv28qk5ey5eretu9",
                        "created_at": "2018-06-14T09:31:21.000",
                        "currency": "USD",
                        "due_date": "2018-06-14",
                        "estimate_date": "2018-06-14",
                        "estimate_number": "1",
                        "id": "aaabbbccc112233",
                        "items": [
                          {
                            "amount": 10,
                            "description": "Service Description",
                            "discount": 2,
                            "quantity": 1,
                            "taxes": [
                              {
                                "name": "10 tax",
                                "rate": 10
                              }
                            ],
                            "title": "Item title"
                          }
                        ],
                        "note": "Estimate for your service",
                        "source_data": {
                          "campaign": null,
                          "channel": "",
                          "name": "client_portal",
                          "website_url": null
                        },
                        "staff_id": "mg9d34uh92bclwzg",
                        "status": "draft/issued/approved/rejected/invoiced",
                        "title": "Estimate title"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Unauthorized - User does not have permission to access this client's estimates",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "error": "Unauthorized"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Estimates Of Client",
        "tags": [
          "Estimates"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.client_id": "method.request.path.client_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}/estimates"
        },
        "x-auth-type": "Application"
      }
    },
    "/platform/v1/clients/{client_id}/invoices": {
      "get": {
        "description": "## Overview\nGets a list of invoices for a client.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**\n\n## Prerequisites\n**Requires business feature `invoicing_features`** (payments module) to be enabled. Returns 403 Forbidden or 422 Unauthorized if the feature is not enabled.\n\n## Error Responses\n- **403 Forbidden**: Business does not have invoicing_features enabled\n- **422 Unauthorized**: `{status:'Error', error:'Unauthorized'}` - Legacy error format for feature gate failures",
        "parameters": [
          {
            "description": "client's id",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Filter by created_at, updated_at, state. state values: issued, draft, declined. available operators for created_at and updated_at: gt, gte, lt, lte, eq. available operators for state: in. example: filter[created_at][gt]=2019-01-01, filter[state][in]=issued,draft",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at, state. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Invoices Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoices": [
                      {
                        "address": "habarzel 32\\nTel Aviv",
                        "allow_online_payment": true,
                        "amount": 8.8,
                        "client_id": "aaabbbccc112233",
                        "conversation_id": "rv28qk5ey5eretu9",
                        "created_at": "2018-06-14T09:31:21.000",
                        "currency": "USD",
                        "due_date": "2018-06-14",
                        "id": "aaabbbccc112233",
                        "invoice_number": "6",
                        "issued_at": "2018-06-14",
                        "items": [
                          {
                            "amount": 10,
                            "description": "Service Description",
                            "discount": 2,
                            "quantity": 1,
                            "taxes": [
                              {
                                "name": "10 tax",
                                "rate": 10
                              }
                            ],
                            "title": "Item title"
                          }
                        ],
                        "note": "Invoice for your service",
                        "payment_balance": 5,
                        "payment_state": "pending",
                        "source_data": {
                          "campaign": null,
                          "channel": "",
                          "name": "client_portal",
                          "website_url": null
                        },
                        "staff_id": "mg9d91uh92bclwzg",
                        "status": "issued/draft",
                        "title": "Invoice Title"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Invoices Of Client",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.client_id": "method.request.path.client_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}/invoices"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/platform/v1/clients/{client_id}/payments": {
      "get": {
        "description": "## Overview\nGets a list of payments for a client.\n\n## Authentication\n**Available for Staff, App, and Directory Tokens.**",
        "parameters": [
          {
            "description": "client's id",
            "in": "path",
            "name": "client_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: state: filter[state][in]=paid,pending,failed,refunded,cancelled,archived,incompleted.\n                                                                        created_at: filter[created_at][eq/lt/lte/gt/gte]=2023-01-01 or 2023-01-01 09:30:00.\n                                                                        updated_at: filter[updated_at][eq/lt/lte/gt/gte]=2023-01-01 or 2023-01-01 09:30:00.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at.\n                                                                      Available operators: asc, desc.\n                                                                      Example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Payments Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payments": [
                      {
                        "amount": 300,
                        "charged_at": "23/4/2019 09:00:00",
                        "client_id": "12344",
                        "conversation_id": "1234",
                        "currency": "USD",
                        "fees": [
                          {
                            "amount": 13,
                            "name": "Taylor Swift Fee"
                          }
                        ],
                        "id": "1234",
                        "note": "Payment Note",
                        "offline": true,
                        "other_payment_method": "bit",
                        "payment_method": "cash/check",
                        "payment_requests": [
                          {
                            "id": "1246"
                          }
                        ],
                        "reference": "123",
                        "state": "paid/refunded",
                        "tips": [
                          {
                            "amount": 100
                          }
                        ],
                        "title": "Payment Title"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Unauthorized - User does not have permission to access this client's payments",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "error": "Unauthorized"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Payments of Client",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.client_id": "method.request.path.client_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/{client_id}/payments"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client_api/v1/portals/{business_uid}/contact/get_form": {
      "get": {
        "description": "## Overview\nGets the leave details form of the business.\n\n## Authentication\n**Available for Client Tokens only.**",
        "parameters": [
          {
            "description": "business_uid",
            "in": "path",
            "name": "business_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "description": "Please fill out your details below so we can process your request.",
                    "sections": [
                      {
                        "description": "Please fill out your details below so we can process your request.",
                        "fields": [
                          [
                            {
                              "hidden": false,
                              "id": "subject",
                              "label": "Subject",
                              "required": true,
                              "type": "subject"
                            }
                          ],
                          [
                            {
                              "hidden": false,
                              "id": "message",
                              "label": "Message",
                              "required": true,
                              "type": "multiline"
                            }
                          ]
                        ],
                        "title": "",
                        "type": "message_info"
                      },
                      {
                        "description": "translation missing: en.settings.forms.leave_details.section.client_details.description",
                        "editable": true,
                        "fields": [
                          [
                            {
                              "default_value": "",
                              "id": "6tg9ode4uj2accvx",
                              "keep_asking": false,
                              "label": "email_label",
                              "object_type": "contact",
                              "required": true,
                              "type": "email"
                            }
                          ],
                          [
                            {
                              "default_value": "",
                              "id": "qkq65wh8577vio6q",
                              "keep_asking": false,
                              "label": "firstname_label",
                              "object_type": "contact",
                              "required": true,
                              "type": "firstname"
                            }
                          ]
                        ],
                        "title": "Client Info",
                        "type": "fields"
                      },
                      {
                        "description": "Enter a message you want your clients to read before they submit",
                        "fields": [
                          [
                            {
                              "default_value": "",
                              "enabled": false,
                              "label": "Business policy",
                              "type": "policy"
                            }
                          ]
                        ],
                        "title": "Business policy",
                        "type": "policies"
                      }
                    ],
                    "title": "Leave details form",
                    "type": "leave_details"
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Leave Details Form",
        "tags": [
          "Forms"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client_api/v1/portals/{business_uid}/contact/get_form"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client_api/v1/portals/{business_uid}/contact/submit": {
      "post": {
        "description": "## Overview\nSubmits Leave Details Form to the business.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Required Fields\nBefore submitting, call `GET /client_api/v1/portals/{business_uid}/contact/get_form` to discover required fields for the business's form configuration.\n\nFor the default `leave_details` form, `subject` and `message` are typically required fields. Any field marked with `required: true` in the form response must be provided with a non-empty value, or the API returns HTTP 422.\n\n## Request Body Structure\nThe `form_data.fields` object is a dynamic map where keys are field IDs and values are the field values. Field IDs can be obtained from the GET form response.",
        "parameters": [
          {
            "description": "business_uid",
            "in": "path",
            "name": "business_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "auto_reply_message": null,
                    "conversation_uid": "ppnmz70yqxltzz6j",
                    "id": 22,
                    "token": "eyJhbGciOiJIUzI1NiJ9.eyJlbnRpdHlfdWlkIjoibzlkaTExdTd6dHU5NjFqOSIsImV4dHJhIjp7ImJ1c2luZXNzX3VpZCI6ImZiMGMyM2ZmN2UxNDI1NjgifSwiZXhwIjoxNzU2Nzk2MTkyLCJyZWZyZXNoIjoxNzU2Nzc2OTkyLCJjcmVhdGVkIjoxNzU0Mzc2OTkyLCJ0eXBlIjoiY2xpZW50IiwianRpIjoiMzg3NjAzNjY5MWY0YjY2M2Y2ZTk4MzM2MjA3MGM4NjZiYTdjOTg3YzVhYWRhMDgyMWVmNjQ0N2M4NTgzMjM2YyJ9.dGLJUl9kJd9G9F5h_CLEHO4oDCCTGXSEfKlOhJRP90o",
                    "uid": "xlc8czadb3tyag1k"
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error - Empty or missing required fields. Use GET .../contact/get_form to discover required field IDs.",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "field": "subject",
                      "message": "This field cannot be empty"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Submits Leave Details Form",
        "tags": [
          "Forms"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client_api/v1/portals/{business_uid}/contact/submit"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "form_data"
                ],
                "properties": {
                  "form_data": {
                    "type": "object",
                    "required": [
                      "fields"
                    ],
                    "description": "Form data containing field values. This is an object (NOT an array) with a 'fields' property.",
                    "properties": {
                      "fields": {
                        "type": "object",
                        "description": "Dynamic map of field IDs to values. Field IDs include fixed keys like 'subject' and 'message', plus any custom field IDs from the form configuration. Get valid field IDs from GET /client_api/v1/portals/{business_uid}/contact/get_form.",
                        "additionalProperties": {
                          "type": "string"
                        },
                        "example": {
                          "subject": "Contact inquiry",
                          "message": "Hello, I would like more information"
                        }
                      }
                    }
                  },
                  "source_data": {
                    "type": "object",
                    "properties": {
                      "isWidget": {
                        "description": "Whether the form was submitted from a widget. **Must be a boolean value (true/false), not a string.**",
                        "type": "boolean"
                      },
                      "o": {
                        "description": "The origin type in Base64",
                        "type": "string"
                      },
                      "s": {
                        "description": "The source url",
                        "type": "string"
                      },
                      "topUrl": {
                        "description": "The top url in Base64",
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/client_api/v1/portals/{business_uid}/share_documents_form/get_form": {
      "get": {
        "description": "## Overview\nGets the share documents form of the business.\n\n## Authentication\n**Available for Client Tokens only.**",
        "parameters": [
          {
            "in": "path",
            "name": "business_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Share Documents Form",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "description": "Please fill out your details below so we can process your request.",
                      "sections": [
                        {
                          "description": "Please fill out your details below so we can process your request.",
                          "fields": [
                            [
                              {
                                "id": "documents",
                                "label": "Select your files",
                                "required": true,
                                "type": "documents"
                              }
                            ],
                            [
                              {
                                "id": "title",
                                "label": "Document Title",
                                "required": false,
                                "type": "title"
                              }
                            ],
                            [
                              {
                                "id": "message",
                                "label": "Message",
                                "required": false,
                                "type": "multiline"
                              }
                            ]
                          ],
                          "title": "",
                          "type": "message_info"
                        },
                        {
                          "description": "Please fill out your details below so we can process your request.",
                          "editable": true,
                          "fields": [
                            {
                              "default_value": "",
                              "id": "0tq0ikpkf6amyo6",
                              "keep_asking": false,
                              "required": false,
                              "type": "singleline"
                            }
                          ],
                          "title": "",
                          "type": "fields"
                        },
                        {
                          "description": "Enter a message you want your clients to read before they submit",
                          "fields": [
                            {
                              "default_value": "",
                              "enabled": true,
                              "label": "Business policy",
                              "type": "policy"
                            }
                          ],
                          "title": "Business policy",
                          "type": "policies"
                        }
                      ],
                      "title": "Share documents form",
                      "type": "share_documents"
                    }
                  ],
                  "status": "OK"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Share Documents Form",
        "tags": [
          "Forms"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client_api/v1/portals/{business_uid}/share_documents_form/get_form"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client_api/v1/portals/{business_uid}/share_documents_form/submit": {
      "post": {
        "description": "## Overview\nSubmits Share Documents Form to the business.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Critical Requirement\nThe `matter_uid` query parameter must reference a matter with an assigned staff member. Without this, the endpoint returns 500 due to a server-side bug.\n\n## Request Format\nThis endpoint requires `multipart/form-data` format with actual binary file uploads (not JSON). Documents must be uploaded as form fields with proper content types.\n\n## Important: Field Naming Convention\n**Document fields MUST use explicit numeric indices** (e.g., `[0]`, `[1]`), NOT empty brackets `[]`.\n\n- Correct: `form_data[fields][documents][0]=@file.pdf`\n- Wrong: `form_data[fields][documents][]=@file.pdf` (causes 500 error)\n\nThis is because the server expects a Hash structure, not an Array.\n\n## Captcha\nWhen the business has the `captcha_intake_form` feature enabled, a valid `captcha_token` is required.\n\n## Example cURL\n```bash\ncurl -X POST 'https://api.vcita.biz/client_api/v1/portals/{business_uid}/share_documents_form/submit?matter_uid={matter_uid}' \\\n  -H 'Authorization: Bearer {token}' \\\n  -F 'form_data[fields][title]=My Document' \\\n  -F 'form_data[fields][message]=Please review' \\\n  -F 'form_data[fields][documents][0]=@file.pdf;type=application/pdf'\n```",
        "parameters": [
          {
            "in": "path",
            "name": "business_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "description": "The matter/conversation UID to associate with the document upload. **Critical**: The matter must have an assigned staff member to avoid 500 errors.",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "formData",
            "name": "form_data[fields][title]",
            "description": "Document title",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "formData",
            "name": "form_data[fields][message]",
            "description": "Message accompanying the documents",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "formData",
            "name": "form_data[fields][documents][0]",
            "required": true,
            "description": "File to upload. **Important**: Use explicit indices `[0]`, `[1]`, etc. - NOT empty brackets `[]`. For multiple files, use `form_data[fields][documents][0]`, `form_data[fields][documents][1]`, etc.",
            "schema": {
              "type": "file"
            }
          },
          {
            "in": "formData",
            "name": "captcha_token",
            "description": "reCAPTCHA token. Required when business has captcha_intake_form feature enabled.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success - Documents submitted successfully.",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "id": 142055507,
                    "uid": "gpybls1zgpmono0o",
                    "conversation_uid": "hf3gtvitw2ycg3ix",
                    "auto_reply_message": "Thank you for your message."
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error or Business Blocked.\n\n**Validation Error**: Missing required fields like documents.\n\n**Business Blocked**: When the business is flagged as spammer or user access is blocked, returns 422 with NO explicit error message - only `auto_reply_message` in the data object. This \"silent error\" makes it impossible to diagnose the failure from the response alone.\n\n**Triggers for silent 422**:\n- Business is marked as spammer (rate limiting)\n- User access is blocked\n- Message contains spam keywords",
            "content": {
              "validation_error": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "field": "documents",
                      "message": "Documents are required"
                    }
                  ],
                  "success": false
                }
              },
              "business_blocked_silent_error": {
                "example": {
                  "status": "Error",
                  "data": {
                    "auto_reply_message": "Thank you for your message."
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error.\n\n**Bug 1: Empty JSON Body**\nSending `Content-Type: application/json` with `{}` body causes nil access error.\n\n**Bug 2: Missing Staff on Matter**\nOccurs when the matter does not have an assigned staff member. The server accesses `conversation.staff.can_receive_sms?` without nil-checking.\n\n**Workaround**: Ensure the `matter_uid` parameter references a matter with an assigned staff member. Use `PUT /business/clients/v1/matters/{matter_uid}/reassign` to assign staff before calling this endpoint.",
            "content": {
              "empty_body_error": {
                "example": {
                  "error": "undefined method `[]' for nil:NilClass",
                  "status": "Error"
                }
              },
              "nil_staff_error": {
                "example": {
                  "error": "undefined method `can_receive_sms?' for nil:NilClass",
                  "status": "Error"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Submits Share Documents Form",
        "tags": [
          "Forms"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client_api/v1/portals/{business_uid}/share_documents_form/submit"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/apps/primary_provider_connected_application": {
      "get": {
        "description": "## Overview\nGet External Connected Payment Application.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Prerequisites\nRequires a payment application (app_type=payments) to be installed and **fully connected** for the business. Returns 422 if no connected payment app exists.\n\n### What \"Fully Connected\" Means\nA payment app is considered fully connected when:\n1. The app is assigned to the business via `POST /v3/apps/app_assignments`\n2. The business has `external_[app_name]_connected=true` flag set\n3. The app is not in pending/setup mode\n4. For vcitaPayments: Terms and conditions must be accepted",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "app": {
                      "api_uri": "https://ourApis.com/api",
                      "app_code_name": "a0eb85f0df0b1177",
                      "app_features": [
                        "Does stuff",
                        "And even more stuff"
                      ],
                      "app_host": "https://www.cnn.com",
                      "app_id": 1,
                      "app_mobile_screenshot_uris": [
                        "http://helloWorld.png"
                      ],
                      "app_name": "TaylorSwiftPayments",
                      "app_screenshot_uris": [
                        "http://helloWorld.png"
                      ],
                      "built_in": false,
                      "contact_support_link": "http://www.contact.com",
                      "deep_link": {
                        "path": "/app/someroute",
                        "path_params": {
                          "some_param": "true"
                        }
                      },
                      "description": {
                        "logo": "http://puppies.png",
                        "short_description": "Short text with buzzwords",
                        "text": "This is a very long text that describes everything about the app"
                      },
                      "is_internal": false,
                      "locales": [
                        "en",
                        "he"
                      ],
                      "menu_items": {
                        "subitems": [
                          {
                            "category": "clients",
                            "item_name": {
                              "en": "My RDBMS"
                            },
                            "key": "My RDBMS",
                            "route": "route"
                          }
                        ]
                      },
                      "open_in_new_tab": true,
                      "permissions": null,
                      "personal_connection": true,
                      "pre_installed": false,
                      "privacy_policy_link": "http://www.private.com",
                      "requires_upgrade": false,
                      "requires_upgrade_if_paid": false,
                      "status": "not_installed",
                      "supported_countries": [
                        "United States",
                        "Poland"
                      ],
                      "supported_in_mobile": true,
                      "url_params": [
                        "business_uid",
                        "staff_uid"
                      ]
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get External Connected Payment Application",
        "tags": [
          "Apps"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/apps/primary_provider_connected_application"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/cards": {
      "post": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Card Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "data": {
                      "card": {
                        "uid": "822hs9sgnltvbkkt"
                      }
                    },
                    "success": true
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "message": "To store cards on file connect to a credit card processor"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Create New Card On File",
        "tags": [
          "Cards"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/cards"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCreate New Card On File.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Prerequisites\nRequires an active payment processor connection (Stripe, vcitaPayments, etc.) to be configured for the business account before cards can be stored.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "card": {
                    "properties": {
                      "cardholder_name": {
                        "description": "card holder name",
                        "type": "string"
                      },
                      "default": {
                        "description": "Set as default card for this client",
                        "type": "boolean"
                      },
                      "options": {
                        "properties": {
                          "default": {
                            "description": "is default card (deprecated, use card.default instead)",
                            "type": "boolean"
                          }
                        },
                        "type": "object"
                      },
                      "token": {
                        "description": "card token",
                        "type": "string"
                      }
                    },
                    "required": [
                      "token"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "card"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/client/payments/v1/cards/get_new_card": {
      "get": {
        "parameters": [
          {
            "description": "uid of the payment with which the card was created",
            "in": "query",
            "name": "source_payment",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recent Card Retreived",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "card": {
                      "active": true,
                      "business_id": "ob684pf7k4d2y8mh",
                      "card_brand": "visa",
                      "cardholder_name": "sdfs",
                      "client_id": "3ccj0h5o5bqo44ui",
                      "created_at": "2020-10-06T13:55:11.000Z",
                      "default": true,
                      "exp_month": 11,
                      "exp_year": 2022,
                      "id": "mquqmydothyf7n1k",
                      "last_4": "1111",
                      "payment_provider": "stripe",
                      "staff_id": "jp6as22f8mfnaojn",
                      "staff_name": "packages packages packages"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get most recent pending card added to client [Alpha]",
        "tags": [
          "Cards"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/cards/get_new_card"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet most recent pending card added to client [Alpha].\n\n## Authentication\n**Available for Client Tokens only.**"
      }
    },
    "/client/payments/v1/cards/save_card_session": {
      "post": {
        "description": "## Overview\nCreate New Save Card Session. Creates a Stripe Checkout session for securely saving a card.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Prerequisites\n1. Business must have the `cp_add_new_cof` feature flag enabled\n2. Business must use Stripe as payment gateway (`payments_gateway_type: 'stripe'`)\n\n## Supported Payment Gateways\n- **Stripe**: Fully supported\n- **Other gateways**: Not supported (returns 422)",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Save Card Session created Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "data": {
                      "save_card_session": {
                        "account": "Taylor Swift",
                        "session_url": "www.taylorswift.com"
                      }
                    },
                    "success": true
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "field": "client_uid",
                      "message": "business doesn't have 'cp_and_new_cof' FF"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Create New Save Card Session",
        "tags": [
          "Cards"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/cards"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "success_url": {
                    "description": "URL to redirect to after successful card save",
                    "type": "string"
                  },
                  "cancel_url": {
                    "description": "URL to redirect to if the user cancels",
                    "type": "string"
                  }
                },
                "required": [
                  "success_url",
                  "cancel_url"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/client/payments/v1/carts": {
      "post": {
        "description": "## Overview\nCreates a Cart.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Request Format\nThe request body must be wrapped in a 'cart' object with required fields: matter_uid, currency, and items array.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "cart": {
                      "cart_number": 2,
                      "cart_type": null,
                      "created_at": "2025-08-05T01:55:08.385-05:00",
                      "currency": "USD",
                      "is_sale": null,
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": "Added Aug 05, 2025",
                          "discount": null,
                          "entity_name": "Shampoo",
                          "entity_type": "ProductOrder",
                          "entity_uid": "61hsvd7pg3r51jea",
                          "fee_type": null,
                          "grand_total": "100.0",
                          "item_index": null,
                          "name": "Shampoo",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 1,
                          "sub_total": "100.0",
                          "taxes": [],
                          "uid": "xlrhp3gr21z8hh94",
                          "unit_amount": "100.0"
                        }
                      ],
                      "matter_uid": "pu7hkbneq6n1mfpp",
                      "payment_request_uid": "2xflyox2d1bo02u0",
                      "sub_total": "100.0",
                      "taxes": [],
                      "title": "Multi-item #0000002",
                      "total_price": "100.0",
                      "uid": "z0z6q9g6kogvn297",
                      "updated_at": "2025-08-05T01:55:08.385-05:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Create Cart",
        "tags": [
          "Carts"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/carts"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "cart": {
                    "properties": {
                      "currency": {
                        "description": "translation missing: en.payments-api.client.carts.parameters.currency",
                        "type": "string"
                      },
                      "items": {
                        "description": "translation missing: en.payments-api.client.carts.parameters.items",
                        "items": {
                          "properties": {
                            "entity_type": {
                              "description": "The type of entity to add to the cart. Must be a capitalized Ruby model name. Common values for client carts: Invoice, Meeting, EventAttendance, ProductOrder, ClientBookingPackage, Cart. PendingBooking is also accepted but is typically used internally.",
                              "type": "string",
                              "enum": [
                                "Invoice",
                                "Meeting",
                                "EventAttendance",
                                "ProductOrder",
                                "ClientBookingPackage",
                                "Cart",
                                "PendingBooking"
                              ]
                            },
                            "entity_uid": {
                              "description": "The identifier of the entity to add to the cart. The format depends on entity_type: for Invoice use the invoice UID string (e.g., \"dg3g449g3gcdpmiz\"); for ProductOrder it may be a numeric ID. Typically sourced from payment_status.payable_uid or the entity's own identifier.",
                              "type": "string",
                              "x-reference-to": "entity"
                            }
                          },
                          "required": [
                            "entity_uid",
                            "entity_type"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "matter_uid": {
                        "description": "Matter UID - the matter to associate with this cart",
                        "type": "string",
                        "x-reference-to": "matter"
                      }
                    },
                    "required": [
                      "currency",
                      "items",
                      "matter_uid"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "cart"
                ],
                "type": "object"
              }
            }
          }
        }
      }
    },
    "/client/payments/v1/carts/{cart_uid}?matter_uid={matter_uid}": {
      "get": {
        "description": "## Overview\nShow specific cart data.\n\n## Authentication\n**Available for Client Tokens only.**",
        "parameters": [
          {
            "description": "The unique identifier of the cart (e.g., \"sg1oz2nuy0in41ly\").",
            "in": "path",
            "name": "cart_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The unique identifier of the matter/conversation associated with the cart.",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "cart": {
                      "cart_number": 1,
                      "cart_type": null,
                      "created_at": "2025-08-05T01:55:07.984-05:00",
                      "currency": "USD",
                      "is_sale": null,
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": "Added Aug 05, 2025",
                          "discount": null,
                          "entity_name": "Shampoo",
                          "entity_type": "ProductOrder",
                          "entity_uid": "61hsvd7pg3r51jea",
                          "fee_type": null,
                          "grand_total": "100.0",
                          "item_index": null,
                          "name": "Shampoo",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 1,
                          "sub_total": "100.0",
                          "taxes": [],
                          "uid": "hb43a18hlbgywxju",
                          "unit_amount": "100.0"
                        }
                      ],
                      "matter_uid": "pu7hkbneq6n1mfpp",
                      "payment_request_uid": "j7dhebvnq4q09swv",
                      "sub_total": "100.0",
                      "taxes": [],
                      "title": "Multi-item #0000001",
                      "total_price": "100.0",
                      "uid": "sg1oz2nuy0in41ly",
                      "updated_at": "2025-08-05T01:55:07.984-05:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show Cart",
        "tags": [
          "Carts"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/carts/{cart_uid}?matter_uid={matter_uid}"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/client_packages": {
      "get": {
        "description": "## Overview\nGet a list of Client Packages.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Required Parameters\n- `matter_uid` (required): The matter UID to fetch packages for.",
        "parameters": [
          {
            "description": "relevant matter_uid to fetch packages for",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at, valid_from, valid_until.  available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: state: filter[state][eq]=ACTIVE/INACTIVE.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "error": "The API cannot be accessed. This could be because you lack permissions to use this API endpoint.",
                    "status": "Error"
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "List of Client Packages",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/client_packages"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/deposits": {
      "get": {
        "description": "## Overview\nShow list of deposits.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Required Parameters\n- `matter_uid` (query, **required**): The matter UID to fetch deposits for. Returns 500 error if not provided.",
        "parameters": [
          {
            "description": "relevant matter_uid to fetch deposits for",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: entity_uid, entity_type. example: filter[entity_uid][eq]=123&filter[entity_type][in]=Invoice.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "deposits": [
                      {
                        "amount": {
                          "is_rounded": null,
                          "total": 50,
                          "type": "fixed",
                          "value": 50
                        },
                        "can_client_pay": true,
                        "created_at": "2025-08-05T01:55:17.659-05:00",
                        "currency": "USD",
                        "entity_type": "Invoice",
                        "entity_uid": "ogw6lfpggda2sews",
                        "matter_uid": "w8gtso6t02go66ad",
                        "payment_request_uid": null,
                        "payment_uid": "ftxwbw9a199m9xdb",
                        "staff_uid": "c1d6ffb93c834ba9",
                        "title": "Deposit for INVOICE #0000001",
                        "uid": "6y5ssai032sfpv54",
                        "updated_at": "2025-08-05T01:55:17.659-05:00"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show Deposits List",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/deposits"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/deposits/{deposit_uid}?matter_uid={matter_uid}": {
      "get": {
        "description": "## Overview\nShow specific deposit details.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Parameters\n- `deposit_uid`: The unique identifier of the deposit\n- `matter_uid`: (Optional) When provided, validated and used to filter by engagement; an incorrect value may result in not_found or missing deposit_uid rather than 422.\n\n## Error Responses\n- 404/not_found: When deposit does not exist or matter_uid (if provided) does not match.",
        "parameters": [
          {
            "description": "The unique identifier of the deposit (e.g., \"6y5ssai032sfpv54\").",
            "in": "path",
            "name": "deposit_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Matter UID (optional). When provided, validated and used to filter; incorrect value may return not_found.",
            "in": "query",
            "name": "matter_uid",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "deposit": {
                      "amount": {
                        "is_rounded": null,
                        "total": 50,
                        "type": "fixed",
                        "value": 50
                      },
                      "can_client_pay": true,
                      "created_at": "2025-08-05T01:55:17.659-05:00",
                      "currency": "USD",
                      "entity_type": "Invoice",
                      "entity_uid": "ogw6lfpggda2sews",
                      "matter_uid": "w8gtso6t02go66ad",
                      "payment_request_uid": null,
                      "payment_uid": "ftxwbw9a199m9xdb",
                      "staff_uid": "c1d6ffb93c834ba9",
                      "title": "Deposit for INVOICE #0000001",
                      "uid": "6y5ssai032sfpv54",
                      "updated_at": "2025-08-05T01:55:17.659-05:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show Deposit",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/deposits/{deposit_uid}?matter_uid={matter_uid}"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/invoices": {
      "get": {
        "description": "## Overview\nShow list of invoices.\n\n## Authentication\n**Available for Client Tokens only.**",
        "parameters": [
          {
            "description": "relevant matter_uid to fetch invoices for",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: client_uid: filter[client_uid][eq]=123. matter_uid: filter[matter_uid][eq]=123. created_at: filter[created_at][eq/lt/lte/gt/gte]=2019-01-01. updated_at: filter[updated_at][eq/lt/lte/gt/gte]=2019-01-01. uid: filter[uid][in]=123,456",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoices": [
                      {
                        "additional_recipients": [],
                        "allow_online_payment": false,
                        "allow_partial_payment": false,
                        "billing_address": "1 Bay St, San Francisco, CA, United States",
                        "business_name": "business7f25adfa30364684",
                        "client_name": "First name",
                        "contact_details": null,
                        "currency": "USD",
                        "due_date": "2025-08-05",
                        "invoice_label": "INVOICE",
                        "invoice_number": "1",
                        "issue_date": "2025-08-05",
                        "items": [
                          {
                            "cost": null,
                            "currency": "USD",
                            "description": null,
                            "discount": null,
                            "entity_name": null,
                            "entity_type": null,
                            "entity_uid": null,
                            "fee_type": null,
                            "grand_total": "20.0",
                            "item_index": null,
                            "name": "Hair Conditioner",
                            "orig_taxes": [],
                            "partial_payments_amount": "0.0",
                            "quantity": 2,
                            "sub_total": "20.0",
                            "taxes": [],
                            "uid": "y2e4jnwkup5b5gch",
                            "unit_amount": "10.0"
                          }
                        ],
                        "matter_details": null,
                        "matter_name": "First name",
                        "matter_term": "Client",
                        "matter_uid": null,
                        "metadata": {
                          "display_items_total": true,
                          "display_sections_total": true,
                          "pdf_customization": {
                            "color": null,
                            "cover": null,
                            "logo_size": null,
                            "template": null
                          },
                          "tax_mode": "exclude"
                        },
                        "note": null,
                        "payment_status_uid": "bh7e3e2tzlo0pglk",
                        "purchase_order": null,
                        "status": "ISSUED",
                        "subtotal": "20.0",
                        "taxes": [],
                        "terms_and_conditions": null,
                        "total": 20,
                        "total_tax": 0,
                        "uid": "l0lhtf9tcciyl65z"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show Invoices List",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/invoices"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/packages": {
      "get": {
        "parameters": [
          {
            "description": "The business UID (unique identifier string like '88pzdbz1hmkdoel4'). Note: Use the UID format, not the numeric database ID.",
            "in": "query",
            "name": "business_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "When present, returns only active packages",
            "in": "query",
            "name": "active_only",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Packages Info Retrieved with active packages only",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "packages": [
                      {
                        "active": true,
                        "currency": "USD",
                        "description": "Package description",
                        "discount_amount": 25,
                        "discount_unit": "f",
                        "expiration": 1,
                        "expiration_unit": "m",
                        "id": "m73jkvg4bf2z71b2",
                        "image_path": null,
                        "items": [
                          {
                            "services": [
                              {
                                "id": "mzuk2kkt7vjnxdwo",
                                "name": "Service name"
                              }
                            ],
                            "total_bookings": "10"
                          }
                        ],
                        "name": "Music Lessons",
                        "online_payment_enabled": true,
                        "original_price": "120.0",
                        "price": "100.0",
                        "products": [
                          {
                            "id": "03nmq2uih783ro0g",
                            "name": "product1_name",
                            "quantity": 2
                          },
                          {
                            "id": "57ndq2uih503rca8",
                            "name": "product2_name",
                            "quantity": 4
                          }
                        ],
                        "total_bookings": 10
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "List Packages Info [Alpha]",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-auth-type": "None",
        "description": "## Overview\nList Packages Info [Alpha].\n\n## Authentication\n**Available for Client Tokens only.**",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/client/payments/v1/packages/{package_id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "package_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package Info Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "package": {
                      "active": true,
                      "currency": "USD",
                      "description": "Package description",
                      "discount_amount": 25,
                      "discount_unit": "f",
                      "expiration": 1,
                      "expiration_unit": "m",
                      "id": "m73jkvg4bf2z71b2",
                      "image_path": null,
                      "items": [
                        {
                          "services": [
                            {
                              "id": "mzuk2kkt7vjnxdwo",
                              "name": "Service name"
                            }
                          ],
                          "total_bookings": "10"
                        }
                      ],
                      "name": "Music Lessons",
                      "online_payment_enabled": true,
                      "original_price": "120.0",
                      "price": "100.0",
                      "products": [
                        {
                          "id": "03nmq2uih783ro0g",
                          "quantity": "2"
                        },
                        {
                          "id": "57ndq2uih503rca8",
                          "quantity": "4"
                        }
                      ],
                      "total_bookings": 10
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Show Package Info [Alpha]",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.package_id": "method.request.path.package_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/packages/{package_id}"
        },
        "x-auth-type": "None",
        "description": "## Overview\nShow Package Info [Alpha].\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Note on Path Parameter\nThe swagger documents this as `{package_id}` but the Rails route defines `param: :uid`. Both work due to Rails routing, but internally the controller accesses `params[:uid]`.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/client/payments/v1/payment_requests": {
      "get": {
        "description": "## Overview\nShow list of payment requests.\n\n## Authentication\n**Available for Client Tokens only.**\n\n## Required Parameters\n- `matter_uid` (required): The matter UID to fetch payment requests for.",
        "parameters": [
          {
            "description": "relevant matter_uid to fetch payment requests for",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: state, uid, entity_type, enitity_uid. example: filter[state][in]=paid&filter[uid][in]=123&filter[entity_type][in]=Invoice.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_requests": [
                      {
                        "amount": "20.0",
                        "amount_before_coupon": null,
                        "amount_paid": 0,
                        "amount_pending": null,
                        "created_at": "2025-08-05T01:55:27.581-05:00",
                        "currency": "USD",
                        "display": true,
                        "due_date": "2025-08-04T19:00:00.000-05:00",
                        "fees_amount": 0,
                        "matter_uid": "ci0ippxguwzmvcia",
                        "net_amount": "20.0",
                        "paid_at": null,
                        "pait_at": null,
                        "payable_type": "Invoice",
                        "payable_uid": "gsu536shmo37ig6e",
                        "sellable_name": "INVOICE #0000001",
                        "staff_uid": "1bc6b627e589e0d4",
                        "state": "pending",
                        "tax_mode": "exclude",
                        "taxes": [],
                        "tips_amount": 0,
                        "uid": "cv03mnjcgqfg7vt6",
                        "updated_at": "2025-08-05T01:55:27.581-05:00"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Payment Requests List",
        "tags": [
          "Payment Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/payment_requests"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/payment_requests/{payment_request_uid}/checkout": {
      "get": {
        "description": "## Overview\nGet the checkout session of a given payment request. Available for **Client tokens**.\n\n## Authentication\nThis endpoint is designed for client checkout flows and may also work without authentication for public checkout scenarios.\n\n## Coupon Functionality\nThe optional `coupon_code` parameter applies a discount to the payment request. **Note:** Business must have `rollout.payments.coupons_checkout_v2` feature enabled and active coupons available. Returns 422 error if business is not eligible for coupon functionality.",
        "parameters": [
          {
            "description": "Payment Request UID",
            "in": "path",
            "name": "payment_request_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Optional coupon code to apply discount to the payment request",
            "in": "query",
            "name": "coupon_code",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "checkout_session": {
                      "amount_left_to_pay": 20,
                      "amount_total": 20,
                      "checkout_options": null,
                      "coupon_discount": 0,
                      "currency": "USD",
                      "discount": 0,
                      "is_allowed_coupons": true,
                      "is_cart_coupon": false,
                      "items": [
                        {
                          "description": {
                            "issue_date": "2025-08-05"
                          },
                          "discount": 0,
                          "entity_type": "Invoice",
                          "entity_uid": "gsu536shmo37ig6e",
                          "price_after_discount": 20,
                          "price_before_discount": 20,
                          "taxes": [],
                          "title": "Invoice #001"
                        }
                      ],
                      "net_amount_left_to_pay": 20,
                      "net_total_amount": 20,
                      "payable_type": "Invoice",
                      "payable_uid": "gsu536shmo37ig6e",
                      "payment_status_uid": "cv03mnjcgqfg7vt6",
                      "state": "due",
                      "tax_mode": "exclude",
                      "taxes": [],
                      "title": "Invoice #001"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Get Checkout Session",
        "tags": [
          "Payment Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/payment_requests/{payment_request_uid}/checkout"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/payments": {
      "get": {
        "description": "## Overview\nShow list of payments.\n\n## Authentication\n**Available for Client Tokens only.**",
        "parameters": [
          {
            "description": "relevant matter_uid to fetch payments for",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: state, payment_status_uid. example: filter[state][in]=paid&filter[payment_status_uid][in]=123.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payments": [
                      {
                        "amount": 50,
                        "amount_refunded": "0.0",
                        "assignable": null,
                        "business_uid": "fc766c51080b64b7",
                        "created_at": "2025-08-05T06:55:31Z",
                        "currency": "USD",
                        "fees": null,
                        "is_deposit": null,
                        "mapping_metadata": {},
                        "marked_as_online": false,
                        "matter_uid": "h330nmo78dot1jc6",
                        "other_payment_method": null,
                        "paid_online": false,
                        "payment_method": "Cash",
                        "payment_request_uid": null,
                        "payment_time": "2025-08-05T06:55:31Z",
                        "provider_state": null,
                        "provider_transaction_id": null,
                        "reference": null,
                        "refunded_at": null,
                        "scheduled_payments_rule_uid": null,
                        "state": "paid",
                        "tips": null,
                        "title": "Cookie",
                        "uid": "n8byn15vnj2jb4bs",
                        "updated_at": "2025-08-05T06:55:31Z"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show Payments List",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/payments"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/client/payments/v1/product_orders": {
      "get": {
        "description": "## Overview\nShow list of product orders.\n\n## Authentication\n**Available for Client Tokens only.**",
        "parameters": [
          {
            "description": "relevant matter_uid to fetch products orders for",
            "in": "query",
            "name": "matter_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: client_uid, uid, entity_type. example: filter[client_uid][in]=uId1&filter[uid][in]=123.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product_orders": [
                      {
                        "client_id": "amebs8yr715qhz9l",
                        "cost": null,
                        "created_at": "2025-08-05T01:55:35.643-05:00",
                        "currency": "USD",
                        "description": "Best hair shampoo",
                        "id": "rwi3bicfvmjmxjph",
                        "matter_uid": "kmiu5c4ox5r1t1eg",
                        "name": "Shampoo",
                        "payment_request_id": "g2zg6kg3q59oxlgn",
                        "payment_request_state": "pending",
                        "price": "10.0",
                        "product_id": "6sukaz56hxev8b9c",
                        "staff_id": "7edde4a6d219fa49",
                        "taxes": [],
                        "total_price": null
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ],
        "summary": "Show Product Orders List",
        "tags": [
          "Product Orders"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///client/payments/v1/product_orders"
        },
        "x-auth-type": "Application & Application User"
      }
    },
    "/v3/clients/client_settings/{client_uid}": {
      "get": {
        "summary": "Retrieve Client Settings",
        "description": "## Overview\nGet the client settings for a specific client.\n\n## Authentication\n**Available for Staff and Client Tokens.**",
        "parameters": [
          {
            "name": "client_uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Client",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/clients/clientSettings.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Client Settings"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "summary": "Update Client Settings",
        "description": "## Overview\nUpdate the client settings for a specific client - Update the client settings for a specific client - Available for **Staff and Client Tokens**.",
        "parameters": [
          {
            "name": "client_uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Client",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "opt_out_transactional_sms": {
                    "type": "boolean",
                    "description": "Opt out from transactional SMS"
                  }
                },
                "required": [
                  "client_uid"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/clients/clientSettings.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Client Settings"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Bearer token authentication"
      }
    },
    "schemas": {
      "Response": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "View": {
        "type": "object",
        "properties": {
          "uid": {
            "type": "string",
            "description": "Unique identifier for the view"
          },
          "name": {
            "type": "string",
            "description": "View name"
          },
          "description": {
            "type": "string",
            "description": "View description"
          },
          "view_type": {
            "type": "string",
            "enum": [
              "client"
            ],
            "description": "Type of view. Currently only 'client' views are supported."
          },
          "level": {
            "type": "string",
            "enum": [
              "account",
              "staff"
            ],
            "description": "View level. 'account' level views are visible to all staff members in the business, while 'staff' level views are private to the creating staff member."
          },
          "columns": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ViewColumn"
            },
            "description": "Array of column definitions"
          },
          "filter": {
            "type": "string",
            "description": "Filter configuration as a JSON-encoded string. Must be a valid JSON string that parses to either an object or array (e.g., \"{}\" or \"[]\"). Example: \"[{\\\"key\\\":\\\"fields_filter.first_name\\\",\\\"value\\\":\\\"John\\\"}]\""
          },
          "sorting_column": {
            "type": "string",
            "enum": [
              "matter_name_tokenized.raw",
              "last_client_activity",
              "first_name.raw",
              "created_at",
              "matter_name",
              "photo_path",
              "last_activity_time",
              "contact_full_name",
              "review_score",
              "last_interaction"
            ],
            "description": "Column to sort by. Must be one of the allowed sorting column values."
          },
          "sorting_direction": {
            "type": "string",
            "enum": [
              "asc",
              "desc"
            ],
            "description": "Sort direction"
          },
          "order": {
            "type": "integer",
            "description": "View order"
          },
          "pinned": {
            "type": "boolean",
            "description": "Whether the view is displayed"
          }
        }
      },
      "ViewColumn": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "description": "Column label"
          },
          "type": {
            "type": "string",
            "description": "Column type"
          },
          "identifier": {
            "type": "string",
            "description": "Column identifier"
          },
          "sortable": {
            "type": "boolean",
            "description": "Whether column is sortable"
          },
          "sort_options": {
            "type": "object",
            "description": "Sort options for the column"
          }
        },
        "required": [
          "label",
          "type",
          "identifier",
          "sortable"
        ]
      },
      "ViewFilter": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Filter name/key"
          },
          "label": {
            "type": "string",
            "description": "Filter display label"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "boolean",
              "multiselect",
              "singleselect",
              "date",
              "tags",
              "sources",
              "review",
              "smart"
            ],
            "description": "Filter input type"
          },
          "key": {
            "type": "string",
            "description": "Filter key for API usage"
          },
          "options": {
            "type": "object",
            "properties": {
              "values": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "display_value": {
                      "type": "string"
                    }
                  }
                }
              },
              "description": {
                "type": "string",
                "description": "Filter description for smart filters"
              }
            }
          }
        },
        "required": [
          "label",
          "type",
          "key"
        ]
      },
      "ViewFilterCategory": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string",
            "description": "Category identifier"
          },
          "label": {
            "type": "string",
            "description": "Category display label"
          },
          "order": {
            "type": "integer",
            "description": "Category display order"
          },
          "filters": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ViewFilter"
            },
            "description": "Filters in this category"
          }
        },
        "required": [
          "category",
          "label",
          "order",
          "filters"
        ]
      },
      "ClientSettingsList": {
        "type": "object",
        "properties": {
          "client_settings": {
            "description": "List of Client Settings",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/clients/clientSettings.json"
            }
          }
        }
      }
    }
  },
  "tags": []
}
