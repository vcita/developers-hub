{
  "openapi": "3.1.0",
  "info": {
    "title": "Sales",
    "description": "Unified OpenAPI specification for sales domain",
    "version": "3.0",
    "x-generated": {
      "sourceFiles": [
        "legacy_v1_sales.json",
        "client_payment_cards.json",
        "coupons.json",
        "estimates.json",
        "payments.json",
        "payment_gateway.json",
        "sales_reports.json",
        "client_cards.json",
        "coupon.json",
        "invoice.json",
        "creditNote.json"
      ],
      "pathNormalizations": [
        {
          "file": "legacy_v1_sales.json",
          "basePath": "/platform/v1",
          "transformations": [
            {
              "original": "/leadgen",
              "normalized": "/platform/v1/leadgen",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payments",
              "normalized": "/platform/v1/payments",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payments/{payment_uid}",
              "normalized": "/platform/v1/payments/{payment_uid}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payments/{payment_uid}/match",
              "normalized": "/platform/v1/payments/{payment_uid}/match",
              "basePath": "/platform/v1"
            },
            {
              "original": "/invoices",
              "normalized": "/platform/v1/invoices",
              "basePath": "/platform/v1"
            },
            {
              "original": "/invoices/{invoice_id}",
              "normalized": "/platform/v1/invoices/{invoice_id}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/cards/sync_card",
              "normalized": "/platform/v1/payment/cards/sync_card",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/cards/{card_id}",
              "normalized": "/platform/v1/payment/cards/{card_id}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/checkout/",
              "normalized": "/platform/v1/payment/checkout/",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/checkout/{url_key}",
              "normalized": "/platform/v1/payment/checkout/{url_key}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/client_packages",
              "normalized": "/platform/v1/payment/client_packages",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/client_packages/cancel_redemption",
              "normalized": "/platform/v1/payment/client_packages/cancel_redemption",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/client_packages/update_usage",
              "normalized": "/platform/v1/payment/client_packages/update_usage",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/packages",
              "normalized": "/platform/v1/payment/packages",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/packages/{package_id}",
              "normalized": "/platform/v1/payment/packages/{package_id}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/settings",
              "normalized": "/platform/v1/payment/settings",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment/settings/update_default_currency",
              "normalized": "/platform/v1/payment/settings/update_default_currency",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment_statuses/{id}/apply_coupon",
              "normalized": "/platform/v1/payment_statuses/{id}/apply_coupon",
              "basePath": "/platform/v1"
            },
            {
              "original": "/payment_statuses/{id}/validate_coupon",
              "normalized": "/platform/v1/payment_statuses/{id}/validate_coupon",
              "basePath": "/platform/v1"
            },
            {
              "original": "/services",
              "normalized": "/platform/v1/services",
              "basePath": "/platform/v1"
            },
            {
              "original": "/services/availability",
              "normalized": "/platform/v1/services/availability",
              "basePath": "/platform/v1"
            },
            {
              "original": "/services/{service_uid}",
              "normalized": "/platform/v1/services/{service_uid}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/services/{service_uid}/availability",
              "normalized": "/platform/v1/services/{service_uid}/availability",
              "basePath": "/platform/v1"
            }
          ]
        },
        {
          "file": "estimates.json",
          "basePath": "/platform/v1",
          "transformations": [
            {
              "original": "/estimates",
              "normalized": "/platform/v1/estimates",
              "basePath": "/platform/v1"
            }
          ]
        },
        {
          "file": "payments.json",
          "basePath": "/business/payments",
          "transformations": [
            {
              "original": "/v1/card_requests",
              "normalized": "/business/payments/v1/card_requests",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/card_requests/{client_uid}",
              "normalized": "/business/payments/v1/card_requests/{client_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/cards/{uid}",
              "normalized": "/business/payments/v1/cards/{uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/carts",
              "normalized": "/business/payments/v1/carts",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/carts/{uid}",
              "normalized": "/business/payments/v1/carts/{uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/carts/{uid}/cancel",
              "normalized": "/business/payments/v1/carts/{uid}/cancel",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/carts/{uid}/cart_completed",
              "normalized": "/business/payments/v1/carts/{uid}/cart_completed",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/client_packages/{uid}",
              "normalized": "/business/payments/v1/client_packages/{uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/deposits",
              "normalized": "/business/payments/v1/deposits",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/deposits/{uid}",
              "normalized": "/business/payments/v1/deposits/{uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/estimates",
              "normalized": "/business/payments/v1/estimates",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/estimates/{estimate_uid}",
              "normalized": "/business/payments/v1/estimates/{estimate_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/invoices",
              "normalized": "/business/payments/v1/invoices",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/invoices/{invoice_uid}",
              "normalized": "/business/payments/v1/invoices/{invoice_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/invoices/{invoice_uid}/cancel",
              "normalized": "/business/payments/v1/invoices/{invoice_uid}/cancel",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/packages/reorder",
              "normalized": "/business/payments/v1/packages/reorder",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payment_requests",
              "normalized": "/business/payments/v1/payment_requests",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payment_requests/{payment_request_uid}/send_link",
              "normalized": "/business/payments/v1/payment_requests/{payment_request_uid}/send_link",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payment_requests/{payment_request_uid}",
              "normalized": "/business/payments/v1/payment_requests/{payment_request_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payments",
              "normalized": "/business/payments/v1/payments",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payments/{payment_uid}",
              "normalized": "/business/payments/v1/payments/{payment_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payouts",
              "normalized": "/business/payments/v1/payouts",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/payouts/{provider_payout_id}",
              "normalized": "/business/payments/v1/payouts/{provider_payout_id}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/product_orders",
              "normalized": "/business/payments/v1/product_orders",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/product_orders/{product_order_uid}",
              "normalized": "/business/payments/v1/product_orders/{product_order_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/products",
              "normalized": "/business/payments/v1/products",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/products/{product_uid}",
              "normalized": "/business/payments/v1/products/{product_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/refunds",
              "normalized": "/business/payments/v1/refunds",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/scheduled_payments_rules",
              "normalized": "/business/payments/v1/scheduled_payments_rules",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/scheduled_payments_rules/{uid}/cancel",
              "normalized": "/business/payments/v1/scheduled_payments_rules/{uid}/cancel",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/scheduled_payments_rules/{uid}",
              "normalized": "/business/payments/v1/scheduled_payments_rules/{uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/tax_bulk",
              "normalized": "/business/payments/v1/tax_bulk",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/tax_bulk/apply_defaults",
              "normalized": "/business/payments/v1/tax_bulk/apply_defaults",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/taxes",
              "normalized": "/business/payments/v1/taxes",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/taxes/{tax_uid}",
              "normalized": "/business/payments/v1/taxes/{tax_uid}",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/transactions",
              "normalized": "/business/payments/v1/transactions",
              "basePath": "/business/payments"
            },
            {
              "original": "/v1/transactions/{provider_transaction_id}",
              "normalized": "/business/payments/v1/transactions/{provider_transaction_id}",
              "basePath": "/business/payments"
            },
            {
              "original": "/platform/v1/payment/client_packages",
              "normalized": "/business/payments/platform/v1/payment/client_packages",
              "basePath": "/business/payments"
            }
          ]
        }
      ],
      "pathConflicts": [
        {
          "path": "/platform/v1/payment/checkout/",
          "files": [
            "unknown",
            "payment_gateway.json"
          ],
          "winner": "payment_gateway.json",
          "resolution": "Used payment_gateway.json (newer modification date)",
          "timestamp": "2026-02-12T21:03:29.896Z"
        }
      ],
      "componentConflicts": [],
      "totalPaths": 83,
      "totalComponents": 10
    }
  },
  "servers": [
    {
      "url": "https://api.vcita.biz",
      "description": "Unified API Gateway server"
    }
  ],
  "paths": {
    "/platform/v1/leadgen": {
      "post": {
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "conversation_uid": "pehfh46jy6c9mlba",
                  "status": "OK",
                  "uid": "jg7vmlf2uwx5m6fy"
                }
              }
            }
          }
        },
        "summary": "Creates a lead",
        "tags": [
          "LeadGen"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/leadgen"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCreates a lead Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "address": {
                    "description": "Lead's address",
                    "type": "string"
                  },
                  "business_id": {
                    "description": "A unique identifier of the business. Can be the Business UID or nickname\\external ID.",
                    "type": "string",
                    "x-reference-to": "businesses.business"
                  },
                  "email": {
                    "description": "Lead email address. Unique per business.",
                    "type": "string"
                  },
                  "first_name": {
                    "description": "Lead first name. Mandatory for a new lead.",
                    "type": "string"
                  },
                  "identifier_type": {
                    "description": "Defines which unique identifier will be used to search for an existing lead or create a new one. Possible values: \"email\" or \"unique_id\"",
                    "type": "string"
                  },
                  "last_name": {
                    "description": "Lead last name.",
                    "type": "string"
                  },
                  "message_data": {
                    "additionalProperties": {
                      "type": "string"
                    },
                    "description": "Key and value that will appear in message",
                    "type": "object"
                  },
                  "notifications": {
                    "description": "A list of notifications to send after processing of the lead. Possible values: \"auto-reply\" (thank you email to the end user), \"email\" (notify the business owner) or \"sms\" (text notification to the business owner). None if empty.",
                    "type": "string"
                  },
                  "opt_in": {
                    "description": "Send \"true\" if lead opted in for promotions. Make sure the \"opt-in\" client card field is added to the client card under Settings>Client card.",
                    "type": "string"
                  },
                  "opt_in_transactional_sms": {
                    "description": "Whether the client opts in to receive transactional SMS messages.",
                    "type": "boolean"
                  },
                  "phone": {
                    "description": "Lead phone number.",
                    "type": "string"
                  },
                  "request_data": {
                    "additionalProperties": {
                      "type": "string"
                    },
                    "description": "Key and value properties that will update new lead and appear in message",
                    "type": "object"
                  },
                  "request_title": {
                    "description": "Request title. Will also be the created conversation title.",
                    "type": "string"
                  },
                  "source": {
                    "description": "Will be displayed to the business owner as the lead source",
                    "type": "string"
                  },
                  "source_url": {
                    "description": "The URL of the page where the lead was created.",
                    "type": "string"
                  },
                  "status": {
                    "description": "Use a client status to categorize clients according to their relationship with your business, default is Lead.",
                    "type": "string"
                  },
                  "system_message": {
                    "description": "A message displayed to the business owner to introduce the lead. May contain links.",
                    "type": "string"
                  },
                  "tags": {
                    "description": "Customized labels that enbale you to sort your data using personalized words, phrases or themes that are meaningful to you and your business",
                    "type": "string"
                  },
                  "unique_id": {
                    "description": "Lead unique id. Unique per business.",
                    "type": "string"
                  }
                },
                "required": [
                  "identifier_type",
                  "first_name",
                  "request_title"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payments": {
      "get": {
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: state: filter[state][in]=paid,pending,failed,refunded,cancelled,archived,incompleted.\n                                                                                           created_at: filter[created_at][eq/lt/lte/gt/gte]=2023-01-01 or 2023-01-01 09:30:00.\n                                                                                           updated_at: filter[updated_at][eq/lt/lte/gt/gte]=2023-01-01 or 2023-01-01 09:30:00.\n                                                                                           client_id: filter[client_id][eq]=client_id.\n                                                                                           invoice_id: filter[invoice_id][eq]=invoice_id.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at.\n                                                                      Available operators: asc, desc.\n                                                                      Example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Payments Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payments": [
                      {
                        "amount": 300,
                        "charged_at": "23/4/2019 09:00:00",
                        "client_id": "12344",
                        "conversation_id": "1234",
                        "currency": "USD",
                        "fees": [
                          {
                            "amount": 13,
                            "name": "Taylor Swift Fee"
                          }
                        ],
                        "id": "1234",
                        "note": "Payment Note",
                        "offline": true,
                        "other_payment_method": "bit",
                        "payment_method": "cash/check",
                        "payment_requests": [
                          {
                            "id": "1246"
                          }
                        ],
                        "reference": "123",
                        "state": "paid/refunded",
                        "tips": [
                          {
                            "amount": 100
                          }
                        ],
                        "title": "Payment Title"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Payments List",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payments"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Payments List. Available for **Staff Tokens**.\n\n## Prerequisites\nThe business must have the `payments_module` feature enabled.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Payment Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment": {
                      "amount": 150,
                      "client_id": "aaabbbccc112233",
                      "conversation_id": "aaabbbccc112233",
                      "created_at": "2019-10-16T13:05:43Z",
                      "currency": "USD",
                      "fees": [
                        {
                          "amount": 13,
                          "name": "Taylor Swift Fee"
                        }
                      ],
                      "marked_as_online": false,
                      "other_payment_method": "bit",
                      "paid_at": "2019-10-15T13:05:43Z",
                      "paid_offline": true,
                      "pay_key": "123456",
                      "payment_action": "record_payment",
                      "payment_id": "aaabbbccc112233",
                      "payment_method": "credit_card",
                      "reference": "123",
                      "send_receipt": true,
                      "staff_id": "aaabbbccc112233",
                      "state": "paid",
                      "tips": [
                        {
                          "amount": 100
                        }
                      ],
                      "title": "Payment Title"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Create New Payment",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payments"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCreate New Payment. Available for **Staff, App, and Directory tokens**. Directory tokens require the `X-On-Behalf-Of` header.\n\n## Prerequisites\nThe business must have the `payments_module` feature enabled to use this endpoint.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "amount": {
                    "description": "amount",
                    "type": "number"
                  },
                  "client_id": {
                    "description": "client ID",
                    "type": "string",
                    "x-reference-to": "clients.contact"
                  },
                  "currency": {
                    "description": "USD, ILS etc.",
                    "type": "string"
                  },
                  "fees": {
                    "description": "Array of fees (Max 1 fee)",
                    "items": {
                      "properties": {
                        "amount": {
                          "description": "Fee amount",
                          "type": "number"
                        },
                        "name": {
                          "description": "Fee name (Max 35 chars)",
                          "type": "string"
                        }
                      },
                      "required": [
                        "name",
                        "amount"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "mark_as_online": {
                    "description": "Enable online refund. Default is disabled",
                    "type": "boolean"
                  },
                  "other_payment_method": {
                    "description": "Max 24 chars",
                    "type": "string"
                  },
                  "paid_at": {
                    "description": "default is now",
                    "type": "string"
                  },
                  "pay_key": {
                    "description": "Max 64 chars",
                    "type": "string"
                  },
                  "payment_method": {
                    "description": "'PayPal', 'Other', 'Cash', 'Credit Card', 'Bank Transfer', 'Cheque'",
                    "type": "string"
                  },
                  "payment_subject_id": {
                    "description": "The ID of the entity for which the payment has been made",
                    "type": "string"
                  },
                  "payment_subject_type": {
                    "description": "The type of entity for which the payment has been made. Available types: 'Meeting', 'EventAttendance', 'Invoice', 'ClientBookingPackage', 'ProductOrder'.",
                    "type": "string"
                  },
                  "reference": {
                    "description": "Max 24 chars",
                    "type": "string"
                  },
                  "send_receipt": {
                    "description": "true, false. default true",
                    "type": "boolean"
                  },
                  "staff_id": {
                    "description": "Default is set to the staff that performed the API call. Business owner is allowed to send staff_id",
                    "type": "string",
                    "x-reference-to": "access_control.staff"
                  },
                  "state": {
                    "description": "The current payment state. This field can be used only for creating a pending payment. Value can be only 'pending'",
                    "type": "string"
                  },
                  "tips": {
                    "description": "Array of tips (Max 1 tip)",
                    "items": {
                      "properties": {
                        "amount": {
                          "description": "Tip amount",
                          "type": "number"
                        }
                      },
                      "required": [
                        "amount"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "title": {
                    "description": "paid for service or product",
                    "type": "string"
                  }
                },
                "required": [
                  "client_id",
                  "payment_method",
                  "currency",
                  "amount",
                  "title"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payments/{payment_uid}": {
      "get": {
        "parameters": [
          {
            "description": "Payment UID",
            "in": "path",
            "name": "payment_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Payment Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment": [
                      {
                        "amount": 300,
                        "charged_at": "23/4/2019 09:00:00",
                        "client_id": "12344",
                        "conversation_id": "1234",
                        "currency": "USD",
                        "fees": [
                          {
                            "amount": 13,
                            "name": "Taylor Swift Fee"
                          }
                        ],
                        "id": "1234",
                        "note": "Payment Note",
                        "offline": true,
                        "other_payment_method": "bit",
                        "payment_method": "cash/check",
                        "payment_requests": [
                          {
                            "id": "1246"
                          }
                        ],
                        "reference": "123",
                        "state": "paid/refunded",
                        "tips": [
                          {
                            "amount": 100
                          }
                        ],
                        "title": "Payment Title"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Payment by ID",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.payment_id": "method.request.path.payment_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payments/{payment_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Payment by ID. Available for **Staff Tokens**.\n\n## Prerequisites\nThe business must have the `payments_module` feature enabled.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payments/{payment_uid}/match": {
      "post": {
        "parameters": [
          {
            "description": "relevant payment UID",
            "in": "path",
            "name": "payment_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Payment Matched",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment": {
                      "amount": 1,
                      "client_id": "jfcomkyykiz0mqkw",
                      "conversation_id": "lzxxiv5euh8z18qw",
                      "created_at": "2022-01-19T12:26:15Z",
                      "currency": "ILS",
                      "marked_as_online": false,
                      "other_payment_method": "bit",
                      "paid_at": "2022-01-19T12:26:05Z",
                      "paid_offline": true,
                      "payment_action": "record_payment",
                      "payment_id": "2ulfclwzu8yksj9u",
                      "payment_method": "Cash",
                      "reference": "123",
                      "send_receipt": true,
                      "source_data": {
                        "campaign": "1",
                        "channel": "1",
                        "name": "initiated_by_staff",
                        "website_url": "1"
                      },
                      "state": "paid"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Match Payment",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payments"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nMatch Payment Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "matter_uid": {
                    "description": "The matter uid of the relevant payment. **Important**: The matter_uid must match the conversation_id of the specified payment. The payment must have been created within the context of this matter. If mismatched, the API will return 'Payment does not belong to matter' error.",
                    "type": "string",
                    "x-reference-to": "clients.matter"
                  },
                  "payment_status_uid": {
                    "description": "The uid of the relevant payment request to match",
                    "type": "string",
                    "x-reference-to": "sales.payment_status"
                  }
                },
                "required": [
                  "matter_uid",
                  "payment_status_uid"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/invoices": {
      "get": {
        "parameters": [
          {
            "description": "Filter by created_at, updated_at, state. state values: issued, draft, declined. available operators for created_at and updated_at: gt, gte, lt, lte, eq. available operators for state: in. example: filter[created_at][gt]=2019-01-01, filter[state][in]=issued,draft",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at, state. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page offset",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Invoices Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoices": [
                      {
                        "address": "habarzel 32\\nTel Aviv",
                        "allow_online_payment": true,
                        "amount": 8.8,
                        "client_id": "aaabbbccc112233",
                        "conversation_id": "rv28qk5ey5eretu9",
                        "created_at": "2018-06-14T09:31:21.000",
                        "currency": "USD",
                        "due_date": "2018-06-14",
                        "id": "aaabbbccc112233",
                        "invoice_number": "6",
                        "issued_at": "2018-06-14",
                        "items": [
                          {
                            "amount": 10,
                            "description": "Service Description",
                            "discount": 2,
                            "quantity": 1,
                            "taxes": [
                              {
                                "name": "10 tax",
                                "rate": 10
                              }
                            ],
                            "title": "Item title"
                          }
                        ],
                        "note": "Invoice for your service",
                        "payment_balance": 5,
                        "payment_state": "pending",
                        "source_data": {
                          "campaign": null,
                          "channel": "",
                          "name": "client_portal",
                          "website_url": null
                        },
                        "staff_id": "mg9d91uh92bclwzg",
                        "status": "issued/draft",
                        "title": "Invoice Title"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Invoices List",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/invoices"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Invoices List. Available for **Application Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Invoice Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoice": {
                      "address": "Oxford st.",
                      "allow_online_payment": false,
                      "amount": 8.8,
                      "client_id": "1kfvtps4a4wlh3lc",
                      "conversation_id": "3brhv2288yuvfmfd",
                      "created_at": "2019-12-17T21:07:04.659Z",
                      "currency": "USD",
                      "due_date": "2019-04-24",
                      "id": "an29s26qnw2pfryh",
                      "invoice_number": 97,
                      "issued_at": "2019-04-20",
                      "items": [
                        {
                          "amount": 10,
                          "description": "Service Description",
                          "discount": 2,
                          "quantity": 1,
                          "taxes": [
                            {
                              "name": "10 tax",
                              "rate": 10
                            }
                          ],
                          "title": "Service"
                        }
                      ],
                      "note": "Invoice for your service",
                      "payment_balance": 8.8,
                      "payment_state": "pending",
                      "source_data": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "mg9d91uh92bclwzg",
                      "status": "issued",
                      "title": "INVOICE #0000097"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Create New Invoice",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/invoices"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCreate New Invoice. Available for **Application Tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "address": {
                    "description": "business address",
                    "type": "string"
                  },
                  "allow_online_payment": {
                    "description": "true, false, default: true if the business is connected to payment provider",
                    "type": "boolean"
                  },
                  "client_id": {
                    "description": "client_uid",
                    "type": "string",
                    "x-reference-to": "clients.contact"
                  },
                  "conversation_id": {
                    "description": "conversation_uid",
                    "type": "string",
                    "x-reference-to": "clients.matter"
                  },
                  "currency": {
                    "description": "USD, ILS etc.",
                    "type": "string"
                  },
                  "due_date": {
                    "description": "invoice due ,must be later than issued_at",
                    "type": "string"
                  },
                  "invoice_number": {
                    "description": "invoice number",
                    "type": "number"
                  },
                  "issued_at": {
                    "description": "invoice issue date",
                    "type": "string"
                  },
                  "items": {
                    "items": {
                      "properties": {
                        "amount": {
                          "description": "invoice item amount",
                          "type": "number"
                        },
                        "description": {
                          "description": "invoice item description",
                          "type": "string"
                        },
                        "discount": {
                          "description": "invoice item discount",
                          "type": "number"
                        },
                        "quantity": {
                          "description": "invoice item quantity",
                          "type": "number"
                        },
                        "taxes": {
                          "items": {
                            "properties": {
                              "name": {
                                "description": "invoice item tax name",
                                "type": "string"
                              },
                              "rate": {
                                "description": "invoice item tax rate in percentages",
                                "type": "number"
                              }
                            },
                            "required": [
                              "rate",
                              "name"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "title": {
                          "description": "invoice item title",
                          "type": "string"
                        }
                      },
                      "required": [
                        "title",
                        "amount",
                        "quantity"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "note": {
                    "description": "invoice note",
                    "type": "string"
                  },
                  "send_email": {
                    "description": "true, false, default false",
                    "type": "boolean"
                  },
                  "source_campaign": {
                    "description": "Source campaign",
                    "type": "string"
                  },
                  "source_channel": {
                    "description": "Source channel",
                    "type": "string"
                  },
                  "source_name": {
                    "description": "Source name",
                    "type": "string"
                  },
                  "source_url": {
                    "description": "Source URL",
                    "type": "string"
                  },
                  "staff_id": {
                    "description": "owner is the default",
                    "type": "string",
                    "x-reference-to": "access_control.staff"
                  },
                  "status": {
                    "description": "draft, issued, default issued",
                    "type": "string"
                  },
                  "title": {
                    "description": "invoice title",
                    "type": "string"
                  }
                },
                "required": [
                  "client_id",
                  "due_date",
                  "issued_at",
                  "currency",
                  "address",
                  "items"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/invoices/{invoice_id}": {
      "get": {
        "parameters": [
          {
            "description": "Invoice ID",
            "in": "path",
            "name": "invoice_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Invoices Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoice": {
                      "address": "habarzel 32\\nTel Aviv",
                      "allow_online_payment": true,
                      "amount": 8.8,
                      "client_id": "aaabbbccc112233",
                      "conversation_id": "rv28qk5ey5eretu9",
                      "created_at": "2018-06-14T09:31:21.000",
                      "currency": "USD",
                      "due_date": "2018-06-14",
                      "id": "aaabbbccc112233",
                      "invoice_number": "6",
                      "issued_at": "2018-06-14",
                      "items": [
                        {
                          "amount": 10,
                          "description": "Service Description",
                          "discount": 2,
                          "quantity": 1,
                          "taxes": [
                            {
                              "name": "10 tax",
                              "rate": 10
                            }
                          ],
                          "title": "Item title"
                        }
                      ],
                      "note": "Invoice for your service",
                      "payment_balance": 5,
                      "payment_state": "pending",
                      "source_data": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "mg9d91uh92bclwzg",
                      "status": "issued/draft",
                      "title": "Invoice Title"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Invoice By ID",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.invoice_id": "method.request.path.invoice_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/invoices/{invoice_id}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Invoice By ID.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/cards/sync_card": {
      "post": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Create sync card",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "card": {
                      "active": true,
                      "business_id": "dk3wvzieadwjmojz",
                      "card_brand": "visa",
                      "cardholder_name": "test card",
                      "client_id": "9ev0ruk82bqk5oqa",
                      "created_at": "2021-02-18T11:09:54.000Z",
                      "default": true,
                      "exp_month": 11,
                      "exp_year": 2022,
                      "id": "so6k0ydbizask6cu",
                      "last_4": "1111",
                      "payment_provider": "stripe",
                      "staff_id": "hs6wse84tqv3kndi",
                      "staff_name": "multi matter pay"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Create sync card",
        "tags": [
          "Card"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/cards/sync_card"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCreate sync card Available for **Staff, App, and Directory tokens**.\n\n## Required Fields\n- `customer_id`: The customer ID from the payment gateway (e.g., Stripe customer ID). This is mandatory - the API returns 422 'Mandatory parameter customer_id is missing' when it's not provided.\n- `client_id`: The client UID to associate the card with.\n- `external_card_id`: The card ID from the payment gateway.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "client_id": {
                    "description": "The client UID (unique identifier) for the client who owns this card.",
                    "type": "string",
                    "x-reference-to": "clients.contact"
                  },
                  "customer_id": {
                    "description": "Required. The customer ID from the payment gateway (e.g., Stripe customer ID starting with 'cus_'). This is the external identifier used by the payment provider.",
                    "type": "string"
                  },
                  "details": {
                    "type": "object",
                    "description": "Card details object containing payment card information",
                    "properties": {
                      "card_brand": {
                        "description": "Card brand (e.g., visa, mastercard)",
                        "type": "string"
                      },
                      "cardholder_name": {
                        "description": "Name on the card",
                        "type": "string"
                      },
                      "exp_month": {
                        "description": "Expiration month (1-12)",
                        "type": "number"
                      },
                      "exp_year": {
                        "description": "Expiration year (YYYY)",
                        "type": "number"
                      },
                      "last_4": {
                        "description": "Last 4 digits of the card",
                        "type": "string"
                      }
                    },
                    "required": [
                      "exp_month",
                      "exp_year",
                      "last_4",
                      "cardholder_name",
                      "card_brand"
                    ]
                  },
                  "default": {
                    "description": "true/false. default: false (will be set to true if it is the client's first card)",
                    "type": "boolean"
                  },
                  "external_card_id": {
                    "description": "Required. The card ID from the payment gateway (e.g., Stripe card ID starting with 'card_' or 'pm_'). This is mandatory for sync operations.",
                    "type": "string"
                  }
                },
                "required": [
                  "external_card_id",
                  "customer_id",
                  "client_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/cards/{card_id}": {
      "delete": {
        "description": "## Overview\nDelete saved card Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Card ID",
            "in": "path",
            "name": "card_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Delete saved card",
        "tags": [
          "Card"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "requestParameters": {
            "integration.request.path.card_id": "method.request.path.card_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/cards/{card_id}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/checkout/": {
      "put": {
        "summary": "Update Payment Checkout (Webhook)",
        "description": "This webhook endpoint is called by payment gateways to notify about completed checkout sessions. Requires app token authentication and valid checkout data.",
        "tags": [
          "Payment Gateways"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url_key": {
                    "type": "string",
                    "description": "The checkout session identifier"
                  },
                  "transaction_id": {
                    "type": "string",
                    "description": "External payment gateway transaction ID"
                  },
                  "type": {
                    "type": "string",
                    "description": "Event type (e.g., 'checkout.session.completed')"
                  },
                  "created": {
                    "type": "string",
                    "description": "Payment creation timestamp"
                  },
                  "customer_id": {
                    "type": "string",
                    "description": "Customer unique ID (for saved cards)"
                  },
                  "ps_id": {
                    "type": "string",
                    "description": "Payment status UID (for sync flow)"
                  },
                  "sync_flow": {
                    "type": "boolean",
                    "description": "Whether this is a post-checkout flow"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Charged amount (for sync flow)"
                  },
                  "state": {
                    "type": "string",
                    "description": "Payment state ('pending' for pending payments)"
                  },
                  "payment_method": {
                    "type": "string",
                    "description": "Payment method used ('Credit Card', 'Bank Payment - ACH')"
                  }
                },
                "required": [
                  "url_key",
                  "transaction_id",
                  "type",
                  "created"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success - Payment processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "OK"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unauthorized - Invalid checkout data or missing payment session",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "Error"
                    },
                    "error": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "Error"
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/checkout/{url_key}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "url_key",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Checkout Info Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "allow_save_card": false,
                    "amount": 20,
                    "client_id": "jdsfhfhjhsfg",
                    "client_store_card_for_business_use": false,
                    "currency": "USD",
                    "email": "nil",
                    "invoice_id": "yrg7iehgv",
                    "name": "XXX",
                    "payment_method": "Credit Card",
                    "return_url": "http://xxxx",
                    "terms_and_conditions_type": "text",
                    "terms_and_conditions_value": "terms and conditions"
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Open Checkout For Specific url_key",
        "tags": [
          "Payment Checkout"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.url_key": "method.request.path.url_key"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/checkout/{url_key}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Open Checkout For Specific url_key.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/client_packages": {
      "post": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Package added to the client",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client_package": {
                      "active": "true",
                      "amount": 100,
                      "booking_credits": [
                        {
                          "bookings_usage": "0",
                          "credit_items": [
                            {
                              "bookings_usage": 0,
                              "item_id": "mzuk2kkt7vjnxdwo",
                              "item_type": "SERVICE"
                            }
                          ],
                          "id": "vu1rovse0166a9d9",
                          "total_bookings": "10"
                        }
                      ],
                      "bookings_usage": "0",
                      "business_id": "vqzqruk6nyclxpp6",
                      "client_id": "9yxsdkr1hdjtocpv",
                      "conversation_id": "war7ow99zh14qlty",
                      "created_at": "2020-06-01T21:05:00.562Z",
                      "currency": "USD",
                      "id": "m73jkvg4bf2z71b2",
                      "image_path": "",
                      "name": "Music Lessons",
                      "package_id": "v2fvy50p8gjuvnvb",
                      "payment_status_id": "6v5ybwkavv0z9hff",
                      "payment_status_state": "pending",
                      "products": [
                        {
                          "id": "03nmq2uih783ro0g",
                          "name": "product1_name",
                          "quantity": 2
                        },
                        {
                          "id": "57ndq2uih503rca8",
                          "name": "product2_name",
                          "quantity": 4
                        }
                      ],
                      "staff_id": "mg9d91uh92bclwzg",
                      "total_bookings": "10",
                      "valid_from": "2020-06-01",
                      "valid_until": "2020-07-01"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Add package to client [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/client_packages"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nAdd package to client [Alpha] Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "client_id": {
                    "description": "Client ID",
                    "type": "string",
                    "x-reference-to": "clients.contact"
                  },
                  "conversation_id": {
                    "description": "Conversation ID",
                    "type": "string",
                    "x-reference-to": "clients.matter"
                  },
                  "package_id": {
                    "description": "Package ID",
                    "type": "string",
                    "x-reference-to": "sales.package"
                  },
                  "price": {
                    "description": "Price. Default: package price.",
                    "type": "number"
                  },
                  "valid_from": {
                    "description": "First valid date of the client package (ISO 8601 format)",
                    "type": "string"
                  },
                  "valid_until": {
                    "description": "Last valid date of the client package (ISO 8601 format). Default: will be set according to package expiration.",
                    "type": "string"
                  }
                },
                "required": [
                  "client_id",
                  "package_id",
                  "valid_from"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/client_packages/cancel_redemption": {
      "put": {
        "parameters": [],
        "responses": {
          "200": {
            "description": "Client package credit updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Cancel Client Package Credit Redemption [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/payment/client_packages/cancel_redemption"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCancel Client Package Credit Redemption [Alpha] Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payment_status_id": {
                    "description": "Payment status ID",
                    "type": "string",
                    "x-reference-to": "sales.payment_status"
                  }
                },
                "required": [
                  "payment_status_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/client_packages/update_usage": {
      "post": {
        "parameters": [],
        "responses": {
          "200": {
            "description": "Client package credit updated using payment_status_id",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "package_name": "Package Name"
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure with payment_status_id",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Use Client Package Credit [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/clients/payment/client_packages/update_usage"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUse Client Package Credit [Alpha] Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "matter_uid": {
                    "description": "Matter/Conversation UID. If not provided, the system will attempt to find the default matter for the client.",
                    "type": "string",
                    "x-reference-to": "clients.matter"
                  },
                  "payment_status_uid": {
                    "description": "Payment status UID",
                    "type": "string",
                    "x-reference-to": "sales.payment_status"
                  }
                },
                "required": [
                  "payment_status_uid"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/packages": {
      "get": {
        "parameters": [
          {
            "description": "if exists the packages returns with their items",
            "in": "query",
            "name": "include_items",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "if exists the packages returns only active packages",
            "in": "query",
            "name": "active_only",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Packages Info Retrieved with active packages only",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "packages": [
                      {
                        "active": true,
                        "currency": "USD",
                        "description": "Package description",
                        "discount_amount": "25",
                        "discount_unit": "f",
                        "expiration": 1,
                        "expiration_unit": "m",
                        "id": "456687634585436",
                        "image_path": null,
                        "name": "Package name",
                        "online_payment_enabled": true,
                        "price": "223.5",
                        "products": [
                          {
                            "id": "03nmq2uih783ro0g",
                            "name": "product1_name",
                            "quantity": 2
                          },
                          {
                            "id": "57ndq2uih503rca8",
                            "name": "product2_name",
                            "quantity": 4
                          }
                        ],
                        "total_bookings": "10"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Get all package of business",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {},
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/packages"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet all package of business. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreate a package and its corresponding items Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Package Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Create Package ",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/packages"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "currency": {
                    "description": "The items currency",
                    "type": "string"
                  },
                  "description": {
                    "description": "The package description",
                    "type": "string"
                  },
                  "discount_amount": {
                    "description": "Package discount amount (Only for view purposes)",
                    "type": "number"
                  },
                  "discount_unit": {
                    "description": "Package discount unit [F-Fixed, P-Percentage] (Only for view purposes)",
                    "type": "string"
                  },
                  "expiration": {
                    "description": "Once package is instanced for a client, it will be valid for expiration number X expiration unit   ",
                    "type": "number"
                  },
                  "expiration_unit": {
                    "description": "The expiration unit (M-Month, D-Day, W-Week, Y-Year)",
                    "type": "string"
                  },
                  "image_path": {
                    "description": "The package's image path",
                    "type": "string"
                  },
                  "items": {
                    "items": {
                      "properties": {
                        "services": {
                          "items": {
                            "properties": {
                              "id": {
                                "description": "Item uid",
                                "type": "number"
                              }
                            },
                            "required": [
                              "total_bookings",
                              "id"
                            ],
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "total_bookings": {
                          "description": "Usage number allowed for specific item within the package",
                          "type": "number"
                        }
                      },
                      "required": [
                        "total_bookings",
                        "services"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "name": {
                    "description": "The name of the package",
                    "type": "string"
                  },
                  "online_payment_enabled": {
                    "description": "Online payments enabled?",
                    "type": "boolean"
                  },
                  "price": {
                    "description": "The price of the package",
                    "type": "number"
                  },
                  "products": {
                    "description": "Products included in the package. Up to 3 different products allowed. **Must be an empty array `[]` if no products are included - do NOT pass null or omit this field.**",
                    "type": "array",
                    "default": [],
                    "x-nullable": false,
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "description": "Product UID (string identifier)",
                          "type": "string"
                        },
                        "quantity": {
                          "description": "Product's quantity, must be greater than 0, up to 5 items allowed.",
                          "type": "integer",
                          "minimum": 1,
                          "maximum": 5
                        }
                      },
                      "required": [
                        "id",
                        "quantity"
                      ]
                    }
                  }
                },
                "required": [
                  "name",
                  "price",
                  "currency",
                  "items",
                  "expiration",
                  "expiration_unit"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/packages/{package_id}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "package_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package Info Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "package": {
                      "active": true,
                      "currency": "USD",
                      "description": "Package description",
                      "discount_amount": "25",
                      "discount_unit": "f",
                      "expiration": 1,
                      "expiration_unit": "m",
                      "id": "456687634585436",
                      "image_path": null,
                      "items": [
                        {
                          "services": [
                            {
                              "id": "6f156jl6z3bqwn1c",
                              "name": "Yoga Class"
                            }
                          ],
                          "total_bookings": "5"
                        },
                        {
                          "services": [
                            {
                              "id": "eeyt3rk4vk4abl5v",
                              "name": "Spinning Class"
                            }
                          ],
                          "total_bookings": "5"
                        }
                      ],
                      "name": "Package name",
                      "online_payment_enabled": true,
                      "price": "223.5",
                      "products": [
                        {
                          "id": "03nmq2uih783ro0g",
                          "name": "product1_name",
                          "quantity": 2
                        },
                        {
                          "id": "57ndq2uih503rca8",
                          "name": "product2_name",
                          "quantity": 4
                        }
                      ],
                      "total_bookings": 10
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Show package info",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.package_id": "method.request.path.package_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/packages/{package_id}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nShow package info. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "parameters": [
          {
            "in": "path",
            "name": "package_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Package Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "package": {
                      "active": true,
                      "currency": "USD",
                      "description": "Package description",
                      "discount_amount": "25",
                      "discount_unit": "f",
                      "expiration": 1,
                      "expiration_unit": "m",
                      "id": "456687634585436",
                      "image_path": null,
                      "items": [
                        {
                          "services": [
                            {
                              "id": "6f156jl6z3bqwn1c",
                              "name": "Yoga Class"
                            }
                          ],
                          "total_bookings": "5"
                        },
                        {
                          "services": [
                            {
                              "id": "eeyt3rk4vk4abl5v",
                              "name": "Spinning Class"
                            }
                          ],
                          "total_bookings": "5"
                        }
                      ],
                      "name": "Package name",
                      "online_payment_enabled": true,
                      "price": "223.5",
                      "products": [
                        {
                          "id": "03nmq2uih783ro0g",
                          "name": "product1_name",
                          "quantity": 2
                        },
                        {
                          "id": "57ndq2uih503rca8",
                          "name": "product2_name",
                          "quantity": 4
                        }
                      ],
                      "total_bookings": 10
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Error Message",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Update package [Alpha]",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "requestParameters": {
            "integration.request.path.package_id": "method.request.path.package_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/packages/{package_id}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate package [Alpha] Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "package": {
                    "properties": {
                      "currency": {
                        "description": "The items currency",
                        "type": "string"
                      },
                      "description": {
                        "description": "The package description",
                        "type": "string"
                      },
                      "discount_amount": {
                        "description": "Package discount amount (Only for view purposes)",
                        "type": "number"
                      },
                      "discount_unit": {
                        "description": "Package discount unit [F-Fixed, P-Percentage] (Only for view purposes)",
                        "type": "string"
                      },
                      "expiration": {
                        "description": "Once package is instanced for a client, it will be valid for expiration number X expiration unit",
                        "type": "number"
                      },
                      "expiration_unit": {
                        "description": "The expiration unit (M-Month, D-Day, W-Week, Y-Year)",
                        "type": "string"
                      },
                      "image_path": {
                        "description": "The package's image path",
                        "type": "string"
                      },
                      "items": {
                        "items": {
                          "properties": {
                            "services": {
                              "items": {
                                "properties": {
                                  "id": {
                                    "description": "Item uid",
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "total_bookings",
                                  "id"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "total_bookings": {
                              "description": "Usage number allowed for specific item within the package",
                              "type": "number"
                            }
                          },
                          "required": [
                            "total_bookings",
                            "services"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "name": {
                        "description": "The name of the package",
                        "type": "string"
                      },
                      "online_payment_enabled": {
                        "description": "Online payments enabled?",
                        "type": "boolean"
                      },
                      "price": {
                        "description": "The price of the package",
                        "type": "number"
                      },
                      "products": {
                        "description": "Package's products. **Use empty array `[]` to remove products or if no products are included - do NOT pass null.**",
                        "type": "array",
                        "default": [],
                        "x-nullable": false,
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "description": "Product UID (string identifier)",
                              "type": "string"
                            },
                            "quantity": {
                              "description": "Product's quantity, must be greater than 0, up to 5 items allowed.",
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 5
                            }
                          },
                          "required": [
                            "id",
                            "quantity"
                          ]
                        }
                      }
                    },
                    "required": [
                      "package"
                    ],
                    "type": "object"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/settings": {
      "get": {
        "parameters": [
          {
            "description": "A unique identifer of the business. Can be the Business UID or nickname\\external ID",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Settings Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_settings": {
                      "allow_bank_debit_on_checkout": true,
                      "allow_bank_debit_on_checkout_enabled": true,
                      "allow_credit_card": true,
                      "allow_express_wallets": true,
                      "allow_view_payments": true,
                      "billing_address": null,
                      "braintree_merchant_id": null,
                      "client_store_card_for_business_use": true,
                      "connected_payment_gateways": [
                        "stripe",
                        "paypal"
                      ],
                      "currency": "USD",
                      "enable_tips_for_bo": true,
                      "enable_tips_for_cp": true,
                      "estimate_terms": null,
                      "ewallet_type": "paypal",
                      "hide_powered_by": null,
                      "invoice_terms": null,
                      "matter_terms": null,
                      "multiple_currencies": true,
                      "offset_fee_configuration": {
                        "offset_fee_mode": "none",
                        "surcharge_fee_enabled": false,
                        "surcharge_fee_rate": 0,
                        "convenience_fee_type": null,
                        "convenience_fee_value": 0
                      },
                      "partial_payments_enabled": true,
                      "payments_enabled": true,
                      "payments_gateway_type": "stripe",
                      "paypal_email": "fake@fake.com",
                      "pdf_customization_color": null,
                      "pdf_customization_cover": null,
                      "pdf_customization_logo_size": null,
                      "pdf_customization_template": null,
                      "show_taxes": true,
                      "store_card_for_business_use_enabled": true,
                      "stripe_access_token": "fake_token",
                      "stripe_email": "fake@fake.com",
                      "stripe_user_id": "fake_user_id",
                      "supported_currencies": [
                        "USD",
                        "EUR",
                        "GBP"
                      ],
                      "tax_mode": null,
                      "terms_and_conditions_type": "text",
                      "terms_and_conditions_value": "terms and conditions",
                      "tips": [
                        {
                          "type": "percent",
                          "value": 10
                        },
                        {
                          "type": "percent",
                          "value": 15
                        }
                      ],
                      "vcita_payments_business_profession_code": null
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Current Payment Settings",
        "tags": [
          "Payment Settings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/settings"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Current Payment Settings. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Settings Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_settings": {
                      "allow_bank_debit_on_checkout": true,
                      "allow_bank_debit_on_checkout_enabled": true,
                      "allow_credit_card": true,
                      "allow_express_wallets": true,
                      "allow_view_payments": true,
                      "billing_address": "123 Fake St",
                      "braintree_merchant_id": "fake_merchant_id",
                      "client_store_card_for_business_use": true,
                      "connected_payment_gateways": [
                        "stripe"
                      ],
                      "currency": "USD",
                      "enable_tips_for_bo": true,
                      "enable_tips_for_cp": true,
                      "estimate_terms": "30 days",
                      "ewallet_type": "paypal",
                      "hide_powered_by": true,
                      "invoice_terms": "30 days",
                      "matter_term": "Term",
                      "multiple_currencies": true,
                      "offset_fee_configuration": {
                        "offset_fee_mode": "surcharge_fee",
                        "surcharge_fee_enabled": true,
                        "surcharge_fee_rate": 2.9,
                        "convenience_fee_type": null,
                        "convenience_fee_value": 0
                      },
                      "partial_payments_enabled": true,
                      "payments_enabled": true,
                      "payments_gateway_type": "stripe",
                      "paypal_email": "fake@fake.com",
                      "pdf_customization_color": "#000000",
                      "pdf_customization_cover": "default",
                      "pdf_customization_logo_size": "medium",
                      "pdf_customization_template": "default",
                      "show_taxes": true,
                      "store_card_for_business_use_enabled": true,
                      "stripe_access_token": "fake_token",
                      "stripe_email": "fake@fake.com",
                      "stripe_user_id": "fake_user_id",
                      "supported_currencies": [
                        "USD",
                        "EUR",
                        "GBP"
                      ],
                      "tax_mode": "exclude",
                      "terms_and_conditions_type": "text",
                      "terms_and_conditions_value": "terms and conditions",
                      "tips": [
                        {
                          "type": "percent",
                          "value": 10
                        },
                        {
                          "type": "percent",
                          "value": 15
                        },
                        {
                          "type": "percent",
                          "value": 20
                        }
                      ],
                      "vcita_payments_business_profession_code": "1234"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Update Payment Settings",
        "tags": [
          "Payment Settings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment/settings"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate Payment Settings Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payment_settings": {
                    "properties": {
                      "allow_bank_debit_on_checkout": {
                        "description": "Enables ACH/bank debit for client checkout.",
                        "default": true,
                        "type": "boolean"
                      },
                      "allow_credit_card": {
                        "description": "Enables card payments (credit, debit, prepaid).",
                        "default": true,
                        "type": "boolean"
                      },
                      "allow_express_wallets": {
                        "description": "Enables digital wallet payments (Google Pay, Apple Pay, etc.).",
                        "default": true,
                        "type": "boolean"
                      },
                      "allow_view_payments": {
                        "description": "Allows SMB clients to view payment history in their portal. Set true/false.",
                        "type": "boolean"
                      },
                      "braintree_access_token": {
                        "description": "Braintree Access Token",
                        "type": "string"
                      },
                      "braintree_merchant_id": {
                        "description": "Braintree Merchant ID",
                        "type": "string"
                      },
                      "braintree_refresh_token": {
                        "description": "Braintree Refresh Token",
                        "type": "string"
                      },
                      "client_store_card_for_business_use": {
                        "description": "Allows businesses to charge a card that was saved by the client for future use. Set true/false.",
                        "type": "boolean"
                      },
                      "currency": {
                        "description": "Primary currency using ISO 4217 codes (e.g., \"USD\", \"EUR\", \"GBP\").",
                        "type": "string"
                      },
                      "enable_tips_for_bo": {
                        "description": "Enables tips on back office charges created by SMB. Set true/false.",
                        "type": "boolean"
                      },
                      "enable_tips_for_cp": {
                        "description": "Enables client tips during Client Portal checkout. Set true/false.",
                        "type": "boolean"
                      },
                      "ewallet_type": {
                        "description": "E-wallet provider support. Currently \"paypal\".",
                        "enum": [
                          "paypal"
                        ],
                        "type": "string"
                      },
                      "multiple_currencies": {
                        "description": "Enables multi-currency support for businesses serving international clients. Set true/false.",
                        "type": "boolean"
                      },
                      "offset_fee_configuration": {
                        "description": "Automated fee-offset logic (surcharges/convenience fees).",
                        "properties": {
                          "offset_fee_mode": {
                            "description": "Fee logic master switch.",
                            "default": "none",
                            "enum": [
                              "surcharge_fee",
                              "convenience_fee",
                              "none"
                            ],
                            "type": "string"
                          },
                          "surcharge_fee_enabled": {
                            "description": "Read-only field indicating if credit card surcharges are enabled for this SMB.",
                            "readOnly": true,
                            "type": "boolean"
                          },
                          "surcharge_fee_rate": {
                            "description": "Read-only field. Current credit card surcharge rate for SMB cost recovery (e.g., 2.9).",
                            "readOnly": true,
                            "type": "number"
                          },
                          "convenience_fee_type": {
                            "description": "Convenience fee type. Required if \"convenience_fee\".",
                            "enum": [
                              "flat",
                              "percentage"
                            ],
                            "type": "string"
                          },
                          "convenience_fee_value": {
                            "description": "Fee amount (e.g., 2.50 flat or 1.0%). Required if \"convenience_fee\".",
                            "type": "number"
                          }
                        },
                        "type": "object"
                      },
                      "payments_enabled": {
                        "description": "Enables/disables online payments for SMBs. Set to true to activate, false to disable.",
                        "type": "boolean"
                      },
                      "payments_gateway_type": {
                        "description": "Active gateway provider type, for example \"vcitaPayments\", \"stripe\", \"square\", \"ThryvPay\", \"paypal\".",
                        "type": "string"
                      },
                      "paypal_email": {
                        "description": "Paypal account connection email used by the SMB for Paypal integration.",
                        "type": "string"
                      },
                      "stripe_access_token": {
                        "description": "[STRIPE] Stripe access token. Required when using Stripe gateway.",
                        "type": "string"
                      },
                      "stripe_email": {
                        "description": "[STRIPE] Stripe account connection email used by the SMB for Stripe integration.",
                        "type": "string"
                      },
                      "stripe_user_id": {
                        "description": "[STRIPE] Stripe account ID (format: \"acct_...\"). Required for Stripe.",
                        "type": "string"
                      },
                      "terms_and_conditions_type": {
                        "description": "Checkout terms format.",
                        "default": "text",
                        "enum": [
                          "external_link",
                          "text"
                        ],
                        "type": "string"
                      },
                      "terms_and_conditions_value": {
                        "description": "URL or text content for client terms and conditions.",
                        "type": "string"
                      },
                      "tips": {
                        "description": "Preset tip options. Send empty [] to use defaults (15%, 20%, 25%); otherwise exactly 3 items.",
                        "default": [
                          {
                            "type": "percent",
                            "value": 15
                          },
                          {
                            "type": "percent",
                            "value": 20
                          },
                          {
                            "type": "percent",
                            "value": 25
                          }
                        ],
                        "items": {
                          "properties": {
                            "type": {
                              "description": "Tip calculation mode. Use \"percent\".",
                              "enum": [
                                "percent"
                              ],
                              "type": "string"
                            },
                            "value": {
                              "description": "Tip percentage (1-99).",
                              "minimum": 0,
                              "maximum": 99,
                              "type": "integer"
                            }
                          },
                          "type": "object"
                        },
                        "type": "array"
                      }
                    },
                    "type": "object"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment/settings/update_default_currency": {
      "put": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Default Currency Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "currency": "USD"
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Update Default Currency",
        "tags": [
          "Payment Settings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate Default Currency Available for **Staff, App, and Directory tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment_statuses/{id}/apply_coupon": {
      "put": {
        "parameters": [
          {
            "description": "payment status id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Coupon code",
            "in": "query",
            "name": "coupon_code",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Coupon Applied",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_status": {
                      "amount_to_pay_h": "$8.00 USD",
                      "balance_h": "$8.00 USD",
                      "currency": "USD",
                      "id": "ej27h4bjknw0g6dh",
                      "price": "8.0",
                      "price_before_coupon": "10",
                      "state": "pending"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Invalid Coupon",
            "content": {
              "application/json": {
                "example": {
                  "error": "Invalid Coupon",
                  "error_code": "INVALID_COUPON",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Apply Coupon",
        "tags": [
          "Payment Statuses"
        ],
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "requestParameters": {
            "integration.request.path.id": "method.request.path.id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment_statuses/{id}/validate_coupon"
        },
        "description": "## Overview\nApplies a coupon code to a payment status, reducing the amount due. The payment status must reference a coupon-eligible entity type: `Meeting`, `EventAttendance`, `PendingBooking`, or `Cart`. Payment statuses for other entity types (e.g., `Invoice`, `ClientBookingPackage`, `ProductOrder`) will return 422 \"Invalid Coupon\" even if the coupon code itself is valid.\n\nAvailable for **Staff, App, and Directory tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/payment_statuses/{id}/validate_coupon": {
      "get": {
        "parameters": [
          {
            "description": "payment status id",
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Coupon code",
            "in": "query",
            "name": "coupon_code",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Valid Coupon",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_status": {
                      "amount_to_pay_h": "$8.00 USD",
                      "balance_h": "$8.00 USD",
                      "currency": "USD",
                      "id": "ej27h4bjknw0g6dh",
                      "price": "8.0",
                      "price_before_coupon": "10",
                      "state": "pending"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Invalid Coupon",
            "content": {
              "application/json": {
                "example": {
                  "error": "Invalid Coupon",
                  "error_code": "INVALID_COUPON",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Validate Coupon",
        "tags": [
          "Payment Statuses"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.id": "method.request.path.id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/payment_statuses/{id}/validate_coupon"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nValidates whether a coupon code can be applied to a payment status without actually applying it. Available for **Staff, App, and Directory tokens**.\n\n## Required Parameters\n- `coupon_code` (query parameter): The coupon code to validate.\n\n## Validation Rules\nThe coupon must meet all of the following criteria to be valid:\n- Active status (not disabled)\n- Not expired (within valid date range)\n- Not already redeemed by this payment status\n- The payment status must reference a coupon-eligible entity type: `Meeting`, `EventAttendance`, `PendingBooking`, or `Cart`. Payment statuses for other entity types (e.g., `Invoice`, `ClientBookingPackage`, `ProductOrder`) will return 422 \"Invalid Coupon\" regardless of whether the coupon code itself is valid.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/services": {
      "get": {
        "description": "## Overview\nGet services list. Available for **Staff Tokens**.\n\n## Parameters\nNote: The `business_id` parameter should contain the business UID (unique identifier like '88pzdbz1hmkdoel4'), not the numeric database ID.",
        "parameters": [
          {
            "description": "Page number of results. Default: 1",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "How many items to return per page. Default: 25. Max: 100",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "The business's unique identifier",
            "in": "query",
            "name": "business_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "services": [
                      {
                        "id": "12345abcde",
                        "type": "AppointmentService",
                        "name": "Phone/online web design consultation",
                        "charge_type": "no_price",
                        "price": 0,
                        "currency": "USD",
                        "duration": 60,
                        "interaction_type": "skype",
                        "image_path": "",
                        "photo_path": null,
                        "description": "Experience personalized design solutions with our Phone/Online Web Design Consultation service! Our expert designers will provide tailored advice and guidance to elevate your brand's online presence. Benefit from cost-effective consultations that align with your design vision. Book your consultation today at here.",
                        "approval_mode": "immediate",
                        "staff_settings": {
                          "random_selection": false,
                          "joint_availability": null
                        }
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Services List",
        "tags": [
          "Services"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/services"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/services/availability": {
      "get": {
        "description": "## Overview\nGet services availability.\n\n## Required Parameters\nEither `service_ids` OR `id` must be provided. These parameters are mutually exclusive - use one or the other.",
        "parameters": [
          {
            "description": "Comma-separated list of service UIDs. Either `service_ids` OR `id` must be provided (mutually exclusive).",
            "in": "query",
            "name": "service_ids",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Single service UID. Either `service_ids` OR `id` must be provided (mutually exclusive).",
            "in": "query",
            "name": "id",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Start date for availability query (required)",
            "in": "query",
            "name": "start_date",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "End date for availability query (required)",
            "in": "query",
            "name": "end_date",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Time zone for availability results",
            "in": "query",
            "name": "time_zone",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Filter by staff IDs",
            "in": "query",
            "name": "staff_ids_array[]",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "style": "form",
            "explode": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "availability": []
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Services Availability",
        "tags": [
          "Services"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/services/availability"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/services/{service_uid}": {
      "get": {
        "description": "## Overview\nGet specific service details.",
        "parameters": [
          {
            "description": "Service UID",
            "in": "path",
            "name": "service_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "service": {}
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Service Details",
        "tags": [
          "Services"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/services/{service_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/services/{service_uid}/availability": {
      "get": {
        "description": "## Overview\nGet specific service availability.",
        "parameters": [
          {
            "description": "Service UID",
            "in": "path",
            "name": "service_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Staff ID filter",
            "in": "query",
            "name": "staff_id",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "availability": []
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Service Specific Availability",
        "tags": [
          "Services"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/services/{service_uid}/availability"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payments/client_payment_cards/{client_uid}": {
      "get": {
        "summary": "List stored Payment Cards",
        "description": "Returns a client's stored payment cards.\n\nAvailable for **Client Tokens** and **Staff Tokens**.\n- `client_uid` is required.\n- For **Client Tokens**, `client_uid` must match the authenticated client.\n- For **Staff Tokens** (backoffice), `client_uid` identifies which client's cards to retrieve (subject to staff permissions).",
        "parameters": [
          {
            "name": "client_uid",
            "in": "path",
            "required": true,
            "description": "The unique identifier (UID) of the Client.",
            "schema": {
              "type": "string"
            },
            "example": "clt_aaabbbccc112233"
          }
        ],
        "responses": {
          "200": {
            "description": "Stored cards retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/payments/client_payment_cards.json"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "meta": {
                          "type": "object",
                          "properties": {
                            "constraints": {
                              "type": "object",
                              "properties": {
                                "max_limit_reached": {
                                  "type": "boolean",
                                  "description": "Indicates if the client has reached the maximum number of stored cards."
                                }
                              },
                              "required": [
                                "max_limit_reached"
                              ]
                            }
                          },
                          "required": [
                            "constraints"
                          ]
                        }
                      },
                      "required": [
                        "meta"
                      ]
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Payment Cards"
        ],
        "security": [
          {
            "ClientPaymentCards": []
          }
        ]
      }
    },
    "/v2/coupons": {
      "get": {
        "deprecated": true,
        "description": "## Overview\n**DEPRECATED** - Use the v3 alternative `GET /v3/sales/coupons` instead.\n\nRetrieves a list of coupons for the business. Available for **Staff tokens**.\n\n## Filtering\nYou can filter coupons by their status using the `by_status` query parameter. Multiple statuses can be provided as a comma-separated string.",
        "parameters": [
          {
            "description": "Filter coupons by status. Accepts a comma-separated list of statuses. Possible values: `active`, `scheduled`, `expired`, `still_available`. Example: `active,scheduled,expired`.",
            "in": "query",
            "name": "by_status",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number for pagination (default: 1).",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "Number of results per page (default: 25).",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupons": [
                      {
                        "uid": "cpn_abc123def456",
                        "name": "Summer Sale",
                        "coupon_type": "percent",
                        "amount": 20,
                        "discount_h": "20%",
                        "code": "SUMMER20",
                        "state": "active",
                        "valid_services": null,
                        "valid_staff": null,
                        "starts_at": "2026-01-01T00:00:00Z",
                        "expires_at": "2026-12-31T23:59:59Z",
                        "starts_at_h": "Jan 1, 2026",
                        "expires_at_h": "Dec 31, 2026",
                        "max_redemptions": null,
                        "max_redemptions_per_client": 1,
                        "total_redemptions": 5,
                        "can_expire": true
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "List Coupons",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreates a new coupon for the business. Available for **Staff tokens**.\n\n## Coupon Code\nIf the `code` field is left blank, a random alphanumeric code will be auto-generated. Coupon codes must be between 5 and 15 characters long and may only contain letters, numbers, and underscores.\n\n## Validation Rules\n- `name` is required and must be unique among active coupons.\n- `coupon_type` is required and must be either `fixed` or `percent`.\n- `amount` is required and must be a non-negative number.\n- `starts_at` is required. The date and time when the coupon becomes active.\n- `expires_at` is required. Must be a future date and must be at least 6 hours later than `starts_at`.\n- `code` must be unique among active coupons (if provided).\n- For `percent` type coupons, `amount` represents the percentage discount (e.g., 50 means 50% off).\n- For `fixed` type coupons, `amount` represents the fixed monetary discount in the business currency.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon": {
                      "uid": "cpn_abc123def456",
                      "name": "ram_test",
                      "coupon_type": "percent",
                      "amount": 50,
                      "discount_h": "50%",
                      "code": "XZYL5N8762",
                      "state": "active",
                      "valid_services": null,
                      "valid_staff": null,
                      "starts_at": "2026-02-07T22:00:00.000Z",
                      "expires_at": "2027-02-08T21:59:59.000Z",
                      "starts_at_h": "Feb 7, 2026",
                      "expires_at_h": "Feb 8, 2027",
                      "max_redemptions": null,
                      "max_redemptions_per_client": 1,
                      "total_redemptions": 0,
                      "can_expire": true
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "field": "name",
                      "message": "Name has already been taken"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "name": {
                    "description": "The display name of the coupon (e.g., \"Summer Sale\"). Must be unique among active coupons.",
                    "type": "string"
                  },
                  "coupon_type": {
                    "description": "The type of discount. Possible values: `fixed` (a fixed monetary amount off) or `percent` (a percentage off).",
                    "type": "string",
                    "enum": [
                      "fixed",
                      "percent"
                    ]
                  },
                  "code": {
                    "description": "The coupon code that clients enter to redeem the discount (e.g., \"SUMMER20\"). Must be 5-15 characters, alphanumeric and underscores only. If omitted, a random code is auto-generated.",
                    "type": "string"
                  },
                  "amount": {
                    "description": "The discount value. For `percent` type, this is the percentage (e.g., 50 means 50% off). For `fixed` type, this is the monetary amount in the business currency.",
                    "type": "number"
                  },
                  "starts_at": {
                    "description": "The date and time when the coupon becomes active, in ISO 8601 format (e.g., \"2026-02-07T22:00:00.000Z\").",
                    "type": "string",
                    "format": "date-time"
                  },
                  "expires_at": {
                    "description": "The date and time when the coupon expires, in ISO 8601 format (e.g., \"2027-02-08T21:59:59.000Z\"). Must be a future date and later than `starts_at`.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "max_redemptions": {
                    "description": "The maximum total number of times this coupon can be redeemed across all clients. Set to `null` for unlimited redemptions.",
                    "type": "integer"
                  },
                  "max_redemptions_per_client": {
                    "description": "The maximum number of times a single client can redeem this coupon. Set to `null` for unlimited per-client redemptions.",
                    "type": "integer"
                  },
                  "valid_services": {
                    "description": "An array of service UIDs that this coupon is valid for. Set to `null` to make the coupon valid for all services.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "valid_staff": {
                    "description": "An array of staff UIDs whose services this coupon is valid for. Set to `null` to make the coupon valid for all staff members.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "name",
                  "coupon_type",
                  "amount",
                  "starts_at",
                  "expires_at"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/valid_coupons": {
      "get": {
        "deprecated": true,
        "description": "## Overview\n**DEPRECATED** - Use the v3 alternative `GET /v3/sales/coupons` instead.\n\nRetrieves a list of valid (redeemable) coupons for a specific entity. Available for **Staff tokens**.\n\nThis endpoint returns only coupons that are currently active, not expired, and eligible for the specified entity based on service and staff restrictions.",
        "parameters": [
          {
            "description": "The UID of the entity to check coupon validity against (e.g., a payment UID, appointment UID, or event attendance UID).",
            "in": "query",
            "name": "entity_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "The type of entity. Possible values: `payment`, `appointment`, `event_attendance`.",
            "in": "query",
            "name": "entity_type",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupons": [
                      {
                        "uid": "cpn_abc123def456",
                        "name": "Summer Sale",
                        "coupon_type": "percent",
                        "amount": 20,
                        "discount_h": "20%",
                        "code": "SUMMER20",
                        "state": "active",
                        "valid_services": null,
                        "valid_staff": null,
                        "starts_at": "2026-01-01T00:00:00Z",
                        "expires_at": "2026-12-31T23:59:59Z",
                        "starts_at_h": "Jan 1, 2026",
                        "expires_at_h": "Dec 31, 2026",
                        "max_redemptions": null,
                        "max_redemptions_per_client": 1,
                        "total_redemptions": 5,
                        "can_expire": true
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Valid Coupons for Entity",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/valid_coupons"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/remove": {
      "post": {
        "description": "## Overview\nRemoves a previously applied coupon from an entity (payment, appointment, or event attendance). Available for **Staff tokens**.\n\nThis reverses the discount that was applied via the Apply Coupon endpoint.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Remove Coupon from Entity",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/remove"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "entity_type": {
                    "description": "The type of entity to remove the coupon from. Possible values: `payment`, `appointment`, `event_attendance`.",
                    "type": "string"
                  },
                  "entity_id": {
                    "description": "The UID of the entity to remove the coupon from.",
                    "type": "string"
                  }
                },
                "required": [
                  "entity_type",
                  "entity_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/{uid}": {
      "get": {
        "deprecated": true,
        "description": "## Overview\n**DEPRECATED** - Use the v3 alternative `GET /v3/sales/coupons` instead.\n\nRetrieves a single coupon by its UID. Available for **Staff tokens**.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon": {
                      "uid": "cpn_abc123def456",
                      "name": "Summer Sale",
                      "coupon_type": "percent",
                      "amount": 20,
                      "discount_h": "20%",
                      "code": "SUMMER20",
                      "state": "active",
                      "valid_services": null,
                      "valid_staff": null,
                      "starts_at": "2026-01-01T00:00:00Z",
                      "expires_at": "2026-12-31T23:59:59Z",
                      "starts_at_h": "Jan 1, 2026",
                      "expires_at_h": "Dec 31, 2026",
                      "max_redemptions": null,
                      "max_redemptions_per_client": 1,
                      "total_redemptions": 5,
                      "can_expire": true
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "not_found",
                      "message": "Coupon not found"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdates an existing coupon. Available for **Staff tokens**.\n\n## Validation Rules\nThe same validation rules as coupon creation apply. Additionally:\n- You cannot change the `code` to a code that is already in use by another active coupon.\n- You cannot change the `name` to a name that is already in use by another active coupon.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon to update.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon": {
                      "uid": "cpn_abc123def456",
                      "name": "Updated Summer Sale",
                      "coupon_type": "percent",
                      "amount": 25,
                      "discount_h": "25%",
                      "code": "SUMMER25",
                      "state": "active",
                      "valid_services": null,
                      "valid_staff": null,
                      "starts_at": "2026-01-01T00:00:00Z",
                      "expires_at": "2026-12-31T23:59:59Z",
                      "starts_at_h": "Jan 1, 2026",
                      "expires_at_h": "Dec 31, 2026",
                      "max_redemptions": null,
                      "max_redemptions_per_client": 1,
                      "total_redemptions": 5,
                      "can_expire": true
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "field": "code",
                      "message": "Code has already been taken"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "name": {
                    "description": "The display name of the coupon (e.g., \"Summer Sale\"). Must be unique among active coupons.",
                    "type": "string"
                  },
                  "coupon_type": {
                    "description": "The type of discount. Possible values: `fixed` (a fixed monetary amount off) or `percent` (a percentage off).",
                    "type": "string",
                    "enum": [
                      "fixed",
                      "percent"
                    ]
                  },
                  "code": {
                    "description": "The coupon code that clients enter to redeem the discount. Must be 5-15 characters, alphanumeric and underscores only.",
                    "type": "string"
                  },
                  "amount": {
                    "description": "The discount value. For `percent` type, this is the percentage (e.g., 50 means 50% off). For `fixed` type, this is the monetary amount in the business currency.",
                    "type": "number"
                  },
                  "starts_at": {
                    "description": "The date and time when the coupon becomes active, in ISO 8601 format.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "expires_at": {
                    "description": "The date and time when the coupon expires, in ISO 8601 format. Must be later than `starts_at`.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "max_redemptions": {
                    "description": "The maximum total number of times this coupon can be redeemed. Set to `null` for unlimited.",
                    "type": "integer"
                  },
                  "max_redemptions_per_client": {
                    "description": "The maximum number of times a single client can redeem this coupon. Set to `null` for unlimited.",
                    "type": "integer"
                  },
                  "valid_services": {
                    "description": "An array of service UIDs this coupon is valid for. Set to `null` for all services.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "valid_staff": {
                    "description": "An array of staff UIDs whose services this coupon is valid for. Set to `null` for all staff.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "description": "## Overview\nDeletes a coupon. Available for **Staff tokens**.\n\nThis permanently removes the coupon. Existing redemptions are not affected.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon to delete.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "success": true
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "not_found",
                      "message": "Coupon not found"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Delete Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/{uid}/expire": {
      "post": {
        "description": "## Overview\nManually expires an active coupon, making it no longer redeemable. Available for **Staff tokens**.\n\nThis sets the coupon's `expires_at` to the current time, effectively deactivating it immediately.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon to expire.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon": {
                      "uid": "cpn_abc123def456",
                      "name": "Summer Sale",
                      "coupon_type": "percent",
                      "amount": 20,
                      "discount_h": "20%",
                      "code": "SUMMER20",
                      "state": "expired",
                      "valid_services": null,
                      "valid_staff": null,
                      "starts_at": "2026-01-01T00:00:00Z",
                      "expires_at": "2026-02-08T12:00:00Z",
                      "starts_at_h": "Jan 1, 2026",
                      "expires_at_h": "Feb 8, 2026",
                      "max_redemptions": null,
                      "max_redemptions_per_client": 1,
                      "total_redemptions": 5,
                      "can_expire": false
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Expire Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}/expire"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/{uid}/enable": {
      "post": {
        "description": "## Overview\nEnables a previously disabled coupon, making it redeemable again. Available for **Staff tokens**.\n\nThis removes the `disabled` flag from the coupon's configuration. The coupon must still be within its `starts_at` and `expires_at` date range to be actively redeemable.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon to enable.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon": {
                      "uid": "cpn_abc123def456",
                      "name": "Summer Sale",
                      "coupon_type": "percent",
                      "amount": 20,
                      "discount_h": "20%",
                      "code": "SUMMER20",
                      "state": "active",
                      "valid_services": null,
                      "valid_staff": null,
                      "starts_at": "2026-01-01T00:00:00Z",
                      "expires_at": "2026-12-31T23:59:59Z",
                      "starts_at_h": "Jan 1, 2026",
                      "expires_at_h": "Dec 31, 2026",
                      "max_redemptions": null,
                      "max_redemptions_per_client": 1,
                      "total_redemptions": 5,
                      "can_expire": true
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Enable Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}/enable"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/{uid}/disable": {
      "post": {
        "description": "## Overview\nDisables an active coupon, temporarily preventing it from being redeemed. Available for **Staff tokens**.\n\nUnlike expiring a coupon, disabling is reversible - the coupon can be re-enabled using the Enable endpoint.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon to disable.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon": {
                      "uid": "cpn_abc123def456",
                      "name": "Summer Sale",
                      "coupon_type": "percent",
                      "amount": 20,
                      "discount_h": "20%",
                      "code": "SUMMER20",
                      "state": "active",
                      "valid_services": null,
                      "valid_staff": null,
                      "starts_at": "2026-01-01T00:00:00Z",
                      "expires_at": "2026-12-31T23:59:59Z",
                      "starts_at_h": "Jan 1, 2026",
                      "expires_at_h": "Dec 31, 2026",
                      "max_redemptions": null,
                      "max_redemptions_per_client": 1,
                      "total_redemptions": 5,
                      "can_expire": true
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Disable Coupon",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}/disable"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/coupons/{uid}/apply": {
      "post": {
        "description": "## Overview\nApplies a coupon to a specific entity (payment, appointment, or event attendance), granting the associated discount. Available for **Staff tokens**.\n\n## Validation\n- The coupon must be active (not expired or disabled).\n- The coupon must not have exceeded its `max_redemptions` or `max_redemptions_per_client` limits.\n- If the coupon has `valid_services` or `valid_staff` restrictions, the entity must match those restrictions.",
        "parameters": [
          {
            "description": "The unique identifier of the coupon to apply.",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "coupon_redemption": {
                      "id": "crd_xyz789",
                      "code": "SUMMER20",
                      "coupon_type": "percent",
                      "discount_h": "20%",
                      "amount": 20,
                      "name": "Summer Sale",
                      "redeemed_at": "2026-02-08T12:00:00Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "invalid",
                      "message": "Coupon has reached its maximum number of redemptions"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Apply Coupon to Entity",
        "tags": [
          "Coupons"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/coupons/{uid}/apply"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "entity_type": {
                    "description": "The type of entity to apply the coupon to. Possible values: `payment`, `appointment`, `event_attendance`.",
                    "type": "string"
                  },
                  "entity_id": {
                    "description": "The UID of the entity to apply the coupon to.",
                    "type": "string"
                  }
                },
                "required": [
                  "entity_type",
                  "entity_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/estimates": {
      "get": {
        "description": "## Overview\nReturns a list of estimates for the business.\n\n## Authentication\nAvailable for **Staff tokens** only. Requires `payments.manage` permission.\n\n>  **Fallback API Required** - This endpoint must be accessed via the fallback API URL.\n\n## Filtering\nUse the `filter` parameter to filter results:\n- `filter[created_at][gt]=2019-01-01` - Estimates created after date\n- `filter[updated_at][lt]=2019-12-31` - Estimates updated before date\n- `filter[state][in]=issued,rejected` - Estimates with specific states\n\nAvailable filter operators for dates: `gt`, `gte`, `lt`, `lte`, `eq`\nAvailable filter operators for state: `in`\n\n## Sorting\nUse the `sort` parameter to sort results:\n- `sort=created_at:asc` - Sort by created_at ascending\n- `sort=updated_at:desc` - Sort by updated_at descending\n- `sort=created_at:asc,updated_at:desc` - Multiple sort fields",
        "parameters": [
          {
            "description": "Filter results. Available fields: created_at, updated_at, state. State values: issued, approved, draft, invoiced, rejected. Operators for dates: gt, gte, lt, lte, eq. Operators for state: in. Example: filter[state][in]=issued,rejected",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort results. Available fields: created_at, updated_at, state. Operators: asc, desc. Example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number of results. Default: 1",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "How many items to return per page. Default: 25",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "status": "OK",
                  "data": {
                    "estimates": [
                      {
                        "id": "aaabbbccc112233",
                        "status": "issued",
                        "client_id": "kf9d91uh82bclson",
                        "staff_id": "mg9d34uh92bclwzg",
                        "title": "Estimate title",
                        "created_at": "2026-01-14T09:31:21.000Z",
                        "estimate_date": "2026-01-14",
                        "due_date": "2026-01-28",
                        "estimate_number": "1",
                        "currency": "USD",
                        "amount": 150,
                        "address": "123 Main St\nNew York, NY 10001",
                        "conversation_id": "rv28qk5ey5eretu9",
                        "note": "Thank you for your business!",
                        "client_name": "John Smith",
                        "client_address": "456 Oak Ave, San Francisco, CA 94102",
                        "source_data": {
                          "name": "client_portal",
                          "channel": "",
                          "campaign": null,
                          "website_url": null
                        },
                        "items": [
                          {
                            "title": "Consulting Service",
                            "description": "1 hour consulting session",
                            "amount": 100,
                            "quantity": 1,
                            "discount": 0,
                            "taxes": [
                              {
                                "rate": 10,
                                "name": "Sales Tax"
                              }
                            ]
                          },
                          {
                            "title": "Additional Materials",
                            "description": "Documentation package",
                            "amount": 50,
                            "quantity": 1,
                            "discount": 0,
                            "taxes": []
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unauthorized - Staff does not have payments.manage permission",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "error": "Unauthorized"
                }
              }
            }
          }
        },
        "summary": "Get Estimates List",
        "tags": [
          "Estimates"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/estimates"
        },
        "x-auth-type": "Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/card_requests": {
      "post": {
        "description": "## Overview\nCreates a Card Request Available for **Staff, App, and Directory tokens**.\n\n## Prerequisites\nThe business must have a payment gateway configured that supports the `client_save_card_standalone` feature (e.g., vcitaPayments, Stripe) before creating card requests. This can be verified by checking the `processing_features.client_save_card_standalone` field in the payment gateway configuration.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "card_request": {
                      "channel": "sms",
                      "client_uid": "2ug8kox93vc7ahwf",
                      "created_at": "2025-08-05T06:53:46Z",
                      "last_requested_at": "2025-08-05T06:53:46Z",
                      "staff_uid": "00215830e0950e57",
                      "uid": "fe59cwfgr76yzhdi",
                      "updated_at": "2025-08-05T06:53:46Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Card Request",
        "tags": [
          "Card Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/card_requests"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "card_request": {
                    "properties": {
                      "alpha2": {
                        "description": "Country code",
                        "type": "string"
                      },
                      "channel": {
                        "description": "channel type, possible values: email / sms",
                        "type": "string"
                      },
                      "channel_value": {
                        "description": "channel value, possible values: email / phone number",
                        "type": "string"
                      },
                      "client_uid": {
                        "description": "Client UID",
                        "type": "string",
                        "x-reference-to": "clients.contact"
                      }
                    },
                    "required": [
                      "client_uid",
                      "channel",
                      "channel_value"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "card_request"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/card_requests/{client_uid}": {
      "get": {
        "description": "## Overview\nGets a Card Request. Available for **Staff Tokens**.",
        "parameters": [
          {
            "description": "Client UID",
            "in": "path",
            "name": "client_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "card_request": {
                      "channel": "sms",
                      "client_uid": "2ug8kox93vc7ahwf",
                      "created_at": "2025-08-05T06:53:46Z",
                      "last_requested_at": "2025-08-05T06:53:46Z",
                      "staff_uid": "00215830e0950e57",
                      "uid": "fe59cwfgr76yzhdi",
                      "updated_at": "2025-08-05T06:53:46Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Card Request",
        "tags": [
          "Card Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/card_requests/{client_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/cards/{uid}": {
      "put": {
        "description": "## Overview\nUpdates a Card Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Card UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "card": {
                      "active": true,
                      "business_id": "9487420d62e8a61d",
                      "card_brand": null,
                      "cardholder_name": null,
                      "client_id": "1g36ed0wz9yhpnbc",
                      "created_at": "2025-08-05T09:53:48.525+03:00",
                      "default": true,
                      "exp_month": null,
                      "exp_year": null,
                      "id": "4y9q965ktpsglxoj",
                      "initiator": null,
                      "last_4": null,
                      "payment_provider": "stripe",
                      "staff_id": null,
                      "staff_name": "",
                      "usage_permission": "all"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Card",
        "tags": [
          "card"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/cards/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "card": {
                    "properties": {
                      "default": {
                        "description": "Indicates whether the card is the default card for the business. Only true value is accepted. To remove a card's default status, set another card as default instead.",
                        "type": "boolean"
                      },
                      "usage_permission": {
                        "description": "Card usage_permission, possible values: all / client",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "card"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/carts": {
      "post": {
        "description": "## Overview\nCreates a Sale Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Created sale",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "cart": {
                      "cart_number": 2,
                      "cart_type": null,
                      "created_at": "2025-08-05T09:53:52.977+03:00",
                      "currency": "USD",
                      "is_sale": null,
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": "nil",
                          "discount": {
                            "amount": 10
                          },
                          "entity_name": "Drum sticks",
                          "entity_type": "Product",
                          "entity_uid": "ztytw16puobna058",
                          "grand_total": 100,
                          "name": "Shampoo",
                          "quantity": 1,
                          "sub_total": 100,
                          "taxes": [],
                          "uid": null,
                          "unit_amount": 100
                        }
                      ],
                      "matter_uid": "1ei99zpv9sayyhnc",
                      "payment_request_uid": "yvn9ufix3aq8twiy",
                      "sub_total": "100.0",
                      "taxes": [],
                      "title": "Multi-item #0000002",
                      "total_price": "100.0",
                      "uid": "jdvrqcqvf9cnf2f1",
                      "updated_at": "2025-08-05T09:53:52.977+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "missing",
                      "message": "Not Found"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Sale",
        "tags": [
          "Sales"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/carts"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "cart": {
                    "properties": {
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "items": {
                        "description": "Items of the sale - Services / Products / Meeting / EventAttendance / ProductOrder",
                        "items": {
                          "properties": {
                            "amount": {
                              "description": "Price amount of the item in the specified currency. Required for catalog types (Service, Product, Package, Custom). For activity types, defaults to the activity's price if not provided. For free items, the amount should be 0.",
                              "type": "number"
                            },
                            "description": {
                              "description": "Description of the item",
                              "type": "string"
                            },
                            "discount": {
                              "description": "Discount as a percent or amount. The discount amount is subtracted from the item total. **Note:** Discount can contain either `percent` OR `amount`, but not both.",
                              "properties": {
                                "amount": {
                                  "description": "Discount amount being applied to an item. Value must be greater than 0. Cannot be used together with percent.",
                                  "type": "number"
                                },
                                "percent": {
                                  "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100. Cannot be used together with amount.",
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "entity_name": {
                              "description": "Name of the item as it will appear in reports and invoices. Required for catalog types (Service, Product, Package, Custom). For activity types (Meeting, EventAttendance, ProductOrder, ClientBookingPackage), the name is automatically derived from the linked activity.",
                              "type": "string"
                            },
                            "entity_type": {
                              "description": "Possible values: Service / Product / Package / Meeting / EventAttendance / ProductOrder / ClientBookingPackage / Custom",
                              "type": "string"
                            },
                            "entity_uid": {
                              "description": "The UID of the entity. Must be a valid UID of an existing entity matching entity_type. For entity_type=Custom, entity_uid can be empty.",
                              "type": "string",
                              "x-reference-to": "generic.entity"
                            },
                            "taxes": {
                              "items": {
                                "properties": {
                                  "name": {
                                    "description": "Tax name",
                                    "type": "string"
                                  },
                                  "rate": {
                                    "description": "Tax rate (percentage, up to 3 decimal places). The rate should be greater than 0 and less than or equal to 100.",
                                    "type": "number"
                                  }
                                },
                                "type": "object"
                              },
                              "type": "array"
                            }
                          },
                          "required": [
                            "entity_uid",
                            "entity_type",
                            "entity_name",
                            "amount"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "matter_uid": {
                        "description": "Matter UID",
                        "type": "string",
                        "x-reference-to": "clients.matter"
                      }
                    },
                    "required": [
                      "currency",
                      "items",
                      "matter_uid"
                    ],
                    "type": "object"
                  },
                  "is_sale": {
                    "description": "Required - Should create a sale (Required value = true)",
                    "type": "boolean"
                  }
                },
                "required": [
                  "cart",
                  "is_sale"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/carts/{uid}": {
      "get": {
        "description": "## Overview\nShow specific sale data.",
        "parameters": [
          {
            "description": "Sale UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "cart": {
                      "cart_number": 1,
                      "cart_type": "catalog",
                      "created_at": "2025-08-05T09:54:45.240+03:00",
                      "currency": "USD",
                      "is_sale": true,
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": null,
                          "discount": null,
                          "entity_name": "Drum sticks",
                          "entity_type": "Product",
                          "entity_uid": "ztytw16puobna058",
                          "fee_type": null,
                          "grand_total": "100.0",
                          "item_index": null,
                          "name": "Drum sticks",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 1,
                          "sub_total": "100.0",
                          "taxes": [],
                          "uid": "xa081ynil58lkqm5",
                          "unit_amount": "100.0"
                        }
                      ],
                      "matter_uid": "1ei99zpv9sayyhnc",
                      "payment_request_uid": "z64bopfhichave18",
                      "sub_total": "100.0",
                      "taxes": [],
                      "title": "Sale #1 - Drum sticks",
                      "total_price": "100.0",
                      "uid": "huohc4fdomgl83gw",
                      "updated_at": "2025-08-05T09:54:45.240+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Sale",
        "tags": [
          "Sales"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/carts/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/carts/{uid}/cancel": {
      "put": {
        "description": "## Overview\nCancel a sale Available for **Staff, App, and Directory tokens**.\n\n## Prerequisites\nThis endpoint is only available for businesses with the `point_of_sale` feature enabled. The cart must be created with `is_sale=true` to be cancellable.",
        "parameters": [
          {
            "description": "Sale UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "cart": {
                      "cart_number": 1,
                      "cart_type": "catalog",
                      "created_at": "2025-08-05T09:54:45.240+03:00",
                      "currency": null,
                      "is_sale": true,
                      "items": [
                        {
                          "cost": null,
                          "currency": null,
                          "description": null,
                          "discount": null,
                          "entity_name": "Drum sticks",
                          "entity_type": "Product",
                          "entity_uid": "ztytw16puobna058",
                          "fee_type": null,
                          "grand_total": "100.0",
                          "item_index": null,
                          "name": "Drum sticks",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 1,
                          "sub_total": "100.0",
                          "taxes": [],
                          "uid": "xa081ynil58lkqm5",
                          "unit_amount": "100.0"
                        }
                      ],
                      "matter_uid": "1ei99zpv9sayyhnc",
                      "payment_request_uid": null,
                      "sub_total": "100.0",
                      "taxes": [],
                      "title": "Sale #1 - Drum sticks",
                      "total_price": null,
                      "uid": "huohc4fdomgl83gw",
                      "updated_at": "2025-08-05T09:54:45.240+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Cancel an open sale",
        "tags": [
          "Sales"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/carts/{uid}/cancel"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "cancel_payment_statuses_items": {
                    "description": "Cancel the related activities under the sale",
                    "type": "boolean"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/carts/{uid}/cart_completed": {
      "put": {
        "description": "## Overview\nCompletes and finalizes the sale Available for **Staff, App, and Directory tokens**.\n\n## Prerequisites\nRequires business to have `point_of_sale` feature enabled. Use POST /business/payments/v1/carts with `is_sale: true` to create a sale before completion.",
        "parameters": [
          {
            "description": "Sale UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "json": {
                      "message": "Cart completed successfully"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Complete an open sale",
        "tags": [
          "Sales"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/carts/{uid}/cart_completed"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/client_packages/{uid}": {
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Client Package Info Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client_package": {
                      "active": "true",
                      "amount": 100,
                      "booking_credits": [
                        {
                          "bookings_usage": "0",
                          "credit_items": [
                            {
                              "bookings_usage": 0,
                              "item_id": "mzuk2kkt7vjnxdwo",
                              "item_type": "SERVICE"
                            }
                          ],
                          "id": "vu1rovse0166a9d9",
                          "total_bookings": "10"
                        }
                      ],
                      "bookings_usage": "0",
                      "business_id": "vqzqruk6nyclxpp6",
                      "client_id": "9yxsdkr1hdjtocpv",
                      "conversation_id": "war7ow99zh14qlty",
                      "created_at": "2020-06-01T21:05:00.562Z",
                      "currency": "USD",
                      "id": "m73jkvg4bf2z71b2",
                      "image_path": "",
                      "name": "Music Lessons",
                      "package_id": "v2fvy50p8gjuvnvb",
                      "payment_request_id": "6v5ybwkavv0z9hff",
                      "payment_request_state": "pending",
                      "products": [
                        {
                          "id": "03nmq2uih783ro0g",
                          "name": "product1_name",
                          "quantity": 2
                        },
                        {
                          "id": "57ndq2uih503rca8",
                          "name": "product2_name",
                          "quantity": 4
                        }
                      ],
                      "source": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "mg9d91uh92bclwzg",
                      "total_bookings": "10",
                      "valid_from": "2020-06-01",
                      "valid_until": "2020-07-01"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Show Client Package Info [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.client_package_id": "method.request.path.client_package_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/client_packages/{client_package_id}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nShow Client Package Info [Alpha]. Available for **Staff, App, and Directory tokens**.\n\n## Authentication\nRequires access to the business that owns the client package.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "parameters": [
          {
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Client Package Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "client_package": {
                      "active": "true",
                      "amount": 100,
                      "booking_credits": [
                        {
                          "bookings_usage": "0",
                          "credit_items": [
                            {
                              "bookings_usage": 0,
                              "item_id": "mzuk2kkt7vjnxdwo",
                              "item_type": "SERVICE"
                            }
                          ],
                          "id": "vu1rovse0166a9d9",
                          "total_bookings": "5"
                        }
                      ],
                      "bookings_usage": "0",
                      "business_id": "vqzqruk6nyclxpp6",
                      "client_id": "9yxsdkr1hdjtocpv",
                      "conversation_id": "war7ow99zh14qlty",
                      "created_at": "2020-06-01T21:05:00.562Z",
                      "currency": "USD",
                      "id": "m73jkvg4bf2z71b2",
                      "image_path": "",
                      "name": "Music Lessons",
                      "package_id": "v2fvy50p8gjuvnvb",
                      "payment_request_id": "6v5ybwkavv0z9hff",
                      "payment_request_state": "pending",
                      "products": [
                        {
                          "id": "03nmq2uih783ro0g",
                          "name": "product1_name",
                          "quantity": 2
                        },
                        {
                          "id": "57ndq2uih503rca8",
                          "name": "product2_name",
                          "quantity": 4
                        }
                      ],
                      "staff_id": "mg9d91uh92bclwzg",
                      "total_bookings": "5",
                      "valid_from": "2020-06-01",
                      "valid_until": "2021-07-01"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update client package [Alpha]",
        "tags": [
          "Client Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "requestParameters": {
            "integration.request.path.client_package_id": "method.request.path.client_package_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/client_packages/{client_package_id}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate client package [Alpha] Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "client_package": {
                    "properties": {
                      "booking_credits": {
                        "items": {
                          "properties": {
                            "id": {
                              "description": "Credit Item ID",
                              "type": "string"
                            },
                            "total_bookings": {
                              "description": "Total bookings for the provided booking credit. Must be equal or greater than the current booking credit usage.",
                              "type": "number"
                            }
                          },
                          "required": [
                            "total_bookings",
                            "id"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "valid_until": {
                        "description": "Last valid date of the client package (ISO 8601 format). Must be in the future and equal or greater than valid_from value.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "client_package"
                    ],
                    "type": "object"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/deposits": {
      "get": {
        "description": "## Overview\nShow list of deposits. Available for **Staff, App, and Directory tokens**.\n\n## Filter Validation Rules\n- When filtering by `entity_uid`, the `entity_type` filter must also be provided\n- Valid `entity_type` values: `Invoice`, `Estimate`\n- Example query: `filter[entity_uid][eq]=uid123&filter[entity_type][in]=Invoice`",
        "parameters": [
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at. available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: entity_uid, entity_type. **Important**: When entity_uid is provided, entity_type is also required. Valid entity_type values are 'Invoice' and 'Estimate'. Example: filter[entity_uid][eq]=abc123&filter[entity_type][in]=Invoice",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "deposits": [
                      {
                        "amount": {
                          "is_rounded": null,
                          "total": 50,
                          "type": "fixed",
                          "value": 50
                        },
                        "can_client_pay": true,
                        "created_at": "2025-08-05T09:54:08.266+03:00",
                        "currency": "USD",
                        "entity_type": "Invoice",
                        "entity_uid": "ehxqtvabtig2aj06",
                        "matter_uid": "8ou4cwb8h5ipjlvt",
                        "payment_request_uid": null,
                        "payment_uid": "7zv99u0v4w36l3ru",
                        "staff_uid": "63dd60d2c4783ebe",
                        "title": "Deposit for INVOICE #0000001",
                        "uid": "pzbkn3h41ntc3c4u",
                        "updated_at": "2025-08-05T09:54:08.266+03:00"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Show Deposits List",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/deposits"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreates a Deposit Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "deposit": {
                      "amount": {
                        "is_rounded": null,
                        "total": 50,
                        "type": "fixed",
                        "value": 50
                      },
                      "can_client_pay": true,
                      "created_at": "2025-08-05T09:54:09.134+03:00",
                      "currency": "USD",
                      "entity_type": "Invoice",
                      "entity_uid": "1loujducpdk71p5r",
                      "matter_uid": "8ou4cwb8h5ipjlvt",
                      "payment_request_uid": null,
                      "payment_uid": "874tdqen0acd5t7f",
                      "staff_uid": "63dd60d2c4783ebe",
                      "title": "Deposit for INVOICE #0000002",
                      "uid": "m9k8akac0pu9h71v",
                      "updated_at": "2025-08-05T09:54:09.134+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Deposit",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/deposits"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "deposit": {
                    "properties": {
                      "amount": {
                        "description": "Deposit's amount",
                        "type": "object",
                        "properties": {
                          "is_rounded": {
                            "description": "Indication whether amount is rounded to the closest dollar.",
                            "type": "boolean"
                          },
                          "total": {
                            "description": "Amount total (fixed - after percentage calculation).",
                            "type": "number"
                          },
                          "type": {
                            "description": "Amount type (e.g., \"fixed\" or \"percentage\").",
                            "type": "string"
                          },
                          "value": {
                            "description": "Amount value.",
                            "type": "number"
                          }
                        },
                        "required": [
                          "type",
                          "value",
                          "total"
                        ]
                      },
                      "can_client_pay": {
                        "description": "Indicates whether the payment will be made in Client Portal. Default is true",
                        "type": "boolean"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "entity_type": {
                        "description": "The type of entity this deposit is associated with. Must be one of: `Invoice` or `Estimate` (case-sensitive).",
                        "type": "string",
                        "enum": [
                          "Invoice",
                          "Estimate"
                        ]
                      },
                      "entity_uid": {
                        "description": "Related entity_uid",
                        "type": "string",
                        "x-reference-to": "generic.entity"
                      },
                      "matter_uid": {
                        "description": "Matter UID",
                        "type": "string",
                        "x-reference-to": "clients.matter"
                      },
                      "payment_uid": {
                        "description": "Related payment_uid",
                        "type": "string",
                        "x-reference-to": "sales.payment"
                      }
                    },
                    "required": [
                      "currency",
                      "matter_uid",
                      "amount",
                      "entity_uid",
                      "entity_type"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "deposit"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/deposits/{uid}": {
      "delete": {
        "description": "## Overview\nDelete a specific deposit Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Deposit UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Delete Deposit",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/deposits/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "get": {
        "description": "## Overview\nShow specific deposit data. Available for **Staff Tokens**.",
        "parameters": [
          {
            "description": "Deposit UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "deposit": {
                      "amount": {
                        "is_rounded": null,
                        "total": 50,
                        "type": "fixed",
                        "value": 50
                      },
                      "can_client_pay": true,
                      "created_at": "2025-08-05T09:54:08.266+03:00",
                      "currency": "USD",
                      "entity_type": "Invoice",
                      "entity_uid": "ehxqtvabtig2aj06",
                      "matter_uid": "8ou4cwb8h5ipjlvt",
                      "payment_request_uid": null,
                      "payment_uid": "7zv99u0v4w36l3ru",
                      "staff_uid": "63dd60d2c4783ebe",
                      "title": "Deposit for INVOICE #0000001",
                      "uid": "pzbkn3h41ntc3c4u",
                      "updated_at": "2025-08-05T09:54:08.266+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Show Deposit",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/deposits/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdate specific deposit Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Deposit UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "deposit": {
                      "amount": {
                        "is_rounded": null,
                        "total": 50,
                        "type": "fixed",
                        "value": 50
                      },
                      "can_client_pay": true,
                      "created_at": "2025-08-05T09:54:08.266+03:00",
                      "currency": "USD",
                      "entity_type": "Invoice",
                      "entity_uid": "ehxqtvabtig2aj06",
                      "matter_uid": "8ou4cwb8h5ipjlvt",
                      "payment_request_uid": null,
                      "payment_uid": "7zv99u0v4w36l3ru",
                      "staff_uid": "63dd60d2c4783ebe",
                      "title": "Deposit for INVOICE #0000001",
                      "uid": "pzbkn3h41ntc3c4u",
                      "updated_at": "2025-08-05T09:54:08.266+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Deposit",
        "tags": [
          "Deposits"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/deposits/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "deposit": {
                    "properties": {
                      "amount": {
                        "description": "Deposit's amount",
                        "type": "object",
                        "properties": {
                          "is_rounded": {
                            "description": "Indication whether amount is rounded to the closest dollar.",
                            "type": "boolean"
                          },
                          "total": {
                            "description": "Amount total (fixed - after percentage calculation).",
                            "type": "number"
                          },
                          "type": {
                            "description": "Amount type (e.g., \"fixed\" or \"percentage\").",
                            "type": "string"
                          },
                          "value": {
                            "description": "Amount value.",
                            "type": "number"
                          }
                        }
                      },
                      "can_client_pay": {
                        "description": "Indicates whether the payment will be made in Client Portal. Default is true",
                        "type": "boolean"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "entity_type": {
                        "description": "The type of entity this deposit is associated with. Must be one of: `Invoice` or `Estimate` (case-sensitive).",
                        "type": "string",
                        "enum": [
                          "Invoice",
                          "Estimate"
                        ]
                      },
                      "entity_uid": {
                        "description": "Related entity_uid",
                        "type": "string",
                        "x-reference-to": "generic.entity"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "deposit"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/estimates": {
      "post": {
        "description": "## Overview\nCreates an Estimate Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "estimate": {
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "The Best Barber Shop",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-09-05",
                      "estimate_label": "Estimate",
                      "estimate_number": 2,
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "currency": "USD",
                          "description": "Best Hair Conditioner",
                          "discount": {
                            "amount": "10.0",
                            "percent": "50.0"
                          },
                          "entity_type": null,
                          "entity_uid": null,
                          "grand_total": "10.0",
                          "item_index": 0,
                          "name": "Hair Conditioner",
                          "quantity": 2,
                          "sub_total": "10.0",
                          "taxes": [],
                          "uid": "p2nk17ytww78yobp",
                          "unit_amount": "10.0"
                        }
                      ],
                      "last_action": "2025-08-05T09:54:13.348+03:00",
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "tbfn3poiscu6sbdx",
                      "metadata": {
                        "display_items_total": false,
                        "display_sections_total": false,
                        "is_signature_required": null,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": "Thank you in advance!",
                      "purchase_order": null,
                      "sections": [
                        {
                          "items": [
                            {
                              "currency": "USD",
                              "description": "Best Hair Conditioner",
                              "discount": {
                                "amount": "10.0",
                                "percent": "50.0"
                              },
                              "entity_type": null,
                              "entity_uid": null,
                              "grand_total": "10.0",
                              "item_index": 0,
                              "name": "Hair Conditioner",
                              "quantity": 2,
                              "sub_total": "10.0",
                              "taxes": [],
                              "uid": "3bktizh6n28cg9b5",
                              "unit_amount": "10.0"
                            }
                          ],
                          "name": "Taylor Swift",
                          "section_index": 0,
                          "total_amount": "10.0",
                          "uid": "0xp61qwcq7zk9mt0"
                        }
                      ],
                      "status": "ISSUED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": "Payment is due on the specified due date.",
                      "total": "20.0",
                      "total_tax": 0,
                      "uid": "q2mq3cdujuw2jcpt"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Estimate",
        "tags": [
          "Estimates"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/estimates"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "estimate": {
                    "properties": {
                      "billing_address": {
                        "description": "Business billing address",
                        "type": "string"
                      },
                      "business_name": {
                        "description": "The business name. Default value: The business name",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "display_items_total": {
                        "description": "Indicates wheter items total amounts should be displayed in the estimate. Default is true",
                        "type": "boolean"
                      },
                      "display_sections_total": {
                        "description": "Indicates wheter sections total amounts should be displayed in the estimate. Default is true",
                        "type": "boolean"
                      },
                      "due_date": {
                        "description": "The date when the estimate is due, in YYYY-MM-DD format (based on the timezone of the business), must be equal or greater than the estimate issue date",
                        "type": "string"
                      },
                      "estimate_label": {
                        "description": "The invoice label. Default value: ESTIMATE (in the business locale)",
                        "type": "string"
                      },
                      "estimate_number": {
                        "description": "A unique estimate number. Default value: last estimate number increment by 1",
                        "type": "number"
                      },
                      "is_signature_required": {
                        "description": "Indicates whether signature is required for the specific estimate",
                        "type": "boolean"
                      },
                      "issue_date": {
                        "description": "Estimate date, in YYYY-MM-DD format (based on the timezone of the business)",
                        "type": "string"
                      },
                      "items": {
                        "description": "An array of estimate item information. At least one item is required (unless sections provided).",
                        "items": {
                          "properties": {
                            "description": {
                              "description": "The item description",
                              "type": "string"
                            },
                            "discount": {
                              "description": "Discount as a percent or amount. The discount amount is subtracted from the item total. **Note:** Discount can contain either `percent` OR `amount`, but not both.",
                              "properties": {
                                "amount": {
                                  "description": "Discount amount being applied to an item. Value must be greater than 0. Cannot be used together with percent.",
                                  "type": "number"
                                },
                                "percent": {
                                  "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100. Cannot be used together with amount.",
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "entity_type": {
                              "description": "Possible values: Service / Product / BookingPackage",
                              "type": "string"
                            },
                            "entity_uid": {
                              "description": "The UID of the entity. Must be a valid UID of an existing entity matching entity_type. For entity_type=Custom, entity_uid can be empty.",
                              "type": "string",
                              "x-reference-to": "generic.entity"
                            },
                            "item_index": {
                              "description": "the order of the item in the section / estimate (if not inside a section)",
                              "type": "number"
                            },
                            "name": {
                              "description": "The item name",
                              "type": "string"
                            },
                            "quantity": {
                              "description": "The quantity of the item, must be greater than 0.",
                              "type": "number"
                            },
                            "tax_uids": {
                              "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "unit_amount": {
                              "description": "The unit amount of the item",
                              "type": "number"
                            }
                          },
                          "required": [
                            "name",
                            "quantity",
                            "unit_amount"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "matter_uid": {
                        "description": "Matter UID",
                        "type": "string",
                        "x-reference-to": "clients.matter"
                      },
                      "note": {
                        "description": "A note for the invoice recipient",
                        "type": "string"
                      },
                      "notify_recipient": {
                        "description": "Indicates whether to send the estimate to the recipient. This can be set only on ISSUED estimate. Default value: true",
                        "type": "boolean"
                      },
                      "purchase_order": {
                        "description": "Purchase Order",
                        "type": "string"
                      },
                      "sections": {
                        "description": "An array of estimate sections information. requires if not general items provided.",
                        "items": {
                          "properties": {
                            "items": {
                              "description": "An array of estimate item information. At least one item is required (unless sections provided).",
                              "items": {
                                "properties": {
                                  "description": {
                                    "description": "The item description",
                                    "type": "string"
                                  },
                                  "discount": {
                                    "description": "Discount as a percent or amount. The discount amount is subtracted from the item total.",
                                    "properties": {
                                      "amount": {
                                        "description": "Discount amount being applied to an item. Valus must be greater than 0.",
                                        "type": "number"
                                      },
                                      "percent": {
                                        "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100.",
                                        "type": "number"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "entity_type": {
                                    "description": "Possible values: Service / Product / BookingPackage",
                                    "type": "string"
                                  },
                                  "entity_uid": {
                                    "description": "The UID of the entity",
                                    "type": "string",
                                    "x-reference-to": "generic.entity"
                                  },
                                  "item_index": {
                                    "description": "the order of the item in the section / estimate (if not inside a section)",
                                    "type": "number"
                                  },
                                  "name": {
                                    "description": "The item name",
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "description": "The quantity of the item, must be greater than 0.",
                                    "type": "number"
                                  },
                                  "tax_uids": {
                                    "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "unit_amount": {
                                    "description": "The unit amount of the item",
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "name",
                                  "quantity",
                                  "unit_amount",
                                  "item_index"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "The section name",
                              "type": "string"
                            },
                            "section_index": {
                              "description": "The order of the section among all sections (0-based index).",
                              "type": "integer"
                            }
                          },
                          "required": [
                            "name",
                            "section_index"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "source_campaign": {
                        "description": "Source Campaign",
                        "type": "string"
                      },
                      "source_channel": {
                        "description": "Source Channel",
                        "type": "string"
                      },
                      "source_name": {
                        "description": "Source Name",
                        "type": "string"
                      },
                      "source_url": {
                        "description": "Source Url",
                        "type": "string"
                      },
                      "status": {
                        "description": "The status of the estimate. The possible values are: DRAFT / ISSUED. Default value: ISSUED",
                        "type": "string"
                      },
                      "terms_and_conditions": {
                        "description": "The terms and conditions of the estimate",
                        "type": "string"
                      }
                    },
                    "required": [
                      "matter_uid",
                      "issue_date",
                      "due_date",
                      "currency",
                      "billing_address",
                      "items"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "estimate"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/estimates/{estimate_uid}": {
      "get": {
        "description": "## Overview\nFetch a specific estimate. Available for **Staff Tokens**.",
        "parameters": [
          {
            "description": "Estimate UID",
            "in": "path",
            "name": "estimate_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "estimate": {
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "businesse980f4492b535cb7",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-08-05",
                      "estimate_label": "Estimate",
                      "estimate_number": 1,
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "currency": "USD",
                          "description": null,
                          "discount": null,
                          "entity_type": null,
                          "entity_uid": null,
                          "grand_total": "20.0",
                          "item_index": null,
                          "name": "Hair Conditioner",
                          "quantity": 2,
                          "sub_total": "20.0",
                          "taxes": [],
                          "uid": "azuv5w1obgam63xo",
                          "unit_amount": "10.0"
                        }
                      ],
                      "last_action": "2025-08-05T09:54:11.331+03:00",
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "tbfn3poiscu6sbdx",
                      "metadata": {
                        "display_items_total": true,
                        "display_sections_total": true,
                        "is_signature_required": null,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": null,
                      "purchase_order": null,
                      "status": "ISSUED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": null,
                      "total": "20.0",
                      "total_tax": 0,
                      "uid": "tbzc47bc1cyfrg0x"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Estimate",
        "tags": [
          "Estimates"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/estimates/{estimate_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nupdate an existing estimate Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Estimate UID",
            "in": "path",
            "name": "estimate_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "estimate": {
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "businesse980f4492b535cb7",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-08-05",
                      "estimate_label": "Estimate",
                      "estimate_number": 1,
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "currency": "USD",
                          "description": null,
                          "discount": null,
                          "entity_type": null,
                          "entity_uid": null,
                          "grand_total": "20.0",
                          "item_index": null,
                          "name": "Hair Conditioner",
                          "quantity": 2,
                          "sub_total": "20.0",
                          "taxes": [],
                          "uid": "azuv5w1obgam63xo",
                          "unit_amount": "10.0"
                        }
                      ],
                      "last_action": "2025-08-05T09:54:11.331+03:00",
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "tbfn3poiscu6sbdx",
                      "metadata": {
                        "display_items_total": true,
                        "display_sections_total": true,
                        "is_signature_required": null,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": null,
                      "purchase_order": null,
                      "status": "ISSUED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": null,
                      "total": "20.0",
                      "total_tax": 0,
                      "uid": "tbzc47bc1cyfrg0x"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "update",
        "tags": [
          "Estimates"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/estimates/{estimate_uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "estimate": {
                    "properties": {
                      "billing_address": {
                        "description": "Business billing address",
                        "type": "string"
                      },
                      "business_name": {
                        "description": "The business name",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "display_items_total": {
                        "description": "Indicates wheter items total amounts should be displayed in the estimate. Default is true",
                        "type": "boolean"
                      },
                      "display_sections_total": {
                        "description": "Indicates wheter sections total amounts should be displayed in the estimate. Default is true",
                        "type": "boolean"
                      },
                      "due_date": {
                        "description": "The date when the estimate is due, in YYYY-MM-DD format (based on the timezone of the business), must be equal or greater than the estimate issue date",
                        "type": "string"
                      },
                      "estimate_label": {
                        "description": "The estimate label",
                        "type": "string"
                      },
                      "estimate_number": {
                        "description": "A unique estimate number",
                        "type": "number"
                      },
                      "is_signature_required": {
                        "description": "Indicates whether signature is required for the specific estimate",
                        "type": "boolean"
                      },
                      "issue_date": {
                        "description": "Estimate date, in YYYY-MM-DD format (based on the timezone of the business)",
                        "type": "string"
                      },
                      "items": {
                        "description": "An array of estimate item information. At least one item is required. All estimate items will be replaced with the provided items. Exisitng item that won't be provided will be removed.",
                        "items": {
                          "properties": {
                            "description": {
                              "description": "The item description",
                              "type": "string"
                            },
                            "discount": {
                              "description": "Discount as a percent or amount. The discount amount is subtracted from the item total. **Note:** Discount can contain either `percent` OR `amount`, but not both.",
                              "properties": {
                                "amount": {
                                  "description": "Discount amount being applied to an item. Value must be greater than 0. Cannot be used together with percent.",
                                  "type": "number"
                                },
                                "percent": {
                                  "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100. Cannot be used together with amount.",
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "entity_type": {
                              "description": "Possible values: Service / Product / BookingPackage",
                              "type": "string"
                            },
                            "entity_uid": {
                              "description": "The UID of the entity. Must be a valid UID of an existing entity matching entity_type. For entity_type=Custom, entity_uid can be empty.",
                              "type": "string",
                              "x-reference-to": "generic.entity"
                            },
                            "item_index": {
                              "description": "the order of the item in the section / estimate (if not inside a section)",
                              "type": "number"
                            },
                            "name": {
                              "description": "The item name",
                              "type": "string"
                            },
                            "quantity": {
                              "description": "The quantity of the item, must be greater than 0.",
                              "type": "number"
                            },
                            "tax_uids": {
                              "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "unit_amount": {
                              "description": "The unit amount of the item",
                              "type": "number"
                            }
                          },
                          "required": [
                            "name",
                            "quantity",
                            "unit_amount"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "note": {
                        "description": "A note for the invoice recipient",
                        "type": "string"
                      },
                      "notify_recipient": {
                        "description": "Indicates whether to send the estimate to the recipient. This can be set only on ISSUED estimate. Default value: true",
                        "type": "boolean"
                      },
                      "purchase_order": {
                        "description": "Purchase Order",
                        "type": "string"
                      },
                      "sections": {
                        "description": "An array of estimate sections information. requires if not general items provided.",
                        "items": {
                          "properties": {
                            "items": {
                              "description": "An array of estimate item information. At least one item is required (unless sections provided).",
                              "items": {
                                "properties": {
                                  "description": {
                                    "description": "The item description",
                                    "type": "string"
                                  },
                                  "discount": {
                                    "description": "Discount as a percent or amount. The discount amount is subtracted from the item total.",
                                    "properties": {
                                      "amount": {
                                        "description": "Discount amount being applied to an item. Valus must be greater than 0.",
                                        "type": "number"
                                      },
                                      "percent": {
                                        "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100.",
                                        "type": "number"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "entity_type": {
                                    "description": "Possible values: Service / Product / BookingPackage",
                                    "type": "string"
                                  },
                                  "entity_uid": {
                                    "description": "The UID of the entity",
                                    "type": "string",
                                    "x-reference-to": "generic.entity"
                                  },
                                  "item_index": {
                                    "description": "the order of the item in the section / estimate (if not inside a section)",
                                    "type": "number"
                                  },
                                  "name": {
                                    "description": "The item name",
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "description": "The quantity of the item, must be greater than 0.",
                                    "type": "number"
                                  },
                                  "tax_uids": {
                                    "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "unit_amount": {
                                    "description": "The unit amount of the item",
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "name",
                                  "quantity",
                                  "unit_amount",
                                  "item_index"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "The section name",
                              "type": "string"
                            },
                            "section_index": {
                              "description": "The order of the section among all sections (0-based index).",
                              "type": "integer"
                            }
                          },
                          "required": [
                            "name",
                            "section_index"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "status": {
                        "description": "The status of the estimate. The possible values are: DRAFT / ISSUED / APPROVED / REJECTED.",
                        "type": "string"
                      },
                      "terms_and_conditions": {
                        "description": "The terms and conditions of the estimate",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "estimate"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/invoices": {
      "post": {
        "description": "## Overview\nCreates an Invoice Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoice": {
                      "additional_recipients": [],
                      "allow_online_payment": false,
                      "allow_partial_payment": false,
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "The Best Barber Shop",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-09-05",
                      "invoice_label": "INVOICE",
                      "invoice_number": "2",
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": "Best Hair Conditioner",
                          "discount": {
                            "amount": "10.0",
                            "percent": "50.0"
                          },
                          "entity_name": null,
                          "entity_type": null,
                          "entity_uid": null,
                          "fee_type": null,
                          "grand_total": "10.0",
                          "item_index": 0,
                          "name": "Hair Conditioner",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 2,
                          "sub_total": "10.0",
                          "taxes": [],
                          "uid": "t7xz0abgv9ip9h6n",
                          "unit_amount": "10.0"
                        }
                      ],
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "xdnlwly0alkhctsx",
                      "metadata": {
                        "display_items_total": false,
                        "display_sections_total": false,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": "Thank you in advance!",
                      "payment_status_uid": "dmzu2spv4mcojatz",
                      "purchase_order": null,
                      "sections": [
                        {
                          "items": [
                            {
                              "cost": null,
                              "currency": "USD",
                              "description": "Best Hair Conditioner",
                              "discount": {
                                "amount": "10.0",
                                "percent": "50.0"
                              },
                              "entity_name": null,
                              "entity_type": null,
                              "entity_uid": null,
                              "fee_type": null,
                              "grand_total": "10.0",
                              "item_index": 0,
                              "name": "Hair Conditioner",
                              "orig_taxes": [],
                              "partial_payments_amount": "0.0",
                              "quantity": 2,
                              "sub_total": "10.0",
                              "taxes": [],
                              "uid": "ktahe298wvsgzzm7",
                              "unit_amount": "10.0"
                            }
                          ],
                          "name": "Taylor Swift",
                          "section_index": 0,
                          "total_amount": "10.0",
                          "uid": "yyl0mlay0kf357hb"
                        }
                      ],
                      "status": "ISSUED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": "Payment is due on the specified due date.",
                      "total": 20,
                      "total_tax": 0,
                      "uid": "a410b2fhs8wwwxpk"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Invoice",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/invoices"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "invoice": {
                    "properties": {
                      "additional_recipients": {
                        "description": "An array of email addresses of additional recipients to notify",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "allow_online_payment": {
                        "description": "Indicates whether an online payment is allowed for this invoice. This can be set for business with online payment enabled and when connected to a payment gateway. Default value: true when connected to a payment gateway and online payment is enabled for the business.",
                        "type": "boolean"
                      },
                      "allow_partial_payment": {
                        "description": "Indicates whether a partial payment is allowed for this invoice. This can be set when online payment is allowed for the invoice. Default value: true when online payment allowed for the invoice and partial payment is enabled for the business.",
                        "type": "boolean"
                      },
                      "billing_address": {
                        "description": "Business billing address",
                        "type": "string"
                      },
                      "business_name": {
                        "description": "The business name. Default value: The business name",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "display_items_total": {
                        "description": "Indicates wheter items total amounts should be displayed in the invoice. Default is true",
                        "type": "boolean"
                      },
                      "display_sections_total": {
                        "description": "Indicates wheter sections total amounts should be displayed in the invoice. Default is true",
                        "type": "boolean"
                      },
                      "due_date": {
                        "description": "The date when the invoice payment is due, in YYYY-MM-DD format (based on the timezone of the business), must be equal or greater than the invoice issue date",
                        "type": "string"
                      },
                      "from_estimate_uid": {
                        "description": "The UID of the estimate from which the invoice was created.",
                        "type": "string"
                      },
                      "invoice_label": {
                        "description": "The invoice label. Default value: INVOICE (in the business locale)",
                        "type": "string"
                      },
                      "invoice_number": {
                        "description": "A unique invoice number. Default value: last invoice number increment by 1",
                        "type": "number"
                      },
                      "issue_date": {
                        "description": "Invoice date, in YYYY-MM-DD format (based on the timezone of the business)",
                        "type": "string"
                      },
                      "items": {
                        "description": "An array of invoice item information. At least one item is required (unless sections provided).",
                        "items": {
                          "properties": {
                            "description": {
                              "description": "The item description",
                              "type": "string"
                            },
                            "discount": {
                              "description": "Discount as a percent or amount. The discount amount is subtracted from the item total. **Note:** Discount can contain either `percent` OR `amount`, but not both.",
                              "properties": {
                                "amount": {
                                  "description": "Discount amount being applied to an item. Value must be greater than 0. Cannot be used together with percent.",
                                  "type": "number"
                                },
                                "percent": {
                                  "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100. Cannot be used together with amount.",
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "entity_type": {
                              "description": "Possible values: Service / Product / BookingPackage /  Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                              "type": "string"
                            },
                            "entity_uid": {
                              "description": "The UID of the entity. Must be a valid UID of an existing entity matching entity_type. For entity_type=Custom, entity_uid can be empty.",
                              "type": "string",
                              "x-reference-to": "generic.entity"
                            },
                            "item_index": {
                              "description": "the order of the item in the section / invoice (if not inside a section)",
                              "type": "number"
                            },
                            "name": {
                              "description": "The item name",
                              "type": "string"
                            },
                            "quantity": {
                              "description": "The quantity of the item, must be greater than 0. The quantity of an item with one of the following entity types must be 1: Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                              "type": "number"
                            },
                            "tax_uids": {
                              "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "unit_amount": {
                              "description": "The unit amount of the item",
                              "type": "number"
                            }
                          },
                          "required": [
                            "name",
                            "quantity",
                            "unit_amount"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "matter_uid": {
                        "description": "Matter UID",
                        "type": "string",
                        "x-reference-to": "clients.matter"
                      },
                      "note": {
                        "description": "A note for the invoice recipient",
                        "type": "string"
                      },
                      "notify_recipient": {
                        "description": "Indicates whether to send the invoice to the recipient. This can be set only on ISSUED invoice. Default value: true",
                        "type": "boolean"
                      },
                      "purchase_order": {
                        "description": "Purchase Order",
                        "type": "string"
                      },
                      "sections": {
                        "description": "An array of invoice sections information. requires if not general items provided.",
                        "items": {
                          "properties": {
                            "items": {
                              "description": "An array of invoice item information. At least one item is required (unless sections provided).",
                              "items": {
                                "properties": {
                                  "description": {
                                    "description": "The item description",
                                    "type": "string"
                                  },
                                  "discount": {
                                    "description": "Discount as a percent or amount. The discount amount is subtracted from the item total.",
                                    "properties": {
                                      "amount": {
                                        "description": "Discount amount being applied to an item. Valus must be greater than 0.",
                                        "type": "number"
                                      },
                                      "percent": {
                                        "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100.",
                                        "type": "number"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "entity_type": {
                                    "description": "Possible values: Service / Product / BookingPackage /  Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                                    "type": "string"
                                  },
                                  "entity_uid": {
                                    "description": "The UID of the entity",
                                    "type": "string",
                                    "x-reference-to": "generic.entity"
                                  },
                                  "item_index": {
                                    "description": "the order of the item in the section / invoice (if not inside a section)",
                                    "type": "number"
                                  },
                                  "name": {
                                    "description": "The item name",
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "description": "The quantity of the item, must be greater than 0. The quantity of an item with one of the following entity types must be 1: Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                                    "type": "number"
                                  },
                                  "tax_uids": {
                                    "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "unit_amount": {
                                    "description": "The unit amount of the item",
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "name",
                                  "quantity",
                                  "unit_amount",
                                  "item_index"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "The section name",
                              "type": "string"
                            },
                            "section_index": {
                              "description": "The order of the section among all sections (0-based index).",
                              "type": "integer"
                            }
                          },
                          "required": [
                            "name",
                            "section_index"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "source_campaign": {
                        "description": "Source Campaign",
                        "type": "string"
                      },
                      "source_channel": {
                        "description": "Source Channel",
                        "type": "string"
                      },
                      "source_name": {
                        "description": "Source Name",
                        "type": "string"
                      },
                      "source_url": {
                        "description": "Source Url",
                        "type": "string"
                      },
                      "status": {
                        "description": "The status of the invoice. The possible values are: DRAFT / ISSUED. Default value: ISSUED",
                        "type": "string"
                      },
                      "terms_and_conditions": {
                        "description": "The terms and conditions of the invoice",
                        "type": "string"
                      }
                    },
                    "required": [
                      "matter_uid",
                      "issue_date",
                      "due_date",
                      "currency",
                      "billing_address",
                      "items"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "invoice"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/invoices/{invoice_uid}": {
      "get": {
        "description": "## Overview\nFetch a specific invoice. Available for **Staff Tokens**.",
        "parameters": [
          {
            "description": "Invoice UID",
            "in": "path",
            "name": "invoice_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoice": {
                      "additional_recipients": [],
                      "allow_online_payment": false,
                      "allow_partial_payment": false,
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "businessbef050d548878525",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-08-05",
                      "invoice_label": "INVOICE",
                      "invoice_number": "1",
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": null,
                          "discount": null,
                          "entity_name": null,
                          "entity_type": null,
                          "entity_uid": null,
                          "fee_type": null,
                          "grand_total": "20.0",
                          "item_index": null,
                          "name": "Hair Conditioner",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 2,
                          "sub_total": "20.0",
                          "taxes": [],
                          "uid": "hgfrb6a3zoat965y",
                          "unit_amount": "10.0"
                        }
                      ],
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "xdnlwly0alkhctsx",
                      "metadata": {
                        "display_items_total": true,
                        "display_sections_total": true,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": null,
                      "payment_status_uid": "lqg45ygzykxilgqd",
                      "purchase_order": null,
                      "status": "ISSUED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": null,
                      "total": 20,
                      "total_tax": 0,
                      "uid": "59ny6pi00qjyww82"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Invoice",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/invoices/{invoice_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdate an existing invoice. Available for **Staff, App, and Directory tokens**.\n\n## Important\n- When updating invoice items, `item_index` is required to properly order the items.\n- **Sections Rule**: For invoices that already have sections in their metadata, both `items` and `sections` keys must be provided in update requests. Omitting one will result in validation errors.",
        "parameters": [
          {
            "description": "Invoice UID",
            "in": "path",
            "name": "invoice_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoice": {
                      "additional_recipients": [],
                      "allow_online_payment": false,
                      "allow_partial_payment": false,
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "businessbef050d548878525",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-08-05",
                      "invoice_label": "INVOICE",
                      "invoice_number": "1",
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": null,
                          "discount": null,
                          "entity_name": null,
                          "entity_type": null,
                          "entity_uid": null,
                          "fee_type": null,
                          "grand_total": "20.0",
                          "item_index": null,
                          "name": "Hair Conditioner",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 2,
                          "sub_total": "20.0",
                          "taxes": [],
                          "uid": "hgfrb6a3zoat965y",
                          "unit_amount": "10.0"
                        }
                      ],
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "xdnlwly0alkhctsx",
                      "metadata": {
                        "display_items_total": true,
                        "display_sections_total": true,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": null,
                      "payment_status_uid": "lqg45ygzykxilgqd",
                      "purchase_order": null,
                      "status": "ISSUED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": null,
                      "total": 20,
                      "total_tax": 0,
                      "uid": "59ny6pi00qjyww82"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "update",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/invoices/{invoice_uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "invoice": {
                    "properties": {
                      "additional_recipients": {
                        "description": "An array of email addresses of additional recipients to notify",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "allow_online_payment": {
                        "description": "translation missing: en.payments-api.business.invoices.create.update.allow_online_payment",
                        "type": "boolean"
                      },
                      "allow_partial_payment": {
                        "description": "translation missing: en.payments-api.business.invoices.create.update.allow_partial_payment",
                        "type": "boolean"
                      },
                      "billing_address": {
                        "description": "Business billing address",
                        "type": "string"
                      },
                      "business_name": {
                        "description": "The business name",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "display_items_total": {
                        "description": "Indicates wheter items total amounts should be displayed in the invoice. Default is true",
                        "type": "boolean"
                      },
                      "display_sections_total": {
                        "description": "Indicates wheter sections total amounts should be displayed in the invoice. Default is true",
                        "type": "boolean"
                      },
                      "due_date": {
                        "description": "The date when the invoice payment is due, in YYYY-MM-DD format (based on the timezone of the business), must be equal or greater than the invoice issue date",
                        "type": "string"
                      },
                      "invoice_label": {
                        "description": "The invoice label",
                        "type": "string"
                      },
                      "invoice_number": {
                        "description": "A unique invoice number",
                        "type": "number"
                      },
                      "issue_date": {
                        "description": "Invoice date, in YYYY-MM-DD format (based on the timezone of the business)",
                        "type": "string"
                      },
                      "items": {
                        "description": "An array of invoice item information. At least one item is required. All invoice items will be replaced with the provided items. Exisitng item that won't be provided will be removed.",
                        "items": {
                          "properties": {
                            "description": {
                              "description": "The item description",
                              "type": "string"
                            },
                            "discount": {
                              "description": "Discount as a percent or amount. The discount amount is subtracted from the item total. **Note:** Discount can contain either `percent` OR `amount`, but not both.",
                              "properties": {
                                "amount": {
                                  "description": "Discount amount being applied to an item. Value must be greater than 0. Cannot be used together with percent.",
                                  "type": "number"
                                },
                                "percent": {
                                  "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100. Cannot be used together with amount.",
                                  "type": "number"
                                }
                              },
                              "type": "object"
                            },
                            "entity_type": {
                              "description": "Possible values: Service / Product / BookingPackage /  Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                              "type": "string"
                            },
                            "entity_uid": {
                              "description": "The UID of the entity. Must be a valid UID of an existing entity matching entity_type. For entity_type=Custom, entity_uid can be empty.",
                              "type": "string",
                              "x-reference-to": "generic.entity"
                            },
                            "item_index": {
                              "description": "The order of the item in the invoice. Required for all items when updating an invoice.",
                              "type": "integer"
                            },
                            "name": {
                              "description": "The item name",
                              "type": "string"
                            },
                            "quantity": {
                              "description": "The quantity of the item, must be greater than 0. The quantity of an item with one of the following entity types must be 1: Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                              "type": "number"
                            },
                            "tax_uids": {
                              "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                              "items": {
                                "type": "string"
                              },
                              "type": "array"
                            },
                            "uid": {
                              "description": "The item UID. Provide when updating an existing item.",
                              "type": "string"
                            },
                            "unit_amount": {
                              "description": "The unit amount of the item",
                              "type": "number"
                            }
                          },
                          "required": [
                            "name",
                            "quantity",
                            "unit_amount",
                            "item_index"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "note": {
                        "description": "A note for the invoice recipient",
                        "type": "string"
                      },
                      "notify_recipient": {
                        "description": "Indicates whether to send the invoice to the recipient. This can be set only on ISSUED invoice. Default value: true",
                        "type": "boolean"
                      },
                      "purchase_order": {
                        "description": "Purchase Order",
                        "type": "string"
                      },
                      "sections": {
                        "description": "An array of invoice sections information. requires if not general items provided.",
                        "items": {
                          "properties": {
                            "items": {
                              "description": "An array of invoice item information. At least one item is required (unless sections provided).",
                              "items": {
                                "properties": {
                                  "description": {
                                    "description": "The item description",
                                    "type": "string"
                                  },
                                  "discount": {
                                    "description": "Discount as a percent or amount. The discount amount is subtracted from the item total.",
                                    "properties": {
                                      "amount": {
                                        "description": "Discount amount being applied to an item. Valus must be greater than 0.",
                                        "type": "number"
                                      },
                                      "percent": {
                                        "description": "Percentage discount being applied to an item. Value must be greater than 0 and less than or equal to 100.",
                                        "type": "number"
                                      }
                                    },
                                    "type": "object"
                                  },
                                  "entity_type": {
                                    "description": "Possible values: Service / Product / BookingPackage /  Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                                    "type": "string"
                                  },
                                  "entity_uid": {
                                    "description": "The UID of the entity",
                                    "type": "string",
                                    "x-reference-to": "generic.entity"
                                  },
                                  "item_index": {
                                    "description": "the order of the item in the section / invoice (if not inside a section)",
                                    "type": "number"
                                  },
                                  "name": {
                                    "description": "The item name",
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "description": "The quantity of the item, must be greater than 0. The quantity of an item with one of the following entity types must be 1: Meeting / EventAttendance / ProductOrder / ClientBookingPackage",
                                    "type": "number"
                                  },
                                  "tax_uids": {
                                    "description": "An array of tax UIDs applied to an item. Up to 3 taxes per item are allowed.",
                                    "items": {
                                      "type": "string"
                                    },
                                    "type": "array"
                                  },
                                  "unit_amount": {
                                    "description": "The unit amount of the item",
                                    "type": "number"
                                  }
                                },
                                "required": [
                                  "name",
                                  "quantity",
                                  "unit_amount",
                                  "item_index"
                                ],
                                "type": "object"
                              },
                              "type": "array"
                            },
                            "name": {
                              "description": "The section name",
                              "type": "string"
                            },
                            "section_index": {
                              "description": "The order of the section among all sections (0-based index).",
                              "type": "integer"
                            }
                          },
                          "required": [
                            "name",
                            "section_index"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "status": {
                        "description": "The status of the invoice. The possible values are: DRAFT / ISSUED.",
                        "type": "string"
                      },
                      "terms_and_conditions": {
                        "description": "The terms and conditions of the invoice",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "invoice"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/invoices/{invoice_uid}/cancel": {
      "put": {
        "description": "## Overview\nCancels an Invoice Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Invoice UID",
            "in": "path",
            "name": "invoice_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "invoice": {
                      "additional_recipients": [],
                      "allow_online_payment": false,
                      "allow_partial_payment": false,
                      "billing_address": "1 Bay St, San Francisco, CA, United States",
                      "business_name": "businessbef050d548878525",
                      "client_name": "First name",
                      "contact_details": null,
                      "currency": "USD",
                      "due_date": "2025-08-05",
                      "invoice_label": "INVOICE",
                      "invoice_number": "1",
                      "issue_date": "2025-08-05",
                      "items": [
                        {
                          "cost": null,
                          "currency": "USD",
                          "description": null,
                          "discount": null,
                          "entity_name": null,
                          "entity_type": null,
                          "entity_uid": null,
                          "fee_type": null,
                          "grand_total": "20.0",
                          "item_index": null,
                          "name": "Hair Conditioner",
                          "orig_taxes": [],
                          "partial_payments_amount": "0.0",
                          "quantity": 2,
                          "sub_total": "20.0",
                          "taxes": [],
                          "uid": "hgfrb6a3zoat965y",
                          "unit_amount": "10.0"
                        }
                      ],
                      "matter_details": null,
                      "matter_name": "First name",
                      "matter_term": "Client",
                      "matter_uid": "xdnlwly0alkhctsx",
                      "metadata": {
                        "display_items_total": true,
                        "display_sections_total": true,
                        "pdf_customization": {
                          "color": null,
                          "cover": null,
                          "logo_size": null,
                          "template": null
                        },
                        "tax_mode": "exclude"
                      },
                      "note": null,
                      "payment_status_uid": "lqg45ygzykxilgqd",
                      "purchase_order": null,
                      "status": "CANCELLED",
                      "subtotal": "20.0",
                      "taxes": [],
                      "terms_and_conditions": null,
                      "total": 20,
                      "total_tax": 0,
                      "uid": "59ny6pi00qjyww82"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Cancel Invoice",
        "tags": [
          "Invoices"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/invoices/{invoice_uid}/cancel"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "unlink_activities": {
                    "description": "Define whether assocaited activities should be canceled of not. If true, assoicated activited will not be canceled and will be unlinked from the invoice. Otherwise, associated activities will remain attached to the invoice and get canceled.",
                    "type": "boolean"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/packages/reorder": {
      "put": {
        "parameters": [],
        "responses": {
          "200": {
            "description": "Packages Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Reorder packages [Alpha]",
        "tags": [
          "Packages"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/packages/order"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nReorder packages [Alpha] Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "packages": {
                    "items": {
                      "properties": {
                        "id": {
                          "description": "Package ID",
                          "type": "string"
                        },
                        "order": {
                          "description": "The position of the package in the packages list.",
                          "type": "number"
                        }
                      },
                      "required": [
                        "order",
                        "id"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payment_requests": {
      "get": {
        "description": "## Overview\nGET Payment Requests List. Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Sort by one of the following: created_at, updated_at, due_date, state, entity_type.  available operators: asc, desc. example: sort=created_at:asc,updated_at:desc",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: client_uid: filter[client_uid][eq]=123. \n                                                                                           matter_uid: filter[matter_uid][eq]=123.\n                                                                                           state: filter[state][in]=DUE/OVERDUE/NOT_YET_DUE/PAID/CANCELLED. \n                                                                                           created_at: filter[created_at][eq/lt/lte/gt/gte]=2019-01-01.\n                                                                                           updated_at: filter[updated_at][eq/lt/lte/gt/gte]=2019-01-01.\n                                                                                           due_date: filter[due_date][eq/lt/lte/gt/gte]=2019-01-01.\n                                                                                           entity_type: filter[entity_type][in]=Cart,Invoice,Meeting,EventAttendance,ProductOrder,ClientBookingPackage,Payou,PendingBooking,PendingClientBookingPackage.\n                                                                                           entity_uid: allowed only with one matching entity_type. for example: filter[entity_uid][eq]=123&filter[entity_type][in]=Meeting\n                                                                                           amount_pending: filter[amount_pending][eq/lt/lte/gt/gte]=100.\n                                                                                           amount_paid: filter[amount_paid][eq/lt/lte/gt/gte]=100.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_requests": [
                      {
                        "amount": "100.0",
                        "amount_before_coupon": null,
                        "amount_paid": 0,
                        "amount_pending": null,
                        "created_at": "2025-08-05T09:54:24.230+03:00",
                        "currency": "USD",
                        "display": true,
                        "due_date": "2025-08-05T00:00:00.000+03:00",
                        "fees_amount": 0,
                        "matter_uid": "jhtunvqcadvvqiwu",
                        "net_amount": "100.0",
                        "paid_at": null,
                        "pait_at": null,
                        "payable_type": "ProductOrder",
                        "payable_uid": "667yhdpqpielqq7s",
                        "sellable_name": "Shampoo",
                        "staff_uid": "05a2a75fc9b4f022",
                        "state": "pending",
                        "tax_mode": "exclude",
                        "taxes": [],
                        "tips_amount": 0,
                        "uid": "05ivcq2c5o62vebm",
                        "updated_at": "2025-08-05T09:54:24.230+03:00"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "GET Payment Requests List",
        "tags": [
          "Payment Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payment_requests"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payment_requests/{payment_request_uid}/send_link": {
      "post": {
        "description": "## Overview\nSend payment request link Available for **Staff tokens**.",
        "parameters": [
          {
            "description": "Payment Request UID",
            "in": "path",
            "name": "payment_request_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Send payment request link",
        "tags": [
          "Payment Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payment_requests/{payment_request_uid}/send_link"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "channel": {
                    "description": "Delivery channel. Use `email` or `sms`.",
                    "type": "string"
                  },
                  "channel_value": {
                    "description": "Email address or phone number to send the link to (e.g., \"test@example.com\" or \"+12125551234\").",
                    "type": "string"
                  },
                  "alpha2": {
                    "description": "ISO 3166-1 alpha-2 country code for SMS delivery (e.g., \"US\").",
                    "type": "string"
                  },
                  "amount": {
                    "description": "Optional partial amount to request (e.g., 25.5).",
                    "type": "number"
                  }
                },
                "required": [
                  "channel"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payment_requests/{payment_request_uid}": {
      "get": {
        "description": "## Overview\nGET Payment Request. Available for **Staff Tokens**.",
        "parameters": [
          {
            "description": "Payment Request UID",
            "in": "path",
            "name": "payment_request_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_request": {
                      "amount": "100.0",
                      "amount_before_coupon": null,
                      "amount_paid": 0,
                      "amount_pending": null,
                      "created_at": "2025-08-05T09:54:24.230+03:00",
                      "currency": "USD",
                      "display": true,
                      "due_date": "2025-08-05T00:00:00.000+03:00",
                      "fees_amount": 0,
                      "matter_uid": "jhtunvqcadvvqiwu",
                      "net_amount": "100.0",
                      "paid_at": null,
                      "pait_at": null,
                      "payable_type": "ProductOrder",
                      "payable_uid": "667yhdpqpielqq7s",
                      "sellable_name": "Shampoo",
                      "staff_uid": "05a2a75fc9b4f022",
                      "state": "pending",
                      "tax_mode": "exclude",
                      "taxes": [],
                      "tips_amount": 0,
                      "uid": "05ivcq2c5o62vebm",
                      "updated_at": "2025-08-05T09:54:24.230+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "GET Payment Request",
        "tags": [
          "Payment Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payment_requests/{payment_request_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nupdate an existing payment request Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Payment request uid",
            "in": "path",
            "name": "payment_request_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment_request": {
                      "amount": "100.0",
                      "amount_before_coupon": null,
                      "amount_paid": 0,
                      "amount_pending": null,
                      "created_at": "2025-08-05T09:54:24.230+03:00",
                      "currency": "USD",
                      "display": true,
                      "due_date": "2025-08-05T00:00:00.000+03:00",
                      "fees_amount": 0,
                      "matter_uid": "jhtunvqcadvvqiwu",
                      "net_amount": "100.0",
                      "paid_at": null,
                      "pait_at": null,
                      "payable_type": "ProductOrder",
                      "sellable_name": "Shampoo",
                      "staff_uid": "05a2a75fc9b4f022",
                      "state": "pending",
                      "tax_mode": "exclude",
                      "taxes": [],
                      "tips_amount": 0,
                      "uid": "05ivcq2c5o62vebm",
                      "updated_at": "2025-08-05T09:54:24.230+03:00"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "update",
        "tags": [
          "Payment Requests"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payment_requests/{payment_request_uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payment_request": {
                    "properties": {
                      "currency": {
                        "description": "The currency of the payment request",
                        "type": "string"
                      },
                      "net_price": {
                        "description": "net price of the payment request",
                        "type": "number"
                      },
                      "price": {
                        "description": "total price of the payment request",
                        "type": "number"
                      },
                      "price_before_coupon": {
                        "description": "The price before coupon. if the payment request contain taxes, then this field value is depended on the tax_mode. if taxes are included inside the value, then the price_before_coupon value should include taxes. otherwise, it should not include taxes.",
                        "type": "number"
                      },
                      "tax_uids": {
                        "description": "Array of tax_uids (strings)",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "payment_request"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payments": {
      "get": {
        "parameters": [
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payments Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "data": {
                      "payments": [
                        {
                          "amount": 550,
                          "business_uid": "6bms9hebq9uv6ptm",
                          "created_at": "2023-03-29T17:07:11Z",
                          "currency": "ILS",
                          "marked_as_online": false,
                          "matter_uid": "aso2xnyeg1zytb4w",
                          "net_total": 500,
                          "other_payment_method": null,
                          "paid_online": false,
                          "payment_method": "Cash",
                          "payment_request_uid": "oic742ep8r7oxkl5",
                          "payment_time": "2023-03-29T17:06:59Z",
                          "provider_state": null,
                          "provider_transaction_id": null,
                          "reference": null,
                          "state": "paid",
                          "taxes": [
                            {
                              "name": "TTT",
                              "rate": 10,
                              "tax_total": 50
                            }
                          ],
                          "title": "INVOICE #0000011",
                          "uid": "49trm2x2vj43gita",
                          "updated_at": "2023-03-29T17:07:13Z"
                        }
                      ]
                    },
                    "success": true
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "missing",
                      "message": "Not Found"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "List Payments",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payments"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nList Payments. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payments/{payment_uid}": {
      "get": {
        "parameters": [
          {
            "description": "payment id",
            "in": "path",
            "name": "payment_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment found",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "data": {
                      "payment": {
                        "amount": 550,
                        "business_uid": "6bms9hebq9uv6ptm",
                        "created_at": "2023-03-29T17:07:11Z",
                        "currency": "ILS",
                        "marked_as_online": false,
                        "matter_uid": "aso2xnyeg1zytb4w",
                        "net_total": 500,
                        "other_payment_method": null,
                        "paid_online": false,
                        "payment_method": "Cash",
                        "payment_request_uid": "oic742ep8r7oxkl5",
                        "payment_time": "2023-03-29T17:06:59Z",
                        "provider_state": null,
                        "provider_transaction_id": null,
                        "reference": null,
                        "state": "paid",
                        "taxes": [
                          {
                            "name": "TTT",
                            "rate": 10,
                            "tax_total": 50
                          }
                        ],
                        "title": "INVOICE #0000011",
                        "uid": "49trm2x2vj43gita",
                        "updated_at": "2023-03-29T17:07:13Z"
                      }
                    },
                    "success": true
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "missing",
                      "field": "payment_uid",
                      "message": "Not Found"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Payment",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.payment_uid": "method.request.path.payment_uid"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payments/{payment_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Payment. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "parameters": [
          {
            "description": "If the payment's internal uid is known, use it. Otherwise, set it to be the transaction_id and set use_external_id to be true",
            "in": "path",
            "name": "payment_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payment": {
                      "amount": 550,
                      "business_uid": "6bms9hebq9uv6ptm",
                      "created_at": "2023-03-29T17:07:11Z",
                      "currency": "ILS",
                      "marked_as_online": false,
                      "matter_uid": "aso2xnyeg1zytb4w",
                      "net_total": 500,
                      "other_payment_method": null,
                      "paid_online": false,
                      "payment_method": "Cash",
                      "payment_request_uid": "oic742ep8r7oxkl5",
                      "payment_time": "2023-03-29T17:06:59Z",
                      "provider_state": null,
                      "provider_transaction_id": "m73jkvg4bf2z71b2",
                      "reference": null,
                      "state": "paid",
                      "taxes": [
                        {
                          "name": "TTT",
                          "rate": 10,
                          "tax_total": 50
                        }
                      ],
                      "title": "INVOICE #0000011",
                      "uid": "49trm2x2vj43gita",
                      "updated_at": "2023-03-29T17:07:13Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Payment",
        "tags": [
          "Payments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "requestParameters": {
            "integration.request.path.payment_uid": "method.request.path.payment_uid"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payments/{payment_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate Payment Available for **Staff, App, and Directory tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payment": {
                    "properties": {
                      "error_data": {
                        "properties": {
                          "message": {
                            "description": "Error message for a failed payment",
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "provider_state": {
                        "description": "Custom state set by gateway provider",
                        "type": "string"
                      },
                      "state": {
                        "description": "The updated state of a payment. For 'pending' payment, it can be either 'paid' or 'failed'. For 'paid' payment, it can be either 'cancelled' or 'refunded' ",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  "use_external_id": {
                    "description": "Set it to true if payment_uid is the transaction_id. Otherwise, ignore this parameter.",
                    "type": "boolean"
                  }
                },
                "required": [
                  "payment"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payouts": {
      "post": {
        "description": "## Overview\nCreates a Payout Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payout": {
                      "account_number": "1111",
                      "business_uid": "34820dbe698926dd",
                      "created_at": "2025-08-05T06:54:29Z",
                      "currency": "USD",
                      "fee": "33.54",
                      "net": "300.0",
                      "other": "0.01",
                      "processed_time": "2022-12-02T18:00:00Z",
                      "provider_created_time": "2022-12-01T08:00:00Z",
                      "provider_payout_id": "a103c48a8c0f706c",
                      "provider_updated_time": "2022-12-02T18:00:00Z",
                      "status": "Processed",
                      "total_amount": "333.55",
                      "uid": "th5fm59vetqe0i7k",
                      "updated_at": "2025-08-05T06:54:29Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Payout",
        "tags": [
          "Payouts"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payouts"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payout": {
                    "properties": {
                      "account_number": {
                        "description": "Payout Account Number",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "fee": {
                        "description": "Payout Fee Amount",
                        "type": "number"
                      },
                      "net": {
                        "description": "Payout Net Amount",
                        "type": "number"
                      },
                      "other": {
                        "description": "Payout Remaining Amount",
                        "type": "number"
                      },
                      "processed_time": {
                        "description": "Payout processed time in ISO 8601 format (e.g., \"2023-12-01T12:00:00Z\")",
                        "type": "string",
                        "format": "date-time"
                      },
                      "provider_created_time": {
                        "description": "Provider Create Time in ISO 8601 format (e.g., \"2023-12-01T10:00:00Z\")",
                        "type": "string",
                        "format": "date-time"
                      },
                      "provider_payout_id": {
                        "description": "Provider Payout ID. Must be unique per business.",
                        "type": "string",
                        "x-reference-to": "sales.payout"
                      },
                      "provider_updated_time": {
                        "description": "Provider Update Time in ISO 8601 format (e.g., \"2023-12-01T11:00:00Z\")",
                        "type": "string",
                        "format": "date-time"
                      },
                      "status": {
                        "description": "Payout Status",
                        "type": "string"
                      },
                      "total_amount": {
                        "description": "Total Amount",
                        "type": "number"
                      }
                    },
                    "required": [
                      "provider_payout_id"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "payout"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/payouts/{provider_payout_id}": {
      "get": {
        "description": "## Overview\nGets a Payout.",
        "parameters": [
          {
            "description": "Provider Payout ID",
            "in": "path",
            "name": "provider_payout_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payout": {
                      "account_number": "1111",
                      "business_uid": "34820dbe698926dd",
                      "created_at": "2025-08-05T06:54:29Z",
                      "currency": "USD",
                      "fee": "33.54",
                      "net": "300.0",
                      "other": "0.01",
                      "processed_time": "2022-12-02T18:00:00Z",
                      "provider_created_time": "2022-12-01T08:00:00Z",
                      "provider_payout_id": "d00d8d0fed649b9a",
                      "provider_updated_time": "2022-12-02T18:00:00Z",
                      "status": "Processed",
                      "total_amount": "333.55",
                      "uid": "o82mnnnz24ro2avo",
                      "updated_at": "2025-08-05T06:54:29Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Payout",
        "tags": [
          "Payouts"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payouts/{provider_payout_id}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdates a Payout Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Provider Payout ID",
            "in": "path",
            "name": "provider_payout_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "payout": {
                      "account_number": "1111",
                      "business_uid": "34820dbe698926dd",
                      "created_at": "2025-08-05T06:54:29Z",
                      "currency": "USD",
                      "fee": "33.54",
                      "net": "300.0",
                      "other": "0.01",
                      "processed_time": "2022-12-02T18:00:00Z",
                      "provider_created_time": "2022-12-01T08:00:00Z",
                      "provider_payout_id": "d00d8d0fed649b9a",
                      "provider_updated_time": "2022-12-02T18:00:00Z",
                      "status": "Processed",
                      "total_amount": "333.55",
                      "uid": "o82mnnnz24ro2avo",
                      "updated_at": "2025-08-05T06:54:29Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Payout",
        "tags": [
          "Payouts"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/payouts/{provider_payout_id}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "payout": {
                    "properties": {
                      "account_number": {
                        "description": "Payout Account Number",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "fee": {
                        "description": "Payout Fee Amount",
                        "type": "string"
                      },
                      "net": {
                        "description": "Payout Net Amount",
                        "type": "string"
                      },
                      "other": {
                        "description": "Payout Remaining Amount",
                        "type": "string"
                      },
                      "processed_time": {
                        "description": "Payout processed time",
                        "type": "string"
                      },
                      "provider_created_time": {
                        "description": "Provider Create Time",
                        "type": "string"
                      },
                      "provider_updated_time": {
                        "description": "Provider Update Time",
                        "type": "string"
                      },
                      "status": {
                        "description": "Payout Status",
                        "type": "string"
                      },
                      "total_amount": {
                        "description": "Total Amount",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "payout"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/product_orders": {
      "post": {
        "description": "## Overview\nCreates a Product Order. Available for **Staff and Internal tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product_order": {
                      "client_id": "u9mqcvkj4s4l5c44",
                      "cost": null,
                      "created_at": "2025-08-05T09:54:33.423+03:00",
                      "currency": "USD",
                      "description": "Best hair shampoo",
                      "id": "irtbidn0039v6c7e",
                      "matter_uid": "46nrcmt1lzeyccsg",
                      "name": "Shampoo",
                      "payment_request_id": "3nzp3dnyxwhu8glv",
                      "payment_request_state": "pending",
                      "price": "5.0",
                      "product_id": "kg3mnfc8j9qvqeu2",
                      "staff_id": "6d9ec6fb26d819cc",
                      "taxes": [
                        {
                          "name": "VAT",
                          "rate": 10,
                          "tax_total": 0.5
                        }
                      ],
                      "total_price": "5.5"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Product Order",
        "tags": [
          "Product Orders"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/product_orders"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "product_order": {
                    "properties": {
                      "client_id": {
                        "description": "Client UID",
                        "type": "string",
                        "x-reference-to": "clients.contact"
                      },
                      "matter_uid": {
                        "description": "Matter UID",
                        "type": "string",
                        "x-reference-to": "clients.matter"
                      },
                      "price": {
                        "description": "Price. Default: product price.",
                        "type": "number"
                      },
                      "product_id": {
                        "description": "Product UID",
                        "type": "string",
                        "x-reference-to": "sales.product"
                      },
                      "tax_ids": {
                        "description": "Tax UIDs. Default: product taxes. [] will remove the product's taxes. Up to 3 taxes per product are allowed.",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "client_id",
                      "product_id"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "product_order"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/product_orders/{product_order_uid}": {
      "get": {
        "description": "## Overview\nGets a Product Order. Available for **Staff Tokens**.",
        "parameters": [
          {
            "description": "Product Order UID",
            "in": "path",
            "name": "product_order_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product_order": {
                      "client_id": "u9mqcvkj4s4l5c44",
                      "cost": null,
                      "created_at": "2025-08-05T09:54:31.840+03:00",
                      "currency": "USD",
                      "description": "Best hair shampoo",
                      "id": "j1yv50998tacuuod",
                      "matter_uid": "46nrcmt1lzeyccsg",
                      "name": "Shampoo",
                      "payment_request_id": "oki75v7odnl6l9at",
                      "payment_request_state": "pending",
                      "price": "10.0",
                      "product_id": "kg3mnfc8j9qvqeu2",
                      "staff_id": "6d9ec6fb26d819cc",
                      "taxes": [
                        {
                          "name": "VAT",
                          "rate": 10,
                          "tax_total": 1
                        }
                      ],
                      "total_price": "11.0"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Product Order",
        "tags": [
          "Product Orders"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/product_orders/{product_order_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdates a Product Order. Available for **Staff and Internal tokens**.",
        "parameters": [
          {
            "description": "Product Order UID",
            "in": "path",
            "name": "product_order_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product_order": {
                      "client_id": "u9mqcvkj4s4l5c44",
                      "cost": null,
                      "created_at": "2025-08-05T09:54:31.840+03:00",
                      "currency": "USD",
                      "description": "Best hair shampoo",
                      "id": "j1yv50998tacuuod",
                      "matter_uid": "46nrcmt1lzeyccsg",
                      "name": "Shampoo",
                      "payment_request_id": "oki75v7odnl6l9at",
                      "payment_request_state": "pending",
                      "price": "100.0",
                      "product_id": "kg3mnfc8j9qvqeu2",
                      "staff_id": "6d9ec6fb26d819cc",
                      "taxes": [
                        {
                          "name": "VAT",
                          "rate": 10,
                          "tax_total": 10
                        }
                      ],
                      "total_price": "110.0"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Product Order",
        "tags": [
          "Product Orders"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/product_orders/{product_order_uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "product_order": {
                    "properties": {
                      "price": {
                        "description": "Price",
                        "type": "number"
                      },
                      "tax_ids": {
                        "description": "Tax UIDs. [] will remove the product order's taxes. Up to 3 taxes per product order are allowed.",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "product_order"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/products": {
      "get": {
        "parameters": [
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Available filters: display=true / display=false (return only products with display set to true / false). Usage: filter[display]=true. contains=search_string (return only products containing the provided search_string in their name or in their SKU). Usage: filter[contains]=search_string.",
            "in": "query",
            "name": "filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Products Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "products": [
                      {
                        "business_id": "vk8xo7s125mi1ln2",
                        "cost": "50.0",
                        "created_at": "2020-10-05T16:46:34.225+03:00",
                        "currency": "USD",
                        "description": "Classic",
                        "display": true,
                        "id": "5ea8ouxnkd4avj0c",
                        "image_url": "https://www.image.url",
                        "name": "Guitar",
                        "price": "100.0",
                        "sku": "ABC123",
                        "staff_id": "cx2ynjcmftohut0h",
                        "taxes": [
                          {
                            "id": "wz93stkj9vuicx4p",
                            "name": "VAT",
                            "rate": "10.0"
                          }
                        ],
                        "total_price": "110.0"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Products List",
        "tags": [
          "Products"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/products"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Products List. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nEach business has a limit of 8,500 products. Available for **Staff and Internal tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Product Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product": {
                      "business_id": "vk8xo7s125mi1ln2",
                      "cost": "50.0",
                      "created_at": "2020-10-05T16:46:34.225+03:00",
                      "currency": "USD",
                      "description": "Classic",
                      "display": true,
                      "id": "5ea8ouxnkd4avj0c",
                      "image_url": "https://www.image.url",
                      "name": "Guitar",
                      "price": "100.0",
                      "sku": "ABC123",
                      "staff_id": "cx2ynjcmftohut0h",
                      "taxes": [
                        {
                          "id": "wz93stkj9vuicx4p",
                          "name": "VAT",
                          "rate": "10.0"
                        }
                      ],
                      "total_price": "110.0"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Product",
        "tags": [
          "Products"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/products"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "product": {
                    "properties": {
                      "cost": {
                        "description": "Product cost",
                        "type": "number"
                      },
                      "currency": {
                        "description": "Product currency",
                        "type": "string"
                      },
                      "description": {
                        "description": "Product description",
                        "type": "string"
                      },
                      "display": {
                        "description": "Display on products list. Default: true",
                        "type": "boolean"
                      },
                      "image_url": {
                        "description": "Product image URL",
                        "type": "string"
                      },
                      "name": {
                        "description": "Product name",
                        "type": "string"
                      },
                      "price": {
                        "description": "Product price",
                        "type": "number"
                      },
                      "sku": {
                        "description": "Product SKU - must be unique per business",
                        "type": "string"
                      },
                      "tax_ids": {
                        "description": "Product Tax IDs",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "name",
                      "price"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "product"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/products/{product_uid}": {
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "product_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product Removed",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Remove Product [Alpha]",
        "tags": [
          "Products"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "requestParameters": {
            "integration.request.path.product_id": "method.request.path.product_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/products/{product_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nRemove Product [Alpha]. Available for **Staff and Internal tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "product_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product": {
                      "business_id": "vk8xo7s125mi1ln2",
                      "cost": "50.0",
                      "created_at": "2020-10-05T16:46:34.225+03:00",
                      "currency": "USD",
                      "description": "Classic",
                      "display": true,
                      "id": "5ea8ouxnkd4avj0c",
                      "image_url": "https://www.image.url",
                      "name": "Guitar",
                      "price": "100.0",
                      "sku": "ABC123",
                      "staff_id": "cx2ynjcmftohut0h",
                      "taxes": [
                        {
                          "id": "wz93stkj9vuicx4p",
                          "name": "VAT",
                          "rate": "10.0"
                        }
                      ],
                      "total_price": "110.0"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Product [Alpha]",
        "tags": [
          "Products"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.product_id": "method.request.path.product_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/products/{product_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Product [Alpha]. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "parameters": [
          {
            "in": "path",
            "name": "product_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "product": {
                      "business_id": "vk8xo7s125mi1ln2",
                      "cost": "50.0",
                      "created_at": "2020-10-05T16:46:34.225+03:00",
                      "currency": "USD",
                      "description": "Classic",
                      "display": true,
                      "id": "5ea8ouxnkd4avj0c",
                      "image_url": "https://www.image.url",
                      "name": "Guitar",
                      "price": "100.0",
                      "sku": "ABC123",
                      "staff_id": "cx2ynjcmftohut0h",
                      "taxes": [
                        {
                          "id": "wz93stkj9vuicx4p",
                          "name": "VAT",
                          "rate": "10.0"
                        }
                      ],
                      "total_price": "110.0"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Product",
        "tags": [
          "Products"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "requestParameters": {
            "integration.request.path.product_id": "method.request.path.product_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/products/{product_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate Product. Available for **Staff and Internal tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "product": {
                    "properties": {
                      "cost": {
                        "description": "Product cost",
                        "type": "number"
                      },
                      "description": {
                        "description": "Product description",
                        "type": "string"
                      },
                      "display": {
                        "description": "Display on products list",
                        "type": "boolean"
                      },
                      "image_url": {
                        "description": "Product image URL",
                        "type": "string"
                      },
                      "name": {
                        "description": "Product name",
                        "type": "string"
                      },
                      "price": {
                        "description": "Product price",
                        "type": "number"
                      },
                      "sku": {
                        "description": "Product SKU - must be unique per business",
                        "type": "string"
                      },
                      "tax_ids": {
                        "description": "Product Tax IDs. [] will remove the product's taxes. Up to 3 taxes per product are allowed.",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "product"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/refunds": {
      "post": {
        "description": "## Overview\nCreates a Refund Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "refund": {
                      "amount": "10.0",
                      "created_at": "2025-08-05T06:54:43Z",
                      "currency": "USD",
                      "payment_uid": "j09s0ve386dnzjvw",
                      "provider_refund_id": null,
                      "refund_time": "2025-08-05T06:54:43Z",
                      "staff_uid": "4b58e5bb45c1b0ac",
                      "uid": "80rwbw4wehojb9nl",
                      "updated_at": "2025-08-05T06:54:43Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Refund",
        "tags": [
          "Refunds"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/refunds"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "refund": {
                    "properties": {
                      "amount": {
                        "description": "The amount to refund. If not specified, the remaining amount of the payment will be refunded (original payment amount minus previously refunded amount).",
                        "type": "number"
                      },
                      "payment_uid": {
                        "description": "The UID of the payment to refund. Either payment_uid or provider_transaction_id is required.",
                        "type": "string",
                        "x-reference-to": "sales.payment"
                      },
                      "provider_refund_id": {
                        "description": "Provider refund ID. Can be provided when record_refund is set to true.",
                        "type": "string",
                        "x-reference-to": "sales.refund"
                      },
                      "provider_transaction_id": {
                        "description": "The provider transaction ID of the payment to refund. Either payment_uid or provider_transaction_id is required.",
                        "type": "string",
                        "x-reference-to": "sales.transaction"
                      },
                      "record_refund": {
                        "description": "Record refund. Set to true to record a previously processed refund. Default value: false",
                        "type": "boolean"
                      },
                      "refund_time": {
                        "description": "Refund time (in ISO 8601 format). Can be provided when record_refund is set to true.",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "refund"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/scheduled_payments_rules": {
      "get": {
        "description": "## Overview\nGet a list of Scheduled Payment Rules. Available for **Staff Tokens**.\n\n## Prerequisites\nScheduled payments require:\n1. Payment gateway configured that supports recurring payments (Stripe, vcitaPayments, Square)\n2. The `scheduled_payments` feature enabled for the business",
        "parameters": [
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "scheduled_payments_rules": [
                      {
                        "amount": "50.0",
                        "amount_paid": "0.0",
                        "canceled_by": "",
                        "canceled_date": null,
                        "created_at": "2025-08-05T06:54:49Z",
                        "currency": "USD",
                        "cycles": 20,
                        "cycles_count": 0,
                        "description": "schedule payment rule example",
                        "end_date": "2025-12-17T07:56:00Z",
                        "frequency_type": "weekly",
                        "matter_uid": "js7c2h9g3zwbigf8",
                        "name": "schedule payment rule",
                        "next_payment_time": "2025-08-06T06:56:00Z",
                        "payment_method": {
                          "type": "card",
                          "uid": "tkej8m7xm6ixx6zt"
                        },
                        "rrule": "---\n:start_time: &1\n  :time: 2025-08-06 06:56:00.000000000 Z\n  :zone: Central Time (US & Canada)\n:start_date: *1\n:rrules:\n- :validations: {}\n  :rule_type: IceCube::WeeklyRule\n  :interval: 1\n  :week_start: 0\n  :count: 20\n:rtimes: []\n:extimes: []\n",
                        "staff_uid": "1c3ab579d2d31fbb",
                        "start_date": "2025-08-06T06:56:00Z",
                        "status": "active",
                        "uid": "skt1h1awrkiv6he1",
                        "updated_at": "2025-08-05T06:54:49Z"
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get list of Scheduled Payment Rules",
        "tags": [
          "Scheduled Payment Rule"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/scheduled_payments_rules"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreates a Scheduled Payment Rule Available for **Staff, App, and Directory tokens**.\n\n## Prerequisites\n1. Business must have the `scheduled_payments` feature enabled.\n2. Business must have a payment gateway configured that supports recurring payments. Supported gateways: Stripe, vcitaPayments, Square. PayPal is not supported.\n3. The card specified in `payment_method.uid` must be active, belong to the matter client, and use the same payment provider as the business payment gateway.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "scheduled_payments_rule": {
                      "amount": "50.0",
                      "amount_paid": "0.0",
                      "canceled_by": "",
                      "canceled_date": null,
                      "created_at": "2025-08-05T06:54:50Z",
                      "currency": "USD",
                      "cycles": 20,
                      "cycles_count": 0,
                      "description": "schedule payment rule example",
                      "end_date": "2025-12-17T07:56:00Z",
                      "frequency_type": "weekly",
                      "matter_uid": "js7c2h9g3zwbigf8",
                      "name": "schedule payment rule",
                      "next_payment_time": "2025-08-06T06:56:00Z",
                      "payment_method": {
                        "type": "card",
                        "uid": "tkej8m7xm6ixx6zt"
                      },
                      "rrule": "---\n:start_time: &1\n  :time: 2025-08-06 06:56:00.000000000 Z\n  :zone: Central Time (US & Canada)\n:start_date: *1\n:rrules:\n- :validations: {}\n  :rule_type: IceCube::WeeklyRule\n  :interval: 1\n  :week_start: 0\n  :count: 20\n:rtimes: []\n:extimes: []\n",
                      "staff_uid": "1c3ab579d2d31fbb",
                      "start_date": "2025-08-06T06:56:00Z",
                      "status": "active",
                      "uid": "7gilictbt12jir3v",
                      "updated_at": "2025-08-05T06:54:50Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Scheduled Payment Rule",
        "tags": [
          "Scheduled Payment Rule"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/scheduled_payments_rules"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "scheduled_payments_rule": {
                    "properties": {
                      "amount": {
                        "description": "Scheduled Payment amount",
                        "type": "number"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "cycles": {
                        "description": "Scheduled Payment Rule cycles",
                        "type": "integer"
                      },
                      "description": {
                        "description": "Scheduled Payment Rule description",
                        "type": "string"
                      },
                      "frequency_type": {
                        "description": "Scheduled Payment Rule frequency type. Determines how often the scheduled payment recurs. Use \"one_time\" for a single payment, or \"weekly\", \"bi_weekly\", \"monthly\" for recurring payments.",
                        "type": "string",
                        "enum": [
                          "one_time",
                          "weekly",
                          "bi_weekly",
                          "monthly"
                        ]
                      },
                      "matter_uid": {
                        "description": "Related Matter UID",
                        "type": "string",
                        "x-reference-to": "clients.matter"
                      },
                      "name": {
                        "description": "Scheduled Payment Rule name",
                        "type": "string"
                      },
                      "payment_method": {
                        "description": "Payment method to use for the scheduled payment. Must reference an existing card saved for the client.",
                        "properties": {
                          "type": {
                            "description": "Scheduled Payment Rule payment method type. Possible values: card",
                            "type": "string",
                            "enum": [
                              "card"
                            ]
                          },
                          "uid": {
                            "description": "Required. Must be a valid card UID from an existing card saved for the client. Use GET /platform/v1/clients/{client_id}/payment/cards to get available card UIDs.",
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "uid"
                        ],
                        "type": "object"
                      },
                      "send_receipt": {
                        "description": "Indicates whether to send a receipt to the client",
                        "type": "boolean"
                      },
                      "start_date": {
                        "description": "Scheduled Payment start date in ISO 8601 format",
                        "type": "string",
                        "format": "date-time"
                      }
                    },
                    "required": [
                      "name",
                      "amount",
                      "currency",
                      "start_date",
                      "frequency_type",
                      "cycles",
                      "send_receipt",
                      "matter_uid",
                      "payment_method"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "scheduled_payments_rule"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/scheduled_payments_rules/{uid}/cancel": {
      "put": {
        "description": "## Overview\nCancels a Recurring Payments Rule Available for **Staff, App, and Directory tokens**.\n\n## Prerequisites\nRequires business to have a payment gateway that supports recurring payments. The scheduled payment rule must exist and be in a cancellable state.",
        "parameters": [
          {
            "description": "Recurring Payments Rule UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "scheduled_payments_rule": {
                      "amount": "50.0",
                      "amount_paid": "0.0",
                      "canceled_by": "Josephine Harvey",
                      "canceled_date": "2025-08-05T06:54:50Z",
                      "created_at": "2025-08-05T06:54:49Z",
                      "currency": "USD",
                      "cycles": 20,
                      "cycles_count": 0,
                      "description": "schedule payment rule example",
                      "end_date": "2025-12-17T07:56:00Z",
                      "frequency_type": "weekly",
                      "matter_uid": "js7c2h9g3zwbigf8",
                      "name": "schedule payment rule",
                      "next_payment_time": null,
                      "payment_method": {
                        "type": "card",
                        "uid": "tkej8m7xm6ixx6zt"
                      },
                      "rrule": "---\n:start_time: &1\n  :time: 2025-08-06 06:56:00.000000000 Z\n  :zone: Central Time (US & Canada)\n:start_date: *1\n:rrules:\n- :validations: {}\n  :rule_type: IceCube::WeeklyRule\n  :interval: 1\n  :week_start: 0\n  :count: 20\n:rtimes: []\n:extimes: []\n",
                      "staff_uid": "1c3ab579d2d31fbb",
                      "start_date": "2025-08-06T06:56:00Z",
                      "status": "cancelled",
                      "uid": "skt1h1awrkiv6he1",
                      "updated_at": "2025-08-05T06:54:50Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Cancel Recurring Payments Rule",
        "tags": [
          "Scheduled Payment Rule"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/scheduled_payments_rules/{uid}/cancel"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/scheduled_payments_rules/{uid}": {
      "get": {
        "description": "## Overview\nGets a Scheduled Payment Rule. Available for **Staff Tokens**.\n\n## Prerequisites\nScheduled payments require complex pre-configuration:\n1. **Payment Gateway**: Business must have a payment gateway configured that supports recurring payments (Stripe, vcitaPayments, Square). PayPal is not supported.\n2. **Payment Cards on File**: Clients must have active payment cards saved on file.\n3. **Feature Enabled**: The `scheduled_payments` feature must be enabled for the business.",
        "parameters": [
          {
            "description": "Scheduled Payment Rule UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "scheduled_payments_rule": {
                      "amount": "50.0",
                      "amount_paid": "0.0",
                      "canceled_by": "",
                      "canceled_date": null,
                      "created_at": "2025-08-05T06:54:49Z",
                      "currency": "USD",
                      "cycles": 20,
                      "cycles_count": 0,
                      "description": "schedule payment rule example",
                      "end_date": "2025-12-17T07:56:00Z",
                      "frequency_type": "weekly",
                      "matter_uid": "js7c2h9g3zwbigf8",
                      "name": "schedule payment rule",
                      "next_payment_time": "2025-08-06T06:56:00Z",
                      "payment_method": {
                        "type": "card",
                        "uid": "tkej8m7xm6ixx6zt"
                      },
                      "rrule": "---\n:start_time: &1\n  :time: 2025-08-06 06:56:00.000000000 Z\n  :zone: Central Time (US & Canada)\n:start_date: *1\n:rrules:\n- :validations: {}\n  :rule_type: IceCube::WeeklyRule\n  :interval: 1\n  :week_start: 0\n  :count: 20\n:rtimes: []\n:extimes: []\n",
                      "staff_uid": "1c3ab579d2d31fbb",
                      "start_date": "2025-08-06T06:56:00Z",
                      "status": "active",
                      "uid": "skt1h1awrkiv6he1",
                      "updated_at": "2025-08-05T06:54:49Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Scheduled Payment Rule",
        "tags": [
          "Scheduled Payment Rule"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/scheduled_payments_rules/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdates a Scheduled Payment Rule Available for **Staff, App, and Directory tokens**.\n\n## Prerequisites\n1. **Payment Gateway**: Business must have a payment gateway configured that supports recurring payments (Stripe, vcitaPayments, Square). PayPal is NOT supported for scheduled payments.\n2. **Valid Payment Card**: A valid payment card must exist and be associated with the client. Use `GET /platform/v1/clients/{client_id}/payment/cards` to retrieve available card UIDs.\n3. **Existing Rule**: The scheduled payment rule must already exist (created via POST endpoint).\n\n## Date Format\nThe `start_date` field must be in ISO date format (YYYY-MM-DD) and must be in the future relative to UTC timezone.",
        "parameters": [
          {
            "description": "Scheduled Payment Rule UID",
            "in": "path",
            "name": "uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "scheduled_payments_rule": {
                      "amount": "50.0",
                      "amount_paid": "0.0",
                      "canceled_by": "",
                      "canceled_date": null,
                      "created_at": "2025-08-05T06:54:49Z",
                      "currency": "USD",
                      "cycles": 20,
                      "cycles_count": 0,
                      "description": "schedule payment rule example",
                      "end_date": "2025-12-17T07:56:00Z",
                      "frequency_type": "weekly",
                      "matter_uid": "js7c2h9g3zwbigf8",
                      "name": "schedule payment rule",
                      "next_payment_time": "2025-08-06T06:56:00Z",
                      "payment_method": {
                        "type": "card",
                        "uid": "tkej8m7xm6ixx6zt"
                      },
                      "rrule": "---\n:start_time: &1\n  :time: 2025-08-06 06:56:00.000000000 Z\n  :zone: Central Time (US & Canada)\n:start_date: *1\n:rrules:\n- :validations: {}\n  :rule_type: IceCube::WeeklyRule\n  :interval: 1\n  :week_start: 0\n  :count: 20\n:rtimes: []\n:extimes: []\n",
                      "staff_uid": "1c3ab579d2d31fbb",
                      "start_date": "2025-08-06T06:56:00Z",
                      "status": "active",
                      "uid": "skt1h1awrkiv6he1",
                      "updated_at": "2025-08-05T06:54:49Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Scheduled Payment Rule",
        "tags": [
          "Scheduled Payment Rule"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/scheduled_payments_rules/{uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "scheduled_payments_rule": {
                    "properties": {
                      "payment_method": {
                        "description": "Payment method to use for the scheduled payment. Must reference an existing card saved for the client.",
                        "properties": {
                          "type": {
                            "description": "Scheduled Payment Rule payment method type. Possible values: card",
                            "type": "string",
                            "enum": [
                              "card"
                            ]
                          },
                          "uid": {
                            "description": "Required. Must be a valid card UID from an existing card saved for the client. Use GET /platform/v1/clients/{client_id}/payment/cards to get available card UIDs.",
                            "type": "string"
                          }
                        },
                        "required": [
                          "type",
                          "uid"
                        ],
                        "type": "object"
                      }
                    },
                    "required": [
                      "payment_method"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "scheduled_payments_rule"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/tax_bulk": {
      "delete": {
        "description": "## Overview\nDeletes some taxes. Available for **Staff and Internal tokens**.",
        "parameters": [
          {
            "description": "Tax uids array[] to delete. \n In case of more than one id, query in URL will appear as: \n uids[]=ID1&uids[]=ID2",
            "in": "query",
            "name": "uids[]",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "style": "form",
            "explode": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Delete Multiple Taxes",
        "tags": [
          "Bulk Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/tax_bulk"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreates some taxes. Available for **Staff and Internal tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "default_for_categories": [
                        "packages"
                      ],
                      "id": "5nod2gdbux8g853x",
                      "name": "VAT",
                      "rate": 10
                    }
                  ],
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Multiple Taxes",
        "tags": [
          "Bulk Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/tax_bulk"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "data": {
                    "description": "Taxes array",
                    "items": {
                      "properties": {
                        "default_for_categories": {
                          "description": "Determine fow what categories the tax will be applied as default. Can receive one or more from the following items: 'services', 'products', 'packages' ",
                          "type": "string"
                        },
                        "name": {
                          "description": "Tax name",
                          "type": "string"
                        },
                        "rate": {
                          "description": "Tax rate (percentage, up to 3 decimal places). The rate should be greater than 0 and less than or equal to 100.",
                          "type": "number"
                        }
                      },
                      "required": [
                        "name",
                        "rate"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "data"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdates some taxes. Available for **Staff and Internal tokens**.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": [
                    {
                      "tax": {
                        "default_for_categories": [
                          "packages"
                        ],
                        "id": "8uq6p8w5rhryuojn",
                        "name": "VAT",
                        "rate": 5
                      }
                    }
                  ],
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Multiple Taxes",
        "tags": [
          "Bulk Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/tax_bulk"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "data": {
                    "description": "Taxes array",
                    "items": {
                      "properties": {
                        "default_for_categories": {
                          "description": "Determine fow what categories the tax will be applied as default. Can receive one or more from the following items: 'services', 'products', 'packages' ",
                          "type": "string"
                        },
                        "name": {
                          "description": "Tax name",
                          "type": "string"
                        },
                        "rate": {
                          "description": "Tax rate (percentage, up to 3 decimal places). The rate should be greater than 0 and less than or equal to 100.",
                          "type": "number"
                        }
                      },
                      "required": [
                        "name",
                        "rate"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "data"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/tax_bulk/apply_defaults": {
      "put": {
        "description": "## Overview\nApply default taxes on items (Services/Products/Booking Packages) that don't have any taxes configured. Available for **Staff and Internal tokens**.",
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "data": {
                      "message": "Default taxes will be applied in the background"
                    },
                    "success": true
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Apply Default Taxes",
        "tags": [
          "Bulk Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/tax_bulk/apply_defaults"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/taxes": {
      "get": {
        "parameters": [
          {
            "description": "Page offset (default: 1)",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page size (default: 25)",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Taxes Returned",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "taxes": [
                      {
                        "default_for_categories": [
                          "packages"
                        ],
                        "id": "4k5v53fnmpdwe4ba",
                        "name": "VAT",
                        "rate": 10
                      }
                    ]
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Taxes List [Alpha]",
        "tags": [
          "Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/taxes"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Taxes List [Alpha]. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "parameters": [],
        "responses": {
          "201": {
            "description": "Tax Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "tax": {
                      "default_for_categories": [
                        "packages"
                      ],
                      "id": "5ea8ouxnkd4avj0c",
                      "name": "VAT",
                      "rate": 10
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Tax [Alpha]",
        "tags": [
          "Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/taxes"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nCreate Tax [Alpha]. Available for **Staff and Internal tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "tax": {
                    "properties": {
                      "default_for_categories": {
                        "description": "Determine fow what categories the tax will be applied as default. Can receive one or more from the following items: 'services', 'products', 'packages' ",
                        "type": "string"
                      },
                      "name": {
                        "description": "Tax name",
                        "type": "string"
                      },
                      "rate": {
                        "description": "Tax rate (percentage, up to 3 decimal places). The rate should be greater than 0 and less than or equal to 100.",
                        "type": "number"
                      }
                    },
                    "required": [
                      "name",
                      "rate"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "tax"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/taxes/{tax_uid}": {
      "delete": {
        "parameters": [
          {
            "in": "path",
            "name": "tax_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tax Removed",
            "content": {
              "application/json": {
                "example": {
                  "data": {},
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Remove Tax [Alpha]",
        "tags": [
          "Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "requestParameters": {
            "integration.request.path.tax_id": "method.request.path.tax_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/taxes/{tax_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nRemove Tax [Alpha]. Available for **Staff and Internal tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "get": {
        "parameters": [
          {
            "in": "path",
            "name": "tax_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tax Retrieved",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "tax": {
                      "default_for_categories": [
                        "packages"
                      ],
                      "id": "4k5v53fnmpdwe4ba",
                      "name": "VAT",
                      "rate": 12
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Tax [Alpha]",
        "tags": [
          "Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "requestParameters": {
            "integration.request.path.tax_id": "method.request.path.tax_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/taxes/{tax_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nGet Tax [Alpha]. Available for **Staff Tokens**.",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "parameters": [
          {
            "in": "path",
            "name": "tax_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tax Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "tax": {
                      "default_for_categories": [
                        "packages"
                      ],
                      "id": "4k5v53fnmpdwe4ba",
                      "name": "VAT",
                      "rate": 12
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Tax [Alpha]",
        "tags": [
          "Taxes"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "requestParameters": {
            "integration.request.path.tax_id": "method.request.path.tax_id"
          },
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/taxes/{tax_uid}"
        },
        "x-auth-type": "Application & Application User",
        "description": "## Overview\nUpdate Tax [Alpha]. Available for **Staff and Internal tokens**.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "tax": {
                    "properties": {
                      "default_for_categories": {
                        "description": "Determine fow what categories the tax will be applied as default. Can receive one or more from the following items: 'services', 'products', 'packages' ",
                        "type": "string"
                      },
                      "name": {
                        "description": "Tax name",
                        "type": "string"
                      },
                      "rate": {
                        "description": "Tax rate (percentage, up to 3 decimal places). The rate should be greater than 0 and less than or equal to 100.",
                        "type": "number"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "tax"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/transactions": {
      "post": {
        "description": "## Overview\nCreates a Transaction Available for **Staff, App, and Directory tokens**.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "transaction": {
                      "business_uid": "8696174e02faf5d4",
                      "card_bin": "411111",
                      "card_brand": "visa",
                      "card_issuing_bank": "Bank of America",
                      "card_last4": "2468",
                      "cardholder_name": "CARDHOLDER NAME",
                      "create_time": "2022-06-01T08:00:00Z",
                      "created_at": "2025-08-05T06:54:57Z",
                      "currency": "USD",
                      "error_data": null,
                      "fee": "5.5",
                      "metadata": {
                        "url_key": "aBcdejBOSMATlMnOpqrSTuvwxyz"
                      },
                      "net": "194.5",
                      "payment_method": "Credit Card",
                      "provider": "provider",
                      "provider_transaction_id": "3e04d954c105b280",
                      "related_provider_payout_id": "p1_dbm_aaaaaaaa111111111bbbbbb",
                      "settle_time": "2022-06-02T18:00:00Z",
                      "status": "settled",
                      "total_amount": "200.0",
                      "transaction_type": "sale",
                      "uid": "sep8qliw34xnw7et",
                      "updated_at": "2025-08-05T06:54:57Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Create Transaction",
        "tags": [
          "Transactions"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/transactions"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "transaction": {
                    "properties": {
                      "card_bin": {
                        "description": "Payment Card BIN",
                        "type": "string"
                      },
                      "card_brand": {
                        "description": "Payment Card Brand",
                        "type": "string"
                      },
                      "card_issuing_bank": {
                        "description": "Payment Card Issuing Bank Name",
                        "type": "string"
                      },
                      "card_last4": {
                        "description": "Payment Card Last 4 digits",
                        "type": "string"
                      },
                      "cardholder_name": {
                        "description": "Cardholder Name",
                        "type": "string"
                      },
                      "create_time": {
                        "description": "Transaction Create Time",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "error_data": {
                        "description": "Transaction Error Data",
                        "type": "string"
                      },
                      "fee": {
                        "description": "Transaction Fee Amount",
                        "type": "string"
                      },
                      "metadata": {
                        "description": "Set of key-value pairs that can be attached to an object. This can be useful for storing additional information about the object in a structured format. Individual keys can be unset by posting an empty value to them. All keys can be unset by posting an empty value to metadata.",
                        "type": "string"
                      },
                      "net": {
                        "description": "Transaction Net Amount",
                        "type": "string"
                      },
                      "payment_method": {
                        "description": "The payment method used in the transaction",
                        "enum": [
                          "Credit Card",
                          "Bank Payment - ACH"
                        ],
                        "type": "string"
                      },
                      "provider": {
                        "description": "Provider Name",
                        "type": "string"
                      },
                      "provider_transaction_id": {
                        "description": "Provider Transaction ID",
                        "type": "string",
                        "x-reference-to": "sales.transaction"
                      },
                      "related_provider_payout_id": {
                        "description": "The id of the provider payout that the transaction is a part of",
                        "type": "string"
                      },
                      "settle_time": {
                        "description": "Transaction Settle Time",
                        "type": "string"
                      },
                      "status": {
                        "description": "Transaction Status",
                        "type": "string"
                      },
                      "total_amount": {
                        "description": "Total Amount",
                        "type": "string"
                      },
                      "transaction_type": {
                        "description": "Transaction Type",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider_transaction_id"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "transaction"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/v1/transactions/{provider_transaction_id}": {
      "get": {
        "description": "## Overview\nGets a Transaction.",
        "parameters": [
          {
            "description": "Provider Transaction ID",
            "in": "path",
            "name": "provider_transaction_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "transaction": {
                      "business_uid": "8696174e02faf5d4",
                      "card_bin": "411111",
                      "card_brand": "visa",
                      "card_issuing_bank": "Bank of America",
                      "card_last4": "2468",
                      "cardholder_name": "CARDHOLDER NAME",
                      "create_time": "2022-06-01T08:00:00Z",
                      "created_at": "2025-08-05T06:54:57Z",
                      "currency": "USD",
                      "error_data": null,
                      "fee": "5.5",
                      "metadata": {
                        "url_key": "aBcdejBOSMATlMnOpqrSTuvwxyz"
                      },
                      "net": "194.5",
                      "payment_method": "Bank Payment - ACH",
                      "provider": "provider",
                      "provider_transaction_id": "d0679d76fef9769d",
                      "related_provider_payout_id": "p1_dbm_aaaaaaaa111111111bbbbbb",
                      "settle_time": "2022-06-02T18:00:00Z",
                      "status": "settled",
                      "total_amount": "200.0",
                      "transaction_type": "sale",
                      "uid": "4lahbms0392q9cma",
                      "updated_at": "2025-08-05T06:54:57Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Get Transaction",
        "tags": [
          "Transactions"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/transactions/{provider_transaction_id}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nUpdates a Transaction Available for **Staff, App, and Directory tokens**.",
        "parameters": [
          {
            "description": "Provider Transaction ID",
            "in": "path",
            "name": "provider_transaction_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "transaction": {
                      "business_uid": "8696174e02faf5d4",
                      "card_bin": "411111",
                      "card_brand": "visa",
                      "card_issuing_bank": "Bank of America",
                      "card_last4": "2468",
                      "cardholder_name": "CARDHOLDER NAME",
                      "create_time": "2022-06-01T08:00:00Z",
                      "created_at": "2025-08-05T06:54:57Z",
                      "currency": "USD",
                      "error_data": null,
                      "fee": "50.0",
                      "metadata": {
                        "url_key": "aBcdejBOSMATlMnOpqrSTuvwxyz"
                      },
                      "net": "150.0",
                      "payment_method": "Credit Card",
                      "provider": "provider",
                      "provider_transaction_id": "d0679d76fef9769d",
                      "related_provider_payout_id": "p1_dbm_aaaaaaaa111111111bbbbbb",
                      "settle_time": "2022-06-02T18:00:00Z",
                      "status": "settled",
                      "total_amount": "200.0",
                      "transaction_type": "sale",
                      "uid": "4lahbms0392q9cma",
                      "updated_at": "2025-08-05T06:54:58Z"
                    }
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "errors": [
                    {
                      "code": "Error Code",
                      "field": "Error Field (optional)",
                      "message": "Error Message"
                    }
                  ],
                  "success": false
                }
              }
            }
          }
        },
        "summary": "Update Transaction",
        "tags": [
          "Transactions"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/payments/v1/transactions/{provider_transaction_id}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "transaction": {
                    "properties": {
                      "card_bin": {
                        "description": "Payment Card BIN",
                        "type": "string"
                      },
                      "card_brand": {
                        "description": "Payment Card Brand",
                        "type": "string"
                      },
                      "card_issuing_bank": {
                        "description": "Payment Card Issuing Bank Name",
                        "type": "string"
                      },
                      "card_last4": {
                        "description": "Payment Card Last 4 digits",
                        "type": "string"
                      },
                      "cardholder_name": {
                        "description": "Cardholder Name",
                        "type": "string"
                      },
                      "create_time": {
                        "description": "Transaction Create Time",
                        "type": "string"
                      },
                      "currency": {
                        "description": "Three-letter ISO currency code",
                        "type": "string"
                      },
                      "error_data": {
                        "description": "Transaction Error Data",
                        "type": "string"
                      },
                      "fee": {
                        "description": "Transaction Fee Amount",
                        "type": "string"
                      },
                      "net": {
                        "description": "Transaction Net Amount",
                        "type": "string"
                      },
                      "payment_method": {
                        "description": "The payment method used in the transaction",
                        "enum": [
                          "Credit Card",
                          "Bank Payment - ACH"
                        ],
                        "type": "string"
                      },
                      "related_provider_payout_id": {
                        "description": "The id of the provider payout that the transaction is a part of",
                        "type": "string"
                      },
                      "settle_time": {
                        "description": "Transaction Settle Time",
                        "type": "string"
                      },
                      "status": {
                        "description": "Transaction Status",
                        "type": "string"
                      },
                      "total_amount": {
                        "description": "Total Amount",
                        "type": "string"
                      },
                      "transaction_type": {
                        "description": "Transaction Type",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  }
                },
                "required": [
                  "transaction"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/business/payments/platform/v1/payment/client_packages": {
      "post": {
        "parameters": [
          {
            "description": "Business UID for on-behalf-of access",
            "in": "header",
            "name": "X-On-Behalf-Of",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "client_package": {
                    "properties": {
                      "client_id": {
                        "description": "Client UID",
                        "type": "string",
                        "x-reference-to": "clients.contact"
                      },
                      "package_id": {
                        "description": "Package UID",
                        "type": "string",
                        "x-reference-to": "sales.package"
                      },
                      "valid_from": {
                        "description": "Valid from date (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date"
                      },
                      "valid_until": {
                        "description": "Valid until date (YYYY-MM-DD)",
                        "type": "string",
                        "format": "date"
                      }
                    },
                    "required": [
                      "client_id",
                      "package_id",
                      "valid_from",
                      "valid_until"
                    ],
                    "type": "object"
                  }
                },
                "required": [
                  "client_package"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payment_processing/payment_gateways": {
      "get": {
        "summary": "Get all PaymentGateways",
        "description": "Retrieve all available payment gateways - Available for **Directory, Business, and Client Tokens**\n\n**Note:** When using a **Client token**, all fields are returned in the response, but sensitive fields will contain `null` for security and privacy reasons. See response examples below for the differences between token types.",
        "parameters": [
          {
            "name": "directory_uid",
            "in": "query",
            "description": "Filter by directory unique identifier",
            "schema": {
              "type": "string"
            },
            "example": "main_directory"
          },
          {
            "name": "country",
            "in": "query",
            "description": "Filter by country, represented using ISO 3166-1 alpha-2 country codes. For example: ['US', 'CA', 'GB']",
            "schema": {
              "type": "string"
            },
            "example": "US"
          },
          {
            "name": "currency",
            "in": "query",
            "description": "Filter by supported currency, represented using ISO 4217 format. For example: ['USD', 'EUR', 'GBP']",
            "schema": {
              "type": "string"
            },
            "example": "USD"
          },
          {
            "name": "gateway_name",
            "in": "query",
            "description": "Filter by gateway name",
            "schema": {
              "type": "string"
            },
            "example": "stripe"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response. All fields are returned in the response. The response content varies based on the token type - see examples below for details.",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PaymentGatewayList"
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "Directory_or_Business_Token": {
                    "summary": "Response with Directory or Business Token",
                    "description": "Full response with all fields populated",
                    "value": {
                      "success": true,
                      "data": {
                        "payment_gateways": [
                          {
                            "uid": "pgw_abc123def456",
                            "gateway_name": "stripe_payments_v2",
                            "app_code_name": "stripe_payments_v2",
                            "gateway_logo_url": "https://cdn.stripe.com/logo.png",
                            "default_locale": "en",
                            "gateway_type": "payments_provider",
                            "status": "active",
                            "created_at": "2024-01-15T10:30:00.000Z",
                            "updated_at": "2024-01-20T14:45:00.000Z",
                            "main_gateway_benefits": [
                              {
                                "locale": "en",
                                "benefits": [
                                  "Accept payments from 195+ countries",
                                  "Industry-leading fraud protection",
                                  "Fast payouts in 2-7 business days",
                                  "24/7 customer support"
                                ]
                              }
                            ],
                            "brief_benefit_highlights": [
                              {
                                "locale": "en",
                                "highlights": [
                                  "Global reach",
                                  "Fraud protection",
                                  "Fast payouts"
                                ]
                              }
                            ],
                            "supported_countries": [
                              "US",
                              "CA",
                              "GB",
                              "AU",
                              "DE",
                              "FR",
                              "ES",
                              "IT"
                            ],
                            "supported_currencies": [
                              "USD",
                              "EUR",
                              "GBP",
                              "CAD",
                              "AUD"
                            ],
                            "minimum_charge_amount": 0.5,
                            "payment_methods": {
                              "credit_card": true,
                              "ach": true,
                              "ideal": true,
                              "bancontact": false,
                              "twint": false,
                              "express_wallets": false
                            },
                            "processing_features": {
                              "multi_currency": true,
                              "back_office_charge": true,
                              "checkout": true,
                              "refund": true,
                              "partial_refund": true,
                              "client_save_card_on_checkout": true,
                              "client_save_card_standalone": true,
                              "save_card_by_business": true,
                              "offset_fees": true
                            }
                          }
                        ]
                      }
                    }
                  },
                  "Client_Token": {
                    "summary": "Response with Client Token",
                    "description": "Response with sensitive fields set to null for Client tokens",
                    "value": {
                      "success": true,
                      "data": {
                        "payment_gateways": [
                          {
                            "uid": "pgw_abc123def456",
                            "gateway_name": "stripe_payments_v2",
                            "app_code_name": null,
                            "gateway_logo_url": null,
                            "default_locale": null,
                            "gateway_type": null,
                            "status": "active",
                            "created_at": null,
                            "updated_at": null,
                            "main_gateway_benefits": null,
                            "brief_benefit_highlights": null,
                            "supported_countries": [
                              "US",
                              "CA",
                              "GB",
                              "AU",
                              "DE",
                              "FR",
                              "ES",
                              "IT"
                            ],
                            "supported_currencies": [
                              "USD",
                              "EUR",
                              "GBP",
                              "CAD",
                              "AUD"
                            ],
                            "minimum_charge_amount": null,
                            "payment_methods": {
                              "credit_card": true,
                              "ach": true,
                              "ideal": true,
                              "bancontact": false,
                              "twint": false,
                              "express_wallets": false
                            },
                            "processing_features": {
                              "multi_currency": true,
                              "back_office_charge": true,
                              "checkout": true,
                              "refund": true,
                              "partial_refund": true,
                              "client_save_card_on_checkout": true,
                              "client_save_card_standalone": true,
                              "save_card_by_business": true,
                              "offset_fees": true
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Payment Gateways"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "summary": "Create a PaymentGateway",
        "description": "Create a new payment gateway - Available for **Application Tokens**",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "app_code_name": {
                    "type": "string",
                    "description": "The unique code name of the pre-created gateway's app, created via the API- Creates an app, https://api.vcita.biz/platform/v1/apps"
                  },
                  "gateway_logo_url": {
                    "type": "string",
                    "description": "The URL or path to the logo of the gateway"
                  },
                  "default_locale": {
                    "type": "string",
                    "description": "Specifies the fallback locale for the gateway's textual content. If a translation or string is missing, this locale will be used by default."
                  },
                  "gateway_type": {
                    "type": "string",
                    "enum": [
                      "digital_wallet",
                      "payments_provider"
                    ],
                    "description": "Integration type: a payment service provider (e.g., Stripe, Square) that enables merchants to process multiple payment methods, or a digital wallet (e.g., PayPal, Google Pay) that allows consumers to store and use payment credentials"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "disabled",
                      "deprecated"
                    ],
                    "description": "Indicates the current status of the payment gateway: 'active' (available for use), 'disabled' (not available for use), or 'deprecated' (still available but not recommended for new integrations)"
                  },
                  "main_gateway_benefits": {
                    "type": "array",
                    "description": "A clear 3-4 bullet list highlighting the unique features and value of the gateway, aimed at encouraging merchants to connect with it. This information is stored per locale.",
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                      "type": "object",
                      "properties": {
                        "locale": {
                          "type": "string",
                          "enum": [
                            "en",
                            "fr",
                            "de",
                            "it",
                            "pl",
                            "pt",
                            "es",
                            "nl",
                            "he",
                            "en_gb"
                          ],
                          "description": "The locale code (e.g., en, fr, es)."
                        },
                        "benefits": {
                          "type": "array",
                          "description": "A list of benefits in the specified locale.",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "required": [
                        "locale",
                        "benefits"
                      ]
                    }
                  },
                  "brief_benefit_highlights": {
                    "type": "array",
                    "description": "A brief, 2-4 word version of the gateway benefits, tailored for compact displays or mobile interfaces. This information is stored per locale.",
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                      "type": "object",
                      "properties": {
                        "locale": {
                          "type": "string",
                          "enum": [
                            "en",
                            "fr",
                            "de",
                            "it",
                            "pl",
                            "pt",
                            "es",
                            "nl",
                            "he",
                            "en_gb"
                          ],
                          "description": "The locale code (e.g., en, fr, es)."
                        },
                        "highlights": {
                          "type": "array",
                          "description": "A list of short benefit highlights in the specified locale.",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "required": [
                        "locale",
                        "highlights"
                      ]
                    }
                  },
                  "supported_countries": {
                    "type": "array",
                    "description": "A list of countries supported by the payment gateway, represented using ISO 3166-1 alpha-2 country codes. For example: ['US', 'CA', 'GB']",
                    "items": {
                      "type": "string"
                    }
                  },
                  "supported_currencies": {
                    "type": "array",
                    "description": "A list of currencies supported by the payment gateway, represented using ISO 4217 format. For example: ['USD', 'EUR', 'GBP']",
                    "items": {
                      "type": "string"
                    }
                  },
                  "minimum_charge_amount": {
                    "type": "number",
                    "description": "The minimum value that can be charged using the payment gateway"
                  },
                  "payment_methods": {
                    "type": "object",
                    "description": "The payment methods supported by the gateway",
                    "properties": {
                      "credit_card": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports credit card payments."
                      },
                      "ach": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports ACH payments."
                      },
                      "ideal": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports iDeal payments."
                      },
                      "bancontact": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports Bancontact payments."
                      },
                      "twint": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports Twint payments."
                      },
                      "express_wallets": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports Express Wallets, such as Google Pay and Apple Pay."
                      }
                    }
                  },
                  "processing_features": {
                    "type": "object",
                    "description": "The features the payment gateway supports and their current state (enabled/disabled)",
                    "properties": {
                      "multi_currency": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports multi-currency transactions."
                      },
                      "back_office_charge": {
                        "type": "boolean",
                        "description": "Indicates if the gateway allows the SMB to process charges directly from the back office."
                      },
                      "checkout": {
                        "type": "boolean",
                        "description": "Indicates whether the payment gateway supports a checkout option initiated from the client portal. This value must always be set to true, as client portal checkout is a core feature."
                      },
                      "refund": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports full online refunds."
                      },
                      "partial_refund": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports partial online refunds. Requires full refunds to be enabled."
                      },
                      "client_save_card_on_checkout": {
                        "type": "boolean",
                        "description": "Indicates if clients can save cards on file during a payment flow."
                      },
                      "client_save_card_standalone": {
                        "type": "boolean",
                        "description": "Indicates if clients can save cards on file through a standalone flow."
                      },
                      "save_card_by_business": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports saving cards on file from the business side."
                      },
                      "offset_fees": {
                        "type": "boolean",
                        "description": "Indicates whether the gateway supports offsetting processing fees, as surcharges, convenience fees, or both, while each SMB can enable only one fee type or none."
                      }
                    },
                    "required": [
                      "multi_currency",
                      "back_office_charge",
                      "checkout",
                      "refund",
                      "partial_refund",
                      "client_save_card_on_checkout",
                      "client_save_card_standalone",
                      "save_card_by_business",
                      "offset_fees"
                    ]
                  }
                },
                "required": [
                  "app_code_name",
                  "gateway_logo_url",
                  "default_locale",
                  "gateway_type",
                  "status",
                  "main_gateway_benefits",
                  "brief_benefit_highlights",
                  "supported_countries",
                  "supported_currencies",
                  "payment_methods",
                  "processing_features"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment gateway created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payment_processing/payment_gateway.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Payment Gateways"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payment_processing/payment_gateways/{uid}": {
      "get": {
        "summary": "Retrieve a PaymentGateway",
        "description": "Get details of a specific payment gateway - Available for **Directory, Business, and Application Tokens**. Note: Application tokens can only access their own gateway.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Payment Gateway",
            "schema": {
              "type": "string"
            },
            "example": "pgw_abc123def456"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payment_processing/payment_gateway.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Payment Gateways"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "summary": "Update a PaymentGateway",
        "description": "Update an existing payment gateway - Available for **Application Tokens**",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Payment Gateway",
            "schema": {
              "type": "string"
            },
            "example": "pgw_abc123def456"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "gateway_logo_url": {
                    "type": "string",
                    "description": "The URL to the logo of the gateway"
                  },
                  "default_locale": {
                    "type": "string",
                    "description": "Specifies the fallback locale for the gateway's textual content. If a translation or string is missing, this locale will be used by default."
                  },
                  "gateway_type": {
                    "type": "string",
                    "enum": [
                      "digital_wallet",
                      "payments_provider"
                    ],
                    "description": "Integration type: a payment service provider (e.g., Stripe, Square) that enables merchants to process multiple payment methods, or a digital wallet (e.g., PayPal, Google Pay) that allows consumers to store and use payment credentials"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "disabled",
                      "deprecated"
                    ],
                    "description": "Indicates the current status of the payment gateway: 'active' (available for use), 'disabled' (not available for use), or 'deprecated' (still available but not recommended for new integrations)"
                  },
                  "main_gateway_benefits": {
                    "type": "array",
                    "description": "A clear 3-4 bullet list highlighting the unique features and value of the gateway, aimed at encouraging merchants to connect with it. This information is stored per locale.",
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                      "type": "object",
                      "properties": {
                        "locale": {
                          "type": "string",
                          "enum": [
                            "en",
                            "fr",
                            "de",
                            "it",
                            "pl",
                            "pt",
                            "es",
                            "nl",
                            "he",
                            "en_gb"
                          ],
                          "description": "The locale code (e.g., en, fr, es)."
                        },
                        "benefits": {
                          "type": "array",
                          "description": "A list of benefits in the specified locale.",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "required": [
                        "locale",
                        "benefits"
                      ]
                    }
                  },
                  "brief_benefit_highlights": {
                    "type": "array",
                    "description": "A brief, 2-4 word version of the gateway benefits, tailored for compact displays or mobile interfaces. This information is stored per locale.",
                    "minItems": 1,
                    "uniqueItems": true,
                    "items": {
                      "type": "object",
                      "properties": {
                        "locale": {
                          "type": "string",
                          "enum": [
                            "en",
                            "fr",
                            "de",
                            "it",
                            "pl",
                            "pt",
                            "es",
                            "nl",
                            "he",
                            "en_gb"
                          ],
                          "description": "The locale code (e.g., en, fr, es)."
                        },
                        "highlights": {
                          "type": "array",
                          "description": "A list of short benefit highlights in the specified locale.",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "required": [
                        "locale",
                        "highlights"
                      ]
                    }
                  },
                  "supported_countries": {
                    "type": "array",
                    "description": "A list of countries supported by the payment gateway, represented using ISO 3166-1 alpha-2 country codes.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "supported_currencies": {
                    "type": "array",
                    "description": "A list of currencies supported by the payment gateway, represented using ISO 4217 format.",
                    "items": {
                      "type": "string"
                    }
                  },
                  "minimum_charge_amount": {
                    "type": "number",
                    "description": "The minimum value that can be charged using the payment gateway"
                  },
                  "payment_methods": {
                    "type": "object",
                    "description": "The payment methods supported by the gateway",
                    "properties": {
                      "credit_card": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports credit card payments."
                      },
                      "ach": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports ACH payments."
                      },
                      "ideal": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports iDeal payments."
                      },
                      "bancontact": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports Bancontact payments."
                      },
                      "twint": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports Twint payments."
                      },
                      "express_wallets": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports Express Wallets, such as Google Pay and Apple Pay."
                      }
                    }
                  },
                  "processing_features": {
                    "type": "object",
                    "description": "The features the payment gateway supports and their current state (enabled/disabled)",
                    "properties": {
                      "multi_currency": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports multi-currency transactions."
                      },
                      "back_office_charge": {
                        "type": "boolean",
                        "description": "Indicates if the gateway allows the SMB to process charges directly from the back office."
                      },
                      "checkout": {
                        "type": "boolean",
                        "description": "Indicates whether the payment gateway supports a checkout option initiated from the client portal. This value must always be set to true, as client portal checkout is a core feature."
                      },
                      "refund": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports full online refunds."
                      },
                      "partial_refund": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports partial online refunds. Requires full refunds to be enabled."
                      },
                      "client_save_card_on_checkout": {
                        "type": "boolean",
                        "description": "Indicates if clients can save cards on file during a payment flow."
                      },
                      "client_save_card_standalone": {
                        "type": "boolean",
                        "description": "Indicates if clients can save cards on file through a standalone flow."
                      },
                      "save_card_by_business": {
                        "type": "boolean",
                        "description": "Indicates if the gateway supports saving cards on file from the business side."
                      },
                      "offset_fees": {
                        "type": "boolean",
                        "description": "Indicates whether the gateway supports offsetting processing fees, as surcharges, convenience fees, or both, while each SMB can enable only one fee type or none."
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment gateway updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payment_processing/payment_gateway.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Cannot access payment gateway for different app",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "message": {
                                "type": "string",
                                "example": "Cannot access payment gateway for different app"
                              },
                              "code": {
                                "type": "string",
                                "example": "bad_request"
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing app token",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "message": {
                                "type": "string",
                                "example": "Invalid app authentication"
                              },
                              "code": {
                                "type": "string",
                                "example": "unauthorized"
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Payment Gateways"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "summary": "Delete a PaymentGateway",
        "description": "Delete an existing payment gateway - Available for **Application Tokens**",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Payment Gateway",
            "schema": {
              "type": "string"
            },
            "example": "pgw_abc123def456"
          }
        ],
        "responses": {
          "204": {
            "description": "Payment gateway deleted successfully"
          }
        },
        "tags": [
          "Payment Gateways"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payment_processing/payment_gateway_assignments": {
      "post": {
        "summary": "Create a PaymentGatewayAssignment",
        "description": "Assign a payment gateway to a directory - Available for **Directory Tokens**",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePaymentGatewayAssignmentRequestDto"
              },
              "example": {
                "gateway_uid": "pgw_stripe_v2_789",
                "directory_uid": "dir_main_directory_123"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment gateway assignment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payment_processing/paymentGatewayAssignment.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request. Invalid input data or assignment already exists."
          },
          "401": {
            "description": "Unauthorized. The bearer token is missing or invalid."
          },
          "403": {
            "description": "Forbidden. You do not have access to this resource."
          },
          "404": {
            "description": "Not found. Payment gateway or directory not found."
          },
          "500": {
            "description": "Internal server error."
          }
        },
        "tags": [
          "Payment Gateways"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/sales/reports/payments_widget": {
      "get": {
        "summary": "Retrieve Payments Widget Data",
        "description": "## Overview\nFetch summarized data for the Payments widget, including total payments, overdue payments, and pending estimates. This endpoint is accessible with **Staff Tokens** only.",
        "responses": {
          "200": {
            "description": "Successful response containing Payments widget data.",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PaymentsWidget"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Sales Reports"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/sales/reports/forecast_payments": {
      "get": {
        "summary": "Retrieve Payments Forecast Data",
        "description": "## Overview\nFetch detailed data for the Payments forecast widget, providing predictions of future payments on a month-by-month basis. This endpoint is accessible with **Staff Tokens** only.",
        "responses": {
          "200": {
            "description": "Successful response containing Payments forecast data.",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PaymentsForecast"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Sales Reports"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/clients/payment/cards": {
      "get": {
        "summary": "Get Client Payment Cards",
        "description": "## Overview\nRetrieve all payment cards for a client. Available for **Client Tokens only**.\n\n## Authentication\nThis endpoint requires client token authentication rather than staff token.",
        "tags": [
          "Client Payment Cards"
        ],
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^Bearer .+$"
            },
            "description": "Client JWT Token. Format: 'Bearer CLIENT_JWT_TOKEN'",
            "example": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbnRpdHlfdWlkIjoiQ0xJRU5UX1VJRCIsImV4dHJhIjp7ImJ1c2luZXNzX3VpZCI6IkJVU0lORVNTX1VJRCJ9LCJ0eXBlIjoiY2xpZW50IiwiZXhwIjoxNjMwMDAwMDAwfQ.SIGNATURE"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved client payment cards",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Response status indicator",
                      "example": "OK"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "max_limit_reached": {
                          "type": "boolean",
                          "description": "Whether the maximum card limit has been reached",
                          "example": false
                        },
                        "cards": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PaymentCard"
                          }
                        }
                      },
                      "required": [
                        "max_limit_reached",
                        "cards"
                      ]
                    }
                  },
                  "required": [
                    "status",
                    "data"
                  ]
                },
                "example": {
                  "status": "OK",
                  "data": {
                    "max_limit_reached": false,
                    "cards": [
                      {
                        "id": "card_123456",
                        "client_id": "client_789012",
                        "default": true,
                        "active": true,
                        "card_brand": "visa",
                        "last_4": "4242",
                        "exp_month": 12,
                        "exp_year": 2025,
                        "cardholder_name": "John Doe",
                        "staff_id": null,
                        "staff_name": "",
                        "business_id": "business_345678",
                        "payment_provider": "stripe",
                        "created_at": "2023-01-15T10:30:00.000Z",
                        "initiator": "client",
                        "usage_permission": "client"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing JWT token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Error",
                  "error": "Unauthorized"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - Request cannot be processed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Error",
                  "error": "Invalid request parameters"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Error",
                  "error": "Internal server error"
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/platform/v1/clients/{client_id}/payment/cards": {
      "get": {
        "summary": "Get Client Payment Cards (Staff Access)",
        "description": "## Overview\nRetrieve all payment cards for a specific client. Available for **Staff Tokens**.",
        "tags": [
          "Client Payment Cards"
        ],
        "operationId": "getClientPaymentCards",
        "parameters": [
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the client",
            "schema": {
              "type": "string",
              "pattern": "^[a-z0-9]{16}$"
            },
            "example": "m729844bwakz8jf6"
          },
          {
            "name": "filter[usage_permission]",
            "in": "query",
            "required": false,
            "description": "Filter cards by usage permission scope",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "staff",
                "client"
              ],
              "default": "staff"
            },
            "example": "all"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved client payment cards",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentCardsResponse"
                },
                "example": {
                  "status": "OK",
                  "data": {
                    "max_limit_reached": false,
                    "cards": [
                      {
                        "id": "card_123456",
                        "client_id": "client_789012",
                        "default": true,
                        "active": true,
                        "card_brand": "visa",
                        "last_4": "4242",
                        "exp_month": 11,
                        "exp_year": 2025,
                        "cardholder_name": "John Doe",
                        "staff_id": null,
                        "staff_name": "Jane Smith",
                        "business_id": "business_345678",
                        "payment_provider": "stripe",
                        "created_at": "2021-02-18T11:09:54.000Z",
                        "initiator": "staff",
                        "usage_permission": "all"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Failure",
                  "error": "401 Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Client not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Error",
                  "error": "Record not found"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - Request cannot be processed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Error",
                  "error": "Unable to retrieve cards"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "status": "Error",
                  "error": "Internal server error"
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/sales/coupons": {
      "get": {
        "summary": "Get all Coupons",
        "description": "## Overview\nGet a list of Coupons. Available for **Staff Tokens**.",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "expiered",
                "scheduled",
                "still_available"
              ]
            },
            "description": "Filter parameter coupon status, optional values = [active / expiered / scheduled / still_available]",
            "required": false
          },
          {
            "name": "uid_list",
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "Filter the coupon list based on an array of coupon unique identifiers (UIDs)",
            "required": false
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Page number of results. Default: 1",
            "required": false
          },
          {
            "name": "per_page",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "How many items to return per page. Default: 25. Max: 100",
            "required": false
          },
          {
            "name": "sort",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Sort by fields. Example: sort=created_at:asc,updated_at:desc",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CouponsList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Coupons"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payments/invoices": {
      "post": {
        "summary": "Create an Invoice",
        "description": "## Overview\nCreate a new invoice Available for **Staff Tokens**.",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "matter_uid": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/matter_uid"
                  },
                  "issue_date": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/issue_date"
                  },
                  "due_date": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/due_date"
                  },
                  "currency": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/currency"
                  },
                  "status": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/status"
                  },
                  "unique_number": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/unique_number"
                  },
                  "invoice_title": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/invoice_title"
                  },
                  "billing_address": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/billing_address"
                  },
                  "purchase_order": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/purchase_order"
                  },
                  "allow_online_payment": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/allow_online_payment"
                  },
                  "allow_partial_payment": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/allow_partial_payment"
                  },
                  "enable_late_fee": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/enable_late_fee"
                  },
                  "note": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/note"
                  },
                  "terms_and_conditions": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/terms_and_conditions"
                  },
                  "additional_recipients": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/additional_recipients"
                  },
                  "line_item_groups": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/line_item_groups"
                  },
                  "display_line_item_groups_total": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/display_line_item_groups_total"
                  },
                  "display_line_item_total": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/display_line_item_total"
                  },
                  "estimate_uid": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/estimate_uid"
                  },
                  "line_items": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/line_items"
                  },
                  "notify_recipient": {
                    "type": "boolean",
                    "description": "Send email notification to client. Used only during creation/update to determine if email should be sent. Not saved on invoice."
                  },
                  "source_name": {
                    "type": "string",
                    "enum": [
                      "client_portal",
                      "automatic_messages",
                      "campaign",
                      "forward",
                      "initiated_by_staff",
                      "promotions_optin_by_keyword",
                      "staff_initiated",
                      "text_to_business_phone",
                      "website",
                      "unknown"
                    ],
                    "description": "Source tracking name. Used only during creation. Not saved on invoice. Default: \"initiated_by_staff\""
                  }
                },
                "anyOf": [
                  {
                    "required": [
                      "matter_uid",
                      "issue_date",
                      "due_date",
                      "currency",
                      "line_items"
                    ]
                  },
                  {
                    "required": [
                      "matter_uid",
                      "issue_date",
                      "due_date",
                      "currency",
                      "line_item_groups"
                    ]
                  }
                ],
                "example": {
                  "matter_uid": "matter_123",
                  "issue_date": "2024-01-15",
                  "due_date": "2024-02-15",
                  "currency": "USD",
                  "status": "ISSUED",
                  "unique_number": "2024-0001",
                  "invoice_title": "INVOICE",
                  "billing_address": "123 Main St, City, State 12345",
                  "purchase_order": "PO-12345",
                  "allow_online_payment": true,
                  "allow_partial_payment": false,
                  "enable_late_fee": false,
                  "note": "Thank you for your business",
                  "terms_and_conditions": "Payment due within 30 days",
                  "notify_recipient": true,
                  "additional_recipients": [
                    "accounting@example.com"
                  ],
                  "display_line_item_groups_total": true,
                  "display_line_item_total": true,
                  "estimate_uid": null,
                  "source_name": "initiated_by_staff",
                  "line_item_groups": [
                    {
                      "name": "Services",
                      "line_item_group_index": 0,
                      "line_items": [
                        {
                          "name": "Consulting Services",
                          "quantity": 2,
                          "unit_amount": 150,
                          "description": "Hourly consulting",
                          "entity_uid": "service_123",
                          "entity_type": "Service",
                          "tax_uids": [
                            "tax_uid_1"
                          ],
                          "discount": {
                            "discount_type": "percent",
                            "amount": 10
                          },
                          "line_item_index": 0
                        }
                      ]
                    }
                  ],
                  "line_items": [
                    {
                      "name": "Design materials",
                      "quantity": 1,
                      "unit_amount": 114,
                      "description": "Design materials",
                      "entity_uid": "product_123",
                      "entity_type": "Product",
                      "tax_uids": [
                        "tax_uid_1"
                      ],
                      "discount": null,
                      "line_item_index": 1
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Invoice"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payments/invoices/{uid}": {
      "put": {
        "summary": "Update an Invoice",
        "description": "## Overview\nUpdate an existing invoice Available for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Invoice",
            "schema": {
              "type": "string"
            },
            "example": "inv-aaabbbccc112233"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "matter_uid": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/matter_uid"
                  },
                  "issue_date": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/issue_date"
                  },
                  "due_date": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/due_date"
                  },
                  "currency": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/currency"
                  },
                  "status": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/status"
                  },
                  "unique_number": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/unique_number"
                  },
                  "invoice_title": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/invoice_title"
                  },
                  "billing_address": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/billing_address"
                  },
                  "purchase_order": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/purchase_order"
                  },
                  "allow_online_payment": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/allow_online_payment"
                  },
                  "allow_partial_payment": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/allow_partial_payment"
                  },
                  "enable_late_fee": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/enable_late_fee"
                  },
                  "note": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/note"
                  },
                  "terms_and_conditions": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/terms_and_conditions"
                  },
                  "additional_recipients": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/additional_recipients"
                  },
                  "line_item_groups": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/line_item_groups"
                  },
                  "display_line_item_groups_total": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/display_line_item_groups_total"
                  },
                  "display_line_item_total": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/display_line_item_total"
                  },
                  "estimate_uid": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/estimate_uid"
                  },
                  "line_items": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json#/properties/line_items"
                  },
                  "notify_recipient": {
                    "type": "boolean",
                    "description": "Send email notification to client. Used only during creation/update to determine if email should be sent. Not saved on invoice."
                  }
                },
                "anyOf": [
                  {
                    "required": [
                      "matter_uid",
                      "issue_date",
                      "due_date",
                      "currency",
                      "line_items"
                    ]
                  },
                  {
                    "required": [
                      "matter_uid",
                      "issue_date",
                      "due_date",
                      "currency",
                      "line_item_groups"
                    ]
                  }
                ],
                "example": {
                  "matter_uid": "matter_123",
                  "issue_date": "2024-01-15",
                  "due_date": "2024-02-15",
                  "currency": "USD",
                  "status": "ISSUED",
                  "unique_number": "2024-0001",
                  "invoice_title": "INVOICE",
                  "billing_address": "123 Main St, City, State 12345",
                  "purchase_order": "PO-12345",
                  "allow_online_payment": true,
                  "allow_partial_payment": false,
                  "enable_late_fee": false,
                  "note": "Thank you for your business",
                  "terms_and_conditions": "Payment due within 30 days",
                  "notify_recipient": true,
                  "additional_recipients": [
                    "accounting@example.com"
                  ],
                  "display_line_item_groups_total": true,
                  "display_line_item_total": true,
                  "estimate_uid": null,
                  "line_item_groups": [
                    {
                      "name": "Services",
                      "line_item_group_index": 0,
                      "line_items": [
                        {
                          "name": "Consulting Services",
                          "quantity": 2,
                          "unit_amount": 150,
                          "description": "Hourly consulting",
                          "entity_uid": "service_123",
                          "entity_type": "Service",
                          "tax_uids": [
                            "tax_uid_1"
                          ],
                          "discount": {
                            "discount_type": "percent",
                            "amount": 10
                          },
                          "line_item_index": 0
                        }
                      ]
                    }
                  ],
                  "line_items": [
                    {
                      "name": "Design materials",
                      "quantity": 1,
                      "unit_amount": 114,
                      "description": "Design materials",
                      "entity_uid": "product_123",
                      "entity_type": "Product",
                      "tax_uids": [
                        "tax_uid_1"
                      ],
                      "discount": null,
                      "line_item_index": 1
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payments/invoice.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Invoice"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payments/credit_notes": {
      "get": {
        "summary": "Get all Credit Notes",
        "description": "## Overview\nGet a list of credit notes with pagination.",
        "parameters": [
          {
            "name": "invoice_uid",
            "required": false,
            "in": "query",
            "description": "Filter credit notes by invoice UID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number of results.",
            "schema": {
              "minimum": 1,
              "maximum": 10000,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "per_page",
            "required": false,
            "in": "query",
            "description": "How many items to return per page. Max: 100",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 25,
              "type": "number"
            }
          },
          {
            "description": "Sort by fields. Example: sort=created_at:asc,updated_at:desc",
            "name": "sort",
            "required": false,
            "in": "query",
            "schema": {
              "default": "updated_at:desc",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "credit_notes": {
                              "description": "List of Credit Notes",
                              "type": "array",
                              "items": {
                                "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json"
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Credit Note"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "summary": "Create a Credit Note",
        "description": "## Overview\nCreates and issues a new credit note against an existing invoice. The credit note is immediately issued (no draft status). The service validates that the credit amount doesn't exceed the invoice's remaining creditable balance, generates EN 16931-compliant XML, stores it in S3, and publishes a `billing.credit_note.created` event.",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "invoice_uid": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json#/properties/invoice_uid"
                  },
                  "notes": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json#/properties/notes"
                  },
                  "line_items": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json#/properties/line_items"
                  },
                  "unique_number": {
                    "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json#/properties/unique_number"
                  },
                  "source_payment_uid": {
                    "type": "string",
                    "description": "Optional: The unique identifier of the payment being refunded. Included when refunding a specific payment. Used for refund flow, is not stored on the credit note entity and not returned on the response"
                  },
                  "notify_recipient": {
                    "type": "boolean",
                    "description": "Whether to notify the recipient. Used only during creation to determine if email should be sent. Not saved on credit note."
                  }
                },
                "required": [
                  "invoice_uid",
                  "line_items"
                ],
                "example": {
                  "invoice_uid": "inv_abc123",
                  "notes": "Goodwill credit.",
                  "line_items": [
                    {
                      "name": "Consulting Services Credit",
                      "quantity": 1,
                      "unit_amount": 50,
                      "taxes": [
                        {
                          "name": "VAT",
                          "rate": 20,
                          "tax_total": 10
                        }
                      ]
                    },
                    {
                      "name": "Custom Goodwill Credit",
                      "quantity": 1,
                      "unit_amount": 25,
                      "taxes": []
                    }
                  ],
                  "source_payment_uid": "pmt_xyz789",
                  "notify_recipient": true
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Credit Note"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/payments/credit_notes/{uid}": {
      "get": {
        "summary": "Retrieve a Credit Note",
        "description": "## Overview\nRetrieves the details of a specific credit note by its UID.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Credit Note",
            "schema": {
              "type": "string"
            },
            "example": "cn_abc123def456"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/payments/creditNote.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "tags": [
          "Credit Note"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Provide a valid bearer token in the Authorization header. Example: 'Authorization: Bearer {app_token}'"
      },
      "ClientPaymentCards": {
        "type": "http",
        "scheme": "bearer",
        "description": "Provide a valid bearer token in the Authorization header. Example: 'Authorization: Bearer {staff_token}'"
      }
    },
    "schemas": {
      "PaymentGatewayList": {
        "type": "object",
        "properties": {
          "payment_gateways": {
            "description": "List of Payment Gateways",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/payment_processing/payment_gateway.json"
            }
          }
        }
      },
      "CreatePaymentGatewayAssignmentRequestDto": {
        "type": "object",
        "properties": {
          "gateway_uid": {
            "type": "string",
            "description": "The unique identifier of the payment gateway to assign",
            "x-reference-to": "sales.payment_gateway"
          },
          "directory_uid": {
            "type": "string",
            "description": "The unique identifier of the directory to assign the payment gateway to",
            "x-reference-to": "access_control.directory"
          }
        },
        "required": [
          "gateway_uid",
          "directory_uid"
        ]
      },
      "PaymentsWidget": {
        "type": "object",
        "description": "Payments widget data containing total payments, overdue payments summary, and pending estimates. Each section is wrapped in a success/data envelope.",
        "properties": {
          "total_payments": {
            "type": "object",
            "description": "Total payments section wrapped in success/data envelope.",
            "properties": {
              "success": {
                "type": "boolean",
                "description": "Whether the total_payments sub-query succeeded."
              },
              "data": {
                "type": "object",
                "properties": {
                  "current_year": {
                    "type": "number",
                    "description": "Total payment amount collected for the current year."
                  },
                  "last_year": {
                    "type": "number",
                    "description": "Total payment amount collected in the previous year."
                  }
                }
              }
            }
          },
          "overdue_payments_summary": {
            "type": "object",
            "description": "Overdue payments summary section wrapped in success/data envelope.",
            "properties": {
              "success": {
                "type": "boolean",
                "description": "Whether the overdue_payments_summary sub-query succeeded."
              },
              "data": {
                "type": "object",
                "properties": {
                  "total_overdue": {
                    "type": "number",
                    "nullable": true,
                    "description": "The total overdue amount of payment requests. Null if no overdue payments."
                  },
                  "total_overdue_count": {
                    "type": "number",
                    "description": "The total number of overdue payment requests."
                  },
                  "last_week": {
                    "type": "number",
                    "nullable": true,
                    "description": "Total overdue payment requests amount from the last week."
                  },
                  "last_week_count": {
                    "type": "number",
                    "description": "Number of overdue payment requests from the last week."
                  },
                  "last_month": {
                    "type": "number",
                    "nullable": true,
                    "description": "Total overdue payment requests amount from the last month."
                  },
                  "last_month_count": {
                    "type": "number",
                    "description": "Number of overdue payment requests from the last month."
                  },
                  "old": {
                    "type": "number",
                    "nullable": true,
                    "description": "The total amount for overdue payment requests that are older than 30 days."
                  },
                  "old_count": {
                    "type": "number",
                    "description": "Count of older overdue payment request transactions that are older than 30 days."
                  }
                }
              }
            }
          },
          "pending_estimates": {
            "type": "object",
            "description": "Pending estimates section wrapped in success/data envelope.",
            "properties": {
              "success": {
                "type": "boolean",
                "description": "Whether the pending_estimates sub-query succeeded."
              },
              "data": {
                "type": "object",
                "properties": {
                  "count": {
                    "type": "number",
                    "description": "The total count of pending payment estimates that have not yet been confirmed."
                  }
                }
              }
            }
          }
        }
      },
      "PaymentsForecast": {
        "type": "object",
        "description": "Forecast payments data. Response is a map where keys are date strings (YYYY-MM-DD format, representing the start of each week) and values are forecast objects for that week.",
        "additionalProperties": {
          "type": "object",
          "description": "Forecast data for a specific week.",
          "properties": {
            "total_amount": {
              "type": "number",
              "format": "double",
              "description": "The total forecasted payment amount for the given week."
            },
            "calendar_week": {
              "type": "integer",
              "description": "The ISO calendar week number (e.g., 5 for the 5th week of the year)."
            },
            "week_end_date": {
              "type": "string",
              "format": "date",
              "description": "The end date of the week in YYYY-MM-DD format."
            }
          }
        },
        "example": {
          "2026-02-01": {
            "total_amount": 10,
            "calendar_week": 5,
            "week_end_date": "2026-02-07"
          },
          "2026-02-08": {
            "total_amount": 200,
            "calendar_week": 6,
            "week_end_date": "2026-02-14"
          }
        }
      },
      "PaymentCard": {
        "type": "object",
        "description": "Payment card object containing card details and metadata",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the payment card",
            "example": "card_123456"
          },
          "client_id": {
            "type": "string",
            "description": "UID of the client who owns this card",
            "example": "client_789012",
            "x-reference-to": "clients.contact"
          },
          "default": {
            "type": "boolean",
            "description": "Whether this is the default card for the client",
            "example": true
          },
          "active": {
            "type": "boolean",
            "description": "Whether the card is currently active",
            "example": true
          },
          "card_brand": {
            "type": "string",
            "description": "Card brand (visa, mastercard, amex, etc.)",
            "enum": [
              "visa",
              "mastercard",
              "amex",
              "discover",
              "diners",
              "jcb",
              "unionpay"
            ],
            "example": "visa"
          },
          "last_4": {
            "type": "string",
            "description": "Last 4 digits of the card number",
            "pattern": "^[0-9]{4}$",
            "example": "4242"
          },
          "exp_month": {
            "type": "integer",
            "description": "Card expiration month (1-12)",
            "minimum": 1,
            "maximum": 12,
            "example": 12
          },
          "exp_year": {
            "type": "integer",
            "description": "Card expiration year",
            "minimum": 2023,
            "example": 2025
          },
          "cardholder_name": {
            "type": "string",
            "description": "Name on the card",
            "example": "John Doe"
          },
          "staff_id": {
            "type": "string",
            "nullable": true,
            "description": "UID of the staff member who added this card (if applicable)",
            "example": null,
            "x-reference-to": "access_control.staff"
          },
          "staff_name": {
            "type": "string",
            "description": "Display name of the staff member who added this card",
            "example": ""
          },
          "business_id": {
            "type": "string",
            "description": "UID of the business this card belongs to",
            "example": "business_345678",
            "x-reference-to": "businesses.business"
          },
          "payment_provider": {
            "type": "string",
            "description": "Payment provider handling this card",
            "enum": [
              "stripe",
              "square",
              "squarepaymentgateway"
            ],
            "example": "stripe"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the card was created",
            "example": "2023-01-15T10:30:00.000Z"
          },
          "initiator": {
            "type": "string",
            "description": "Who added this card (client or staff)",
            "enum": [
              "client",
              "staff"
            ],
            "example": "client"
          },
          "usage_permission": {
            "type": "string",
            "description": "Usage permission scope for the card",
            "enum": [
              "client",
              "staff",
              "all"
            ],
            "example": "client"
          }
        },
        "required": [
          "id",
          "client_id",
          "default",
          "active",
          "card_brand",
          "last_4",
          "exp_month",
          "exp_year",
          "cardholder_name",
          "staff_id",
          "staff_name",
          "business_id",
          "payment_provider",
          "created_at",
          "initiator",
          "usage_permission"
        ]
      },
      "PaymentCardsResponse": {
        "type": "object",
        "description": "Response containing payment cards data",
        "properties": {
          "status": {
            "type": "string",
            "description": "Response status indicator",
            "example": "OK"
          },
          "data": {
            "type": "object",
            "properties": {
              "max_limit_reached": {
                "type": "boolean",
                "description": "Whether the maximum card limit has been reached",
                "example": false
              },
              "cards": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/PaymentCard"
                }
              }
            },
            "required": [
              "max_limit_reached",
              "cards"
            ]
          }
        },
        "required": [
          "status",
          "data"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "description": "Standard error response format",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "Error"
            ],
            "example": "Error"
          },
          "error": {
            "type": "string",
            "description": "Error message describing what went wrong",
            "example": "Unauthorized"
          }
        },
        "required": [
          "status",
          "error"
        ]
      },
      "Response": {
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "Object": {
        "properties": {}
      },
      "CouponsList": {
        "type": "object",
        "properties": {
          "coupons": {
            "description": "List of Coupons",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/sales/Coupon.json"
            }
          }
        }
      }
    }
  },
  "tags": []
}
