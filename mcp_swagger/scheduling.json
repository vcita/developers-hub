{
  "openapi": "3.1.0",
  "info": {
    "title": "Scheduling",
    "description": "Unified OpenAPI specification for scheduling domain",
    "version": "3.0",
    "x-generated": {
      "sourceFiles": [
        "resource_management.json",
        "scheduling.json",
        "legacy_v1_scheduling.json",
        "availability.json",
        "availability_slots.json"
      ],
      "pathNormalizations": [
        {
          "file": "legacy_v1_scheduling.json",
          "basePath": "/platform/v1",
          "transformations": [
            {
              "original": "/scheduling/appointments",
              "normalized": "/platform/v1/scheduling/appointments",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/appointments/{appointment_id}",
              "normalized": "/platform/v1/scheduling/appointments/{appointment_id}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/bookings",
              "normalized": "/platform/v1/scheduling/bookings",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/bookings/cancel",
              "normalized": "/platform/v1/scheduling/bookings/cancel",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/bookings/{booking_uid}/update_rsvp_state",
              "normalized": "/platform/v1/scheduling/bookings/{booking_uid}/update_rsvp_state",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/event_instance/{event_instance_id}",
              "normalized": "/platform/v1/scheduling/event_instance/{event_instance_id}",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/waitlist",
              "normalized": "/platform/v1/scheduling/waitlist",
              "basePath": "/platform/v1"
            },
            {
              "original": "/scheduling/waitlist/cancel",
              "normalized": "/platform/v1/scheduling/waitlist/cancel",
              "basePath": "/platform/v1"
            }
          ]
        }
      ],
      "pathConflicts": [],
      "componentConflicts": [],
      "totalPaths": 31,
      "totalComponents": 4
    }
  },
  "servers": [
    {
      "url": "https://api.vcita.biz",
      "description": "Unified API Gateway server"
    }
  ],
  "paths": {
    "/v3/scheduling/resource_types": {
      "get": {
        "summary": "Get all ResourceTypes",
        "description": "## Overview\nGet a list of resource types for a business, with pagination.\n\nAvailable for **Staff Tokens**.",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number of results.",
            "schema": {
              "minimum": 1,
              "maximum": 10000,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "per_page",
            "required": false,
            "in": "query",
            "description": "How many items to return per page. Max: 100",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 25,
              "type": "number"
            }
          },
          {
            "description": "Sort by fields. Example: sort=created_at:asc,updated_at:desc",
            "name": "sort",
            "required": false,
            "in": "query",
            "schema": {
              "default": "updated_at:desc",
              "type": "string"
            }
          },
          {
            "name": "with_deleted",
            "required": false,
            "in": "query",
            "description": "Include deleted resource types in the response",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ResourceTypesList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          }
        },
        "tags": [
          "Resource Type"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "summary": "Create a ResourceType",
        "description": "## Overview\nCreate a new resource type Available for **Staff Tokens**.",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the resource type"
                  },
                  "services": {
                    "type": "array",
                    "description": "Array of service UIDs that require this resource type",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "ResourceType created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resourceType.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Forbidden: Resources feature is not enabled or not authorized to create resource types (requires account.settings.manage permission)"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          },
          "422": {
            "description": "Request data failed validation"
          }
        },
        "tags": [
          "Resource Type"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/scheduling/resource_types/{uid}": {
      "get": {
        "summary": "Retrieve a ResourceType",
        "description": "## Overview\nGet a specific resource type by UID.\n\nAvailable for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the ResourceType",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resourceType.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Not authorized to access this resource type"
          },
          "404": {
            "description": "ResourceType not found"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          }
        },
        "tags": [
          "Resource Type"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "summary": "Update a ResourceType",
        "description": "## Overview\nUpdate a resource type's properties Available for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the ResourceType",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the resource type"
                  },
                  "services": {
                    "type": "array",
                    "description": "Array of service UIDs that require this resource type",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resourceType.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Forbidden: Resources feature is not enabled or not authorized to update this resource type (requires account.settings.manage permission)"
          },
          "404": {
            "description": "ResourceType not found"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          },
          "422": {
            "description": "Request data failed validation"
          }
        },
        "tags": [
          "Resource Type"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "summary": "Delete a ResourceType",
        "description": "## Overview\nDelete a resource type. Deletes all associated resources Available for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the ResourceType",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "responses": {
          "200": {
            "description": "Resource type deleted successfully. **Note:** All associated resources are automatically deleted (cascade deletion)",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Forbidden: Resources feature is not enabled or not authorized to delete this resource type (requires account.settings.manage permission)"
          },
          "404": {
            "description": "ResourceType not found"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          }
        },
        "tags": [
          "Resource Type"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/scheduling/resources": {
      "get": {
        "summary": "Get all Resources",
        "description": "## Overview\nGet all resources, with pagination and filtering by resource type or service.\n\nAvailable for **Staff Tokens**.",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number of results",
            "schema": {
              "minimum": 1,
              "maximum": 10000,
              "default": 1,
              "type": "number"
            }
          },
          {
            "name": "per_page",
            "required": false,
            "in": "query",
            "description": "How many items to return per page. Max: 1000",
            "schema": {
              "minimum": 1,
              "maximum": 1000,
              "default": 25,
              "type": "number"
            }
          },
          {
            "description": "Sort by fields. Example: sort=created_at:asc,updated_at:desc",
            "name": "sort",
            "required": false,
            "in": "query",
            "schema": {
              "default": "updated_at:desc",
              "type": "string"
            }
          },
          {
            "name": "resource_type_uid",
            "required": false,
            "in": "query",
            "description": "Filter by resource type UID(s). Accepts single value or array of values. Example: ?resource_type_uid=abc123 or ?resource_type_uid=abc123&resource_type_uid=def456",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "style": "form",
            "explode": true
          },
          {
            "name": "service_uid",
            "required": false,
            "in": "query",
            "description": "Filter resources by service UID that requires their resource type",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "with_deleted",
            "required": false,
            "in": "query",
            "description": "Include deleted resources in the response",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "uid",
            "required": false,
            "in": "query",
            "description": "Filter by resource UID(s). Accepts single value or array of values. Example: ?uid=abc123 or ?uid=abc123&uid=def456",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "style": "form",
            "explode": true
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ResourcesList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          }
        },
        "tags": [
          "Resource"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "summary": "Create a Resource",
        "description": "## Overview\nCreate a new resource.\n\nAvailable for **Staff Tokens** with `account.settings.manage` permission.\n\n**Feature Flags Required:** `pkg.sch.resources` and `resources` must be enabled.",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the resource (max 30 characters)",
                    "maxLength": 30
                  },
                  "resource_type_uid": {
                    "type": "string",
                    "description": "The resource type this instance belongs to"
                  }
                },
                "required": [
                  "name",
                  "resource_type_uid"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Resource created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resource.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Forbidden: Resources feature is not enabled or not authorized to create resources (requires account.settings.manage permission)"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          },
          "422": {
            "description": "Request data failed validation"
          }
        },
        "tags": [
          "Resource"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/scheduling/resources/{uid}": {
      "get": {
        "summary": "Retrieve a Resource",
        "description": "## Overview\nGet a specific resource by UID.\n\nAvailable for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Resource",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          },
          {
            "name": "with_deleted",
            "required": false,
            "in": "query",
            "description": "Include deleted resources",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resource.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Not authorized to access this resource"
          },
          "404": {
            "description": "Resource not found"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          }
        },
        "tags": [
          "Resource"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "summary": "Update a Resource",
        "description": "## Overview\nUpdate a resource's properties Available for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Resource",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the resource"
                  },
                  "resource_type_uid": {
                    "type": "string",
                    "description": "The resource type this instance belongs to"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resource.json"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Forbidden: Resources feature is not enabled or not authorized to update this resource (requires account.settings.manage permission)"
          },
          "404": {
            "description": "Resource not found"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          },
          "422": {
            "description": "Request data failed validation"
          }
        },
        "tags": [
          "Resource"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "delete": {
        "summary": "Delete a Resource",
        "description": "## Overview\nSoft-delete a resource Available for **Staff Tokens**.",
        "parameters": [
          {
            "name": "uid",
            "required": true,
            "in": "path",
            "description": "Unique identifier of the Resource",
            "schema": {
              "type": "string"
            },
            "example": "94ca2054-3bb0-4788-8e9e-ee2442975cdd"
          }
        ],
        "responses": {
          "200": {
            "description": "Resource deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    }
                  ]
                }
              }
            }
          },
          "302": {
            "description": "OAuth redirect when no authentication token provided"
          },
          "401": {
            "description": "Valid business context is required"
          },
          "403": {
            "description": "Forbidden: Resources feature is not enabled or not authorized to delete this resource (requires account.settings.manage permission)"
          },
          "404": {
            "description": "Resource not found"
          },
          "408": {
            "description": "Request exceeded timeout limit"
          }
        },
        "tags": [
          "Resource"
        ],
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/bookings": {
      "post": {
        "description": "## Overview\nCreate a new booking (appointment or event attendance). Available for **Staff, Directory, and Application tokens**.\n\n**Important**: Always provide `client_id` parameter. Without it, the endpoint attempts to create a client from form_data and returns 'First name can't be blank' errors.\n\n## Token Authorization\n- **Staff tokens**: Client must belong to the same business as the staff member\n- **Directory tokens**: Business must be a member of the directory (requires directory_member record)\n\n## Booking Types\nThis endpoint supports two types of bookings with different required parameters:\n\n### Appointment Booking (default)\nWhen `event_instance_id` is NOT provided:\n- **Required**: `business_id`, `service_id`, `staff_id`\n- **Required one of**: `start_time` OR `optional_times`\n\n### Event Registration\nWhen `event_instance_id` IS provided:\n- **Required**: `business_id`, `event_instance_id`\n\n## Client Identification\n- Use `client_id` to book for an existing client (required for Staff/App tokens)\n- Without `client_id`, the endpoint expects form_data for client creation (used by client-facing booking flows)",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Booking Created",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "business_id": "7f6d386440db74ab",
                      "client_id": "1kfvtps4a4wlh3lc",
                      "conversation_id": "ugd2qqidl75wrto6",
                      "created_at": "2020-01-19T07:44:21Z",
                      "duration": 60,
                      "event_instance_id": "a8ma2ephjfvwnvy7 (only for event)",
                      "id": "v8mvcenb8y3wej2n",
                      "service_id": "9fmuaghb4v7sif9r",
                      "source_data": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "mg9d91uh92bclwzg",
                      "start_time": "2020-01-22T13:00:00Z",
                      "status": "scheduled",
                      "time_zone": "UTC",
                      "title": "Imm + free",
                      "type": "appointment/event"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "400": {
            "description": "Parameter Missing - Required parameters not provided based on booking type",
            "content": {
              "application/json": {
                "example": {
                  "error": "Mandatory parameter service_id is missing, Mandatory parameter staff_id is missing",
                  "error_code": "PARAMETER_MISSING",
                  "status": "Error"
                }
              }
            }
          },
          "422": {
            "description": "Booking Creation Failure or Authorization Error",
            "content": {
              "application/json": {
                "example": {
                  "error": "error text",
                  "error_code": "TIMESLOT_UNAVAILABLE/ALREADY_REGISTERED/UNAUTHORIZED",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Create New Booking [Business]",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/bookings"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "arrival_window_value": {
                    "description": "Optional for appointment only. Arrival window value is in minutes and limited to 540 (9 hours).",
                    "type": "integer"
                  },
                  "business_id": {
                    "description": "Business uid. Always required.",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "campaign": {
                    "description": "Source campaign for tracking.",
                    "type": "string"
                  },
                  "channel": {
                    "description": "Source channel for tracking.",
                    "type": "string"
                  },
                  "client_id": {
                    "description": "Client uid. Recommended when booking on behalf of a client via Staff/App tokens.",
                    "type": "string",
                    "x-reference-to": "client"
                  },
                  "event_instance_id": {
                    "description": "Event instance uid. Required for event registration (mutually exclusive with service_id/staff_id/start_time).",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  },
                  "interaction_details": {
                    "description": "Address. Required when service location is set to: Client will set the address at booking.",
                    "type": "string"
                  },
                  "matter_uid": {
                    "description": "Matter/conversation uid to associate with the booking.",
                    "type": "string",
                    "x-reference-to": "matter"
                  },
                  "service_id": {
                    "description": "Service uid. Required for appointment booking.",
                    "type": "string",
                    "x-reference-to": "service"
                  },
                  "source_name": {
                    "description": "Source name for tracking (e.g., 'api', 'client_portal').",
                    "type": "string"
                  },
                  "source_url": {
                    "description": "Source URL for tracking.",
                    "type": "string"
                  },
                  "staff_id": {
                    "description": "Staff uid who will provide the service. Required for appointment booking.",
                    "type": "string",
                    "x-reference-to": "staff"
                  },
                  "start_time": {
                    "description": "ISO 8601 format datetime. Required for appointment booking (alternative: optional_times).",
                    "type": "string",
                    "format": "date-time"
                  },
                  "time_zone": {
                    "description": "Time zone for the booking. Default is UTC if not provided.",
                    "type": "string"
                  }
                },
                "required": [
                  "business_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/bookings/accept": {
      "post": {
        "description": "## Overview\nAccept a pending booking. Available for **Staff and App tokens**.\n\n## Batch Operations\nSupports batch operations by providing an array of booking IDs (max 50).\n\n## Response\nReturns the accepted booking details for single booking, or batch response for array of bookings.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Accept Batch Response",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "batch_response": [
                      {
                        "error": null,
                        "id": "0or7alzpb99ye3lo",
                        "success": true
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "201": {
            "description": "Booking Accepted",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "actions": [
                        {
                          "name": "reschedule",
                          "name_h": "Reschedule"
                        },
                        {
                          "name": "edit",
                          "name_h": "Edit"
                        },
                        {
                          "name": "cancel",
                          "name_h": "Cancel Appointment"
                        },
                        {
                          "name": "follow_up",
                          "name_h": "Send a Note"
                        }
                      ],
                      "id": "xgnm9g2ysine1e5b",
                      "no_show": true,
                      "start_time": "2025-08-07T09:55:52.773+03:00",
                      "start_time_utc": "2025-08-07T09:55:52.773+03:00",
                      "state": "schedule",
                      "title": "Appointment"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Missing required parameters",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "error": "Mandatory parameter booking_id is missing",
                  "error_code": "PARAMETER_MISSING"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Too many bookings in batch request or operation not permitted",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "error": "Too many bookings"
                }
              }
            }
          }
        },
        "summary": "Accept a Booking [Business]",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "booking_id": {
                    "description": "Booking (appointment/event) UID. Can be a single string or array of strings for batch operations (max 50).",
                    "type": "string",
                    "x-reference-to": "booking"
                  },
                  "business_id": {
                    "description": "Business UID",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "event_instance_id": {
                    "description": "Event instance UID. Provide this when accepting an event registration rather than an appointment.",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  },
                  "message": {
                    "description": "Optional message to include with the acceptance notification.",
                    "type": "string"
                  }
                },
                "required": [
                  "business_id",
                  "booking_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/bookings/cancel": {
      "put": {
        "description": "## Overview\nCancel an existing booking. Available for **Staff and App tokens**.\n\n## Batch Operations\nSupports batch operations by providing an array of booking IDs (max 50).\n\n## Parameters\n- `cancel_payment`: Set to true to cancel any associated payment\n- `issue_refund`: Set to true to issue a refund for the cancelled booking",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Cancel Batch Response",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "batch_response": [
                      {
                        "id": "1a2h20dwb6iakgqk",
                        "success": true
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "201": {
            "description": "Booking Canceled",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "business_id": "6c52c83af92a7819",
                      "client_id": "7n8ia1nmvuhqqn9g",
                      "conversation_id": "qy0eddp9i3igw3ko",
                      "created_at": "2020-01-19T07:44:21Z",
                      "duration": 60,
                      "event_instance_id": "a8ma2ephjfvwnvy7 (only for event)",
                      "id": "93vcpp7i9d5wowo0",
                      "source_data": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "f5fd126aa3d298be",
                      "start_time": "2025-08-07T09:55:54.048+03:00",
                      "status": "cancelled",
                      "time_zone": "UTC",
                      "title": "Imm + free",
                      "type": "appointment/event"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Cancel a Booking [Business]",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "booking_id": {
                    "description": "Booking (appointment/event) UID. Can be a single string or array of strings for batch operations (max 50).",
                    "type": "string",
                    "x-reference-to": "booking"
                  },
                  "business_id": {
                    "description": "Business UID",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "event_instance_id": {
                    "description": "Event instance UID. Provide this when cancelling an event registration rather than an appointment.",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  },
                  "message": {
                    "description": "Optional message to include with the cancellation notification.",
                    "type": "string"
                  },
                  "cancel_payment": {
                    "description": "Set to true to cancel any associated payment.",
                    "type": "boolean"
                  },
                  "issue_refund": {
                    "description": "Set to true to issue a refund for the cancelled booking.",
                    "type": "boolean"
                  }
                },
                "required": [
                  "business_id",
                  "booking_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/bookings/complete": {
      "post": {
        "description": "## Overview\nMark a booking as completed or no-show. Available for **Staff and App tokens**.\n\n## Batch Operations\nSupports batch operations by providing an array of booking IDs (max 50).\n\n## Parameters\n- `booking_id` (required): Single booking UID or array of UIDs for batch operations\n- `business_id` (required): Business UID\n- `mark_as_no_show`: Set to `true` to mark as no-show instead of completed\n- `message`: Optional message to include with the completion notification\n- `follow_up_params`: Optional parameters for sending a follow-up email",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Accept Batch Response",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "batch_response": [
                      {
                        "error": null,
                        "id": "oo43ef763vtx3sj9",
                        "success": true
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          },
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "actions": [
                        {
                          "name": "reschedule",
                          "name_h": "Reschedule"
                        },
                        {
                          "name": "edit",
                          "name_h": "Edit"
                        },
                        {
                          "name": "cancel",
                          "name_h": "Cancel Appointment"
                        },
                        {
                          "name": "complete",
                          "name_h": "Mark as completed"
                        }
                      ],
                      "id": "5f2y6i6z2amzdqa2",
                      "no_show": false,
                      "start_time": "2025-08-06T11:20:00.000Z",
                      "start_time_utc": "2025-08-06T11:20:00.000Z",
                      "state": "scheduled",
                      "title": "Realigned maximized project"
                    }
                  },
                  "status": "OK",
                  "success": true
                }
              }
            }
          }
        },
        "summary": "Mark booking as no show",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/bookings/complete"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "booking_id": {
                    "description": "Booking UID. Can be a single string or an array of strings for batch operations (max 50 bookings).",
                    "type": "string",
                    "x-reference-to": "booking"
                  },
                  "business_id": {
                    "description": "Business UID",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "mark_as_no_show": {
                    "description": "Set to true to mark as no-show instead of completed. Default is false.",
                    "type": "boolean"
                  },
                  "message": {
                    "description": "Optional message to include with the completion notification.",
                    "type": "string"
                  },
                  "follow_up_params": {
                    "description": "Optional parameters for sending a follow-up email after completion.",
                    "type": "object"
                  }
                },
                "required": [
                  "business_id",
                  "booking_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/bookings/{booking_id}": {
      "put": {
        "description": "## Overview\nUpdate booking details including start time, staff, and notes. Available for **Staff and App tokens**.\n\n**Note**: The path parameter is `booking_id` (not `booking_uid`).",
        "parameters": [
          {
            "description": "Booking (appointment/event) ID. Obtained from create booking response.",
            "in": "path",
            "name": "booking_id",
            "x-reference-to": "booking",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Booking Updated",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "approval_mode": "immediate",
                      "category_name": "My Services",
                      "charge_type": "paid",
                      "client_id": "e04mjn2h6r5grnis",
                      "conversation_id": "0fkm8euoikb3oqzr",
                      "currency": "USD",
                      "depth": "deep",
                      "description": null,
                      "duration": 60,
                      "end_time": "2020-08-28T15:00:00.000Z",
                      "image_url": "",
                      "interaction_details": "Olsztyn, Poland",
                      "interaction_type": "business_location",
                      "invoice_payment_status_uid": null,
                      "invoices": [],
                      "no_show": false,
                      "notes": null,
                      "payable": true,
                      "payment": null,
                      "payment_id": null,
                      "price": "1.0",
                      "service_id": "yfewza2xcbd2whvm",
                      "staff_id": "4a90d8yacekm6j0w",
                      "staff_name": "A",
                      "start_time": "2020-08-28T14:00:00.000Z",
                      "state": "scheduled",
                      "suggested_times": [],
                      "suggested_times_end": [],
                      "time_zone": "(GMT-06:00) Central Time (US & Canada)",
                      "title": "Suggest local",
                      "type": "appointment",
                      "uid": "5t29s4pvv3cv8qpn"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Update Booking Details [Business]",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "allow_double_booking": {
                    "description": "Should allow overlapping with a different booking if time/duration is changed (True by default)",
                    "type": "boolean"
                  },
                  "auto_follow_up_hours": {
                    "description": "How many hours after the booking to send the automatic follow up message",
                    "type": "number"
                  },
                  "booking_id": {
                    "description": "Booking (appointment/event) uid",
                    "type": "string"
                  },
                  "business_id": {
                    "description": "Business uid",
                    "type": "string"
                  },
                  "currency": {
                    "description": "The currency of the booking",
                    "type": "string"
                  },
                  "duration": {
                    "description": "The duration of the booking",
                    "type": "number"
                  },
                  "interaction_details": {
                    "description": "Details of the meeting (address/ phone number",
                    "type": "string"
                  },
                  "interaction_type": {
                    "description": "One of: (client_location|client_phone|business_phone|default_business_location|business_location|skype|online)",
                    "type": "string"
                  },
                  "meeting_reminder_sms_1": {
                    "description": "Should send the client an SMS with the first reminder",
                    "type": "boolean"
                  },
                  "meeting_reminder_sms_2": {
                    "description": "Should send the client an SMS with the second reminder",
                    "type": "boolean"
                  },
                  "message": {
                    "description": "A message to be sent to the client after updating the booking",
                    "type": "string"
                  },
                  "notify_client": {
                    "description": "If true a message about the update with the 'message' field would be sent to the client",
                    "type": "boolean"
                  },
                  "padding": {
                    "description": "The padding duration before of the booking",
                    "type": "number"
                  },
                  "price": {
                    "description": "The price of the booking",
                    "type": "number"
                  },
                  "remind_before_in_hours_1": {
                    "description": "How many hours before the booking to send the first reminder",
                    "type": "number"
                  },
                  "remind_before_in_hours_2": {
                    "description": "How many hours before the booking to send the second reminder",
                    "type": "number"
                  },
                  "sms_booking_confirmation": {
                    "description": "Should send the client an SMS with the booking confirmation",
                    "type": "boolean"
                  },
                  "start_time": {
                    "description": "The start time of the booking in UTC (ISO 8601 format)'",
                    "type": "string"
                  },
                  "title": {
                    "description": "The title of the booking",
                    "type": "string"
                  }
                },
                "required": [
                  "business_id",
                  "booking_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/bulk_create": {
      "put": {
        "description": "## Overview\nBulk create or update external calendar items. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook).\n\n## Required Fields\n- Provide exactly one of: `external_item` (single item) or `external_items` (array)\n- Each item must include: `external_id`, `start_date`, `end_date`, `last_modification`",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "44d24f8860cf6d63",
                    "uid": "9g08urplg8lp1rc5"
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - Staff not registered to calendar sync",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "errors": [
                    {
                      "code": "missing",
                      "field": "staff",
                      "message": "staff is not registered to any calendar sync"
                    }
                  ]
                }
              }
            }
          }
        },
        "summary": "External app bulk create external items",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/bulk_create"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "external_item": {
                    "description": "Single external item to create/update. Use this OR `external_items`, not both.",
                    "properties": {
                      "end_date": {
                        "description": "End date in ISO 8601 format. Required.",
                        "type": "string",
                        "format": "date-time"
                      },
                      "external_calendar_uid": {
                        "description": "External Calendar UID",
                        "type": "string",
                        "x-reference-to": "external_calendar"
                      },
                      "external_id": {
                        "description": "External system ID for the item. Required.",
                        "type": "string"
                      },
                      "external_title": {
                        "description": "Title of the calendar item",
                        "type": "string"
                      },
                      "last_modification": {
                        "description": "Last modification timestamp in ISO 8601 format. Required.",
                        "type": "string",
                        "format": "date-time"
                      },
                      "rrule": {
                        "description": "Array of recurrence rules (RFC 5545 RRULE format)",
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "start_date": {
                        "description": "Start date in ISO 8601 format. Required.",
                        "type": "string",
                        "format": "date-time"
                      }
                    },
                    "required": [
                      "external_id",
                      "start_date",
                      "end_date",
                      "last_modification"
                    ],
                    "type": "object"
                  },
                  "external_items": {
                    "description": "Array of external items to create/update. Use this OR `external_item`, not both.",
                    "items": {
                      "description": "External item to create/update",
                      "properties": {
                        "end_date": {
                          "description": "End date in ISO 8601 format. Required.",
                          "type": "string",
                          "format": "date-time"
                        },
                        "external_calendar_uid": {
                          "description": "External Calendar UID",
                          "type": "string",
                          "x-reference-to": "external_calendar"
                        },
                        "external_id": {
                          "description": "External system ID for the item. Required.",
                          "type": "string"
                        },
                        "external_title": {
                          "description": "Title of the calendar item",
                          "type": "string"
                        },
                        "last_modification": {
                          "description": "Last modification timestamp in ISO 8601 format. Required.",
                          "type": "string",
                          "format": "date-time"
                        },
                        "rrule": {
                          "description": "Array of recurrence rules (RFC 5545 RRULE format)",
                          "items": {
                            "type": "string"
                          },
                          "type": "array"
                        },
                        "start_date": {
                          "description": "Start date in ISO 8601 format. Required.",
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "external_id",
                        "start_date",
                        "end_date",
                        "last_modification"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/bulk_deactivate": {
      "put": {
        "description": "## Overview\nBulk deactivate external calendar items. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook).\n\n## Required Fields\n- `external_items_to_deactivate` must be an array\n- Each item must include `external_id`",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "1a86d76432779692",
                    "uid": "worejslos7j2mf26"
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app bulk deactivate external items",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/bulk_deactivate"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "external_items_to_deactivate": {
                    "description": "Array of external items to deactivate. Each item must include `external_id`.",
                    "items": {
                      "description": "External item to deactivate",
                      "properties": {
                        "external_id": {
                          "description": "External system ID of the item to deactivate. Required.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "external_id"
                      ],
                      "type": "object"
                    },
                    "type": "array"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync",
                  "external_items_to_deactivate"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/connect": {
      "put": {
        "description": "## Overview\nConnect a staff member's calendar to an external calendar provider. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook).\n\n## Response\nReturns the calendar sync configuration including the `uid` which can be used as `external_calendar_uid` for other operations.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "f67acee343b4a38b",
                    "uid": "9t1dcewjh54k3t91"
                  },
                  "success": true
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - Staff not registered to calendar sync",
            "content": {
              "application/json": {
                "example": {
                  "status": "Error",
                  "errors": [
                    {
                      "code": "missing",
                      "field": "staff",
                      "message": "staff is not registered to any calendar sync"
                    }
                  ]
                }
              }
            }
          }
        },
        "summary": "External app connect",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/connect"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/deactivate_external_calendar": {
      "put": {
        "description": "## Overview\nDeactivate a specific external calendar. Available for **Staff and App tokens**.\n\n## Prerequisites\nThe `external_calendar_uid` is returned in the response when calling the `/v1/external_calendar_items/connect` endpoint.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "success": true
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app deactivate external calendar",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/deactivate_external_calendar"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "external_calendar_uid": {
                    "description": "External Calendar UID. Obtained from the connect endpoint response.",
                    "type": "string",
                    "x-reference-to": "external_calendar"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "external_calendar_uid"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/disable": {
      "put": {
        "description": "## Overview\nDisable calendar sync for a staff member. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook). Then connect via `/connect` endpoint.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "941ddd0324f01ba5",
                    "uid": "0af3jn4rz09ur76u"
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app disable",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/disable"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/disconnect": {
      "put": {
        "description": "## Overview\nDisconnect a staff member's calendar from an external calendar provider. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook). Then connect via `/connect` endpoint.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "23732dd8356b9b69",
                    "uid": "w388fga3hg2hmptv"
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app disconnect",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/disconnect"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/report_sync_status": {
      "put": {
        "description": "## Overview\nReport the sync status after completing a calendar sync operation. Available for **Staff and App tokens**.\n\n## Required Fields\n- `params.is_sync_successful` is required\n- If `unsynced_items` is provided, each item must have `entity_uid`\n- If `unsynced_calendars` is provided, each item must have `imported_calendar_name`",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "success": true
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app report_sync_status",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/report_sync_status"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "params": {
                    "description": "Status report of the sync operation.",
                    "properties": {
                      "is_sync_successful": {
                        "description": "Whether the sync was successful. Required.",
                        "type": "boolean"
                      },
                      "unsynced_calendars": {
                        "description": "Array of calendars that failed to sync. Each item requires `imported_calendar_name`.",
                        "items": {
                          "description": "Unsynced calendar",
                          "properties": {
                            "imported_calendar_name": {
                              "description": "The calendar's name. Required when item is present.",
                              "type": "string"
                            }
                          },
                          "required": [
                            "imported_calendar_name"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "unsynced_items": {
                        "description": "Array of items that failed to sync. Each item requires `entity_uid`.",
                        "items": {
                          "description": "Unsynced item",
                          "properties": {
                            "entity_uid": {
                              "description": "The entity UID of the unsynced item. Required when item is present.",
                              "type": "string"
                            }
                          },
                          "required": [
                            "entity_uid"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "is_sync_successful"
                    ],
                    "type": "object"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync",
                  "params"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/start_export": {
      "put": {
        "description": "## Overview\nStart exporting vcita calendar events to an external calendar. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook). Then connect via `/connect` endpoint.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "d18390b5ceeb9256",
                    "uid": "16dcvpz9p1js7nn5"
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app start_export",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/start_export"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/external_calendar_items/stop_import": {
      "put": {
        "description": "## Overview\nStop importing events from an external calendar. Available for **Staff and App tokens**.\n\n## Prerequisite\n**Staff member must have a CalendarSync record** (typically created via the vcita web UI or OAuth flow with an external calendar provider like Google or Outlook). Then connect via `/connect` endpoint.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "account": "fakeemail@gmail.com",
                    "enabled": false,
                    "is_business_disable_ics": false,
                    "is_external_app": true,
                    "is_private_export": true,
                    "is_private_import": true,
                    "is_staff_disable_ics": false,
                    "provider": "google_v3",
                    "should_export": true,
                    "should_import": true,
                    "staff_uid": "305869f5fb05b52d",
                    "uid": "ac82np5xx16ae6st"
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "External app stop import",
        "tags": [
          "ExternalCalendarItems"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/external_calendar_items/stop_import"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "calendar_sync": {
                    "description": "Calendar sync configuration. Both `provider` and `account` are required.",
                    "properties": {
                      "account": {
                        "description": "The email account to sync to (e.g., user@gmail.com). Required.",
                        "type": "string"
                      },
                      "provider": {
                        "description": "The external calendar provider (e.g., 'google_v3', 'outlook'). Required.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "provider",
                      "account"
                    ],
                    "type": "object"
                  },
                  "staff_uid": {
                    "description": "Staff UID",
                    "type": "string",
                    "x-reference-to": "staff"
                  }
                },
                "required": [
                  "staff_uid",
                  "calendar_sync"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/time_slots": {
      "post": {
        "description": "## Overview\nGeneral availability - Create new time slot. Available for **Staff and App tokens**.\n\n## Prerequisites\nYou need a `weekly_availability_uid` which can be obtained from the staff or service availability settings.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "general_availability": {
                      "id": 123,
                      "time_slots_by_day": [
                        {
                          "day": 0,
                          "enabled": true,
                          "slots": [
                            {
                              "end_time": "22:00",
                              "id": "40ci67hckste9xax",
                              "start_time": "20:00"
                            }
                          ]
                        },
                        {
                          "day": 1,
                          "enabled": true,
                          "slots": [
                            {
                              "end_time": "17:00",
                              "id": "phmiv974egfuyx84",
                              "start_time": "09:00"
                            }
                          ]
                        },
                        {
                          "day": 2,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 3,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 4,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 5,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 6,
                          "enabled": false,
                          "slots": []
                        }
                      ],
                      "uid": "sjq2twnw8z0h33f0"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "General availability - Create new time slot",
        "tags": [
          "Weekly availability"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/time_slots"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "day": {
                    "description": "A number representing the day of the week (0 = Sunday, 6 = Saturday).",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 6
                  },
                  "end_time": {
                    "description": "End time in HH:MM format (e.g., '17:00').",
                    "type": "string"
                  },
                  "start_time": {
                    "description": "Start time in HH:MM format (e.g., '09:00').",
                    "type": "string"
                  },
                  "weekly_availability_uid": {
                    "description": "Weekly availability UID. Obtain from staff or service availability settings.",
                    "type": "string",
                    "x-reference-to": "weekly_availability"
                  }
                },
                "required": [
                  "weekly_availability_uid",
                  "day",
                  "start_time",
                  "end_time"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v1/time_slots/{time_slot_uid}": {
      "delete": {
        "description": "## Overview\nGeneral availability - Remove time slot Available for **Staff and App tokens**.",
        "parameters": [
          {
            "description": "time slot uid",
            "in": "path",
            "name": "time_slot_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "general_availability": {
                      "id": 123,
                      "time_slots_by_day": [
                        {
                          "day": 0,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 1,
                          "enabled": true,
                          "slots": [
                            {
                              "end_time": "17:00",
                              "id": "h6v5fxwr3f0xe4vf",
                              "start_time": "09:00"
                            }
                          ]
                        },
                        {
                          "day": 2,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 3,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 4,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 5,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 6,
                          "enabled": false,
                          "slots": []
                        }
                      ],
                      "uid": "63q3l1lex42awyzc"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "General availability - Remove time slot",
        "tags": [
          "Weekly availability"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "DELETE",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/time_slots/{time_slot_uid}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "put": {
        "description": "## Overview\nGeneral availability - Update time slot. Available for **Staff and App tokens**.",
        "parameters": [
          {
            "description": "Time slot UID",
            "in": "path",
            "name": "time_slot_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "general_availability": {
                      "id": 123,
                      "time_slots_by_day": [
                        {
                          "day": 0,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 1,
                          "enabled": true,
                          "slots": [
                            {
                              "end_time": "17:00",
                              "id": "0p92ib1eqvmybmdq",
                              "start_time": "09:00"
                            },
                            {
                              "end_time": "22:00",
                              "id": "zbjrl4i2v946uyek",
                              "start_time": "20:00"
                            }
                          ]
                        },
                        {
                          "day": 2,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 3,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 4,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 5,
                          "enabled": false,
                          "slots": []
                        },
                        {
                          "day": 6,
                          "enabled": false,
                          "slots": []
                        }
                      ],
                      "uid": "7qyp5axp610aq39b"
                    }
                  },
                  "success": true
                }
              }
            }
          }
        },
        "summary": "General availability - Update time slot",
        "tags": [
          "Weekly availability"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///business/scheduling/v1/time_slots/{time_slot_uid}"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "end_time": {
                    "description": "End time in HH:MM format (e.g., '17:00').",
                    "type": "string"
                  },
                  "start_time": {
                    "description": "Start time in HH:MM format (e.g., '09:00').",
                    "type": "string"
                  },
                  "weekly_availability_uid": {
                    "description": "Weekly availability UID.",
                    "type": "string",
                    "x-reference-to": "weekly_availability"
                  }
                },
                "required": [
                  "weekly_availability_uid"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/appointments": {
      "get": {
        "description": "## Overview\nRetrieves a paginated list of appointments for the business. Supports filtering by client, appointment state, and sorting. Available for **Staff and Application tokens**.",
        "parameters": [
          {
            "description": "Business ID (optional)",
            "in": "query",
            "name": "business_id",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Client ID Filter",
            "in": "query",
            "name": "client_id",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "State Filter - rejected/scheduled/done/cancelled/pending_reschedule/reschedule e.g state=done,rejected",
            "in": "query",
            "name": "state",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Multiple order by option - updated:DESC,start_at:ASC,created:DESC",
            "in": "query",
            "name": "sort",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Page number of results. Default: 1",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "description": "How many items to return per page. Default: 25. Max: 100",
            "in": "query",
            "name": "per_page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "appointments": [
                      {
                        "approval_mode": null,
                        "business_uid": "104a5664c3663a8d",
                        "category_name": null,
                        "charge_type": "no_price",
                        "client_color_id": 0,
                        "client_first_name": "Deeanna",
                        "client_id": "xvl55kzldujkar76",
                        "client_last_name": "Rice",
                        "conversation_id": "c7g4pvubtj84j6b5",
                        "created_at": "2025-08-05T06:56:16.020Z",
                        "currency": null,
                        "duration": 30,
                        "end_time": "2025-08-11T06:30:00.000Z",
                        "id": "e7j16p8hrgacto4g",
                        "image_url": "",
                        "initiator": null,
                        "interaction_details": "consequuntur",
                        "interaction_type": "client_location",
                        "is_recurring": false,
                        "linked_booking_uid": null,
                        "no_show": false,
                        "notes": null,
                        "optional_times": [],
                        "payment_id": null,
                        "payment_status": null,
                        "price": "0.0",
                        "series_id": null,
                        "series_instance_count": null,
                        "service_id": "vxolrre9o6ob92ee",
                        "staff_display_name": "Britt Bogan",
                        "staff_id": "9a33fc142dbb67f3",
                        "staff_image": null,
                        "start_time": "2025-08-11T06:00:00.000Z",
                        "state": "scheduled",
                        "title": "Advanced didactic portal",
                        "type": "appointment",
                        "updated_at": "2025-08-05T06:56:16.020Z"
                      }
                    ],
                    "next_page": null
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Appointments List",
        "tags": [
          "Appointments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/appointments"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/appointments/{appointment_id}": {
      "get": {
        "description": "## Overview\nGet appointment details by ID. Available for **Staff and Application tokens**.",
        "parameters": [
          {
            "description": "Appointment id",
            "in": "path",
            "name": "appointment_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "appointment": {
                      "approval_mode": null,
                      "auto_follow_up_hours": 0,
                      "business_uid": "104a5664c3663a8d",
                      "category_name": null,
                      "charge_type": "no_price",
                      "client_color_id": 0,
                      "client_first_name": "Deeanna",
                      "client_id": "xvl55kzldujkar76",
                      "client_last_name": "Rice",
                      "conversation_id": "c7g4pvubtj84j6b5",
                      "coupon": null,
                      "created_at": "2025-08-05T06:56:16.020Z",
                      "currency": null,
                      "duration": 30,
                      "end_time": "2025-08-11T06:30:00.000Z",
                      "id": "e7j16p8hrgacto4g",
                      "state": "scheduled",
                      "title": "Advanced didactic portal",
                      "type": "appointment",
                      "updated_at": "2025-08-05T06:56:16.020Z"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Appointment",
        "tags": [
          "Appointments"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/appointments/{appointment_id}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/bookings": {
      "get": {
        "description": "## Overview\nGet bookings of the authenticated client. Returns a paginated list of the client's appointments and event registrations.\n\nAvailable for **Client tokens** only.",
        "parameters": [
          {
            "description": "Maximum number of records which are returned for the request",
            "in": "query",
            "name": "per_page",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "First record's index in the returned list (e.g. per_page = 10, offset = 1, reords 11 to 20 are returned)",
            "in": "query",
            "name": "offset",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Business UID",
            "in": "query",
            "name": "business_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Matter UID",
            "in": "query",
            "name": "matter_uid",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "If equals to true, returns records from the past only. Otherwise, returns future bookings as well.",
            "in": "query",
            "name": "passed",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Relevant to recurring appointment/event, returns appointment/event attendance which their start_time is bigger than this parameter",
            "in": "query",
            "name": "start_time",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "Relevant to recurring appointment/event, returns appointment/event attendance which their start_time is smaller than this parameter",
            "in": "query",
            "name": "end_time",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "bookings": [
                      {
                        "approval_mode": "immediate",
                        "category_name": null,
                        "charge_type": "no_price",
                        "client_id": "3zashrlha0cwvnoz",
                        "conversation_id": "kehqoc1jkgooe0ft",
                        "currency": "ILS",
                        "depth": "deep",
                        "description": null,
                        "duration": 60,
                        "end_time": "2025-08-07T02:56:21.751-05:00",
                        "image_url": "",
                        "interaction_details": "Denver, CO, USA",
                        "interaction_type": "business_location",
                        "title": "Appointment 1",
                        "type": "appointment",
                        "uid": "wpyygjkyu0jca08e"
                      }
                    ]
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Bookings [Alpha] ",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/bookings"
        },
        "x-auth-type": "Client",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreates a booking for either an appointment with a staff member or registration for a group event.\n\nAvailable for **Client tokens only**. Staff tokens will fail with validation errors because the endpoint inherits from ClientApi base controller and requires client context from the JWT token.\n\n## Required Parameters for Appointment Booking\n- `business_id` (required)\n- `service_id` (required)\n- `staff_id` (required when service has staff_required=true, which is the default)\n- `start_time` OR `optional_times` (one is required)",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "business_id": "e62db14aa58c7675",
                      "client_id": "1kfvtps4a4wlh3lc",
                      "conversation_id": "ugd2qqidl75wrto6",
                      "created_at": "2020-01-19T07:44:21Z",
                      "duration": 60,
                      "event_instance_id": "a8ma2ephjfvwnvy7 (only for event)",
                      "id": "v8mvcenb8y3wej2n",
                      "service_id": "mxmuh2mewjxe9vip",
                      "source_data": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "mg9d91uh92bclwzg",
                      "start_time": "2020-01-22T13:00:00Z",
                      "status": "scheduled",
                      "time_zone": "UTC",
                      "title": "Imm + free",
                      "type": "appointment/event"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "error text",
                  "error_code": "TIMESLOT_UNAVAILABLE/ALREADY_REGISTERED",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Create New Booking [Alpha]",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/bookings"
        },
        "x-auth-type": "Client",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "business_id": {
                    "description": "Business uid",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "campaign": {
                    "description": "Source campaign",
                    "type": "string"
                  },
                  "channel": {
                    "description": "Source channel",
                    "type": "string"
                  },
                  "client_id": {
                    "description": "Client uid. If not provided, form_data with client fields (email, first_name) is required.",
                    "type": "string",
                    "x-reference-to": "client"
                  },
                  "event_instance_id": {
                    "description": "Event instance uid. Required for event registration (not appointment booking).",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  },
                  "form_data": {
                    "description": "Client form data containing scheduling fields. **Required when `client_id` is not provided** - the API requires client identification either via existing `client_id` or via form_data fields.\n\n## When to use\n- **Prefer `client_id`**: If you have an existing client_id, use it instead of form_data. This is simpler and avoids form validation.\n- **Use form_data**: Only when creating a booking for a new client who doesn't exist yet.\n\n## How to obtain field IDs\nCall `GET /platform/v1/forms?business_id={business_id}&form_type=scheduling&service_uid={service_id}` to get the scheduling form definition. Required fields (typically email and first_name) will have `required: true`.\n\n## Structure (IMPORTANT - Array format)\nThe `fields` property must be an **array of field objects**, NOT a key-value object:\n```json\n{\n  \"form_data\": {\n    \"fields\": [\n      {\n        \"field_id\": \"{email_field_id}\",\n        \"type\": \"email\",\n        \"new_data\": \"client@example.com\"\n      },\n      {\n        \"field_id\": \"{first_name_field_id}\",\n        \"type\": \"first_name\",\n        \"new_data\": \"John\"\n      }\n    ],\n    \"service_fields\": [],\n    \"others\": { \"notes\": null },\n    \"policies\": {}\n  }\n}\n```\n\n**Warning**: Using the wrong format (e.g., `{\"field_id\": \"value\"}` as a key-value object) will cause validation errors.\n\n## Meeting details\nWhen the service interaction_type is `client_location` or `phone_call`, include meeting details:\n```json\n{\n  \"form_data\": {\n    \"fields\": [...],\n    \"meeting_details\": {\n      \"meeting_interaction_details\": \"123 Main St, City\"\n    }\n  }\n}\n```",
                    "type": "object",
                    "properties": {
                      "fields": {
                        "type": "array",
                        "description": "Array of field objects. Each object must have field_id (from form definition), type (field type like 'email', 'first_name'), and new_data (the value as string).",
                        "items": {
                          "type": "object",
                          "properties": {
                            "field_id": {
                              "type": "string",
                              "description": "The field ID from the scheduling form definition"
                            },
                            "type": {
                              "type": "string",
                              "description": "The field type (e.g., 'email', 'first_name', 'phone')"
                            },
                            "new_data": {
                              "type": "string",
                              "description": "The field value as a string"
                            }
                          },
                          "required": [
                            "field_id",
                            "new_data"
                          ]
                        }
                      },
                      "service_fields": {
                        "type": "array",
                        "description": "Service-specific custom fields (same structure as fields)",
                        "items": {
                          "type": "object"
                        }
                      },
                      "meeting_details": {
                        "type": "object",
                        "description": "Meeting location details (required for client_location or phone_call services)",
                        "properties": {
                          "meeting_interaction_details": {
                            "type": "string",
                            "description": "Location or contact details for the meeting"
                          }
                        }
                      },
                      "others": {
                        "type": "object",
                        "description": "Additional data like notes",
                        "properties": {
                          "notes": {
                            "type": "string",
                            "description": "Optional notes for the booking"
                          }
                        }
                      },
                      "policies": {
                        "type": "object",
                        "description": "Policy acceptance data"
                      }
                    }
                  },
                  "matter_uid": {
                    "description": "Matter uid (conversation context)",
                    "type": "string",
                    "x-reference-to": "matter"
                  },
                  "portal_id": {
                    "description": "Business uid (same as business_id, for portal context)",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "service_id": {
                    "description": "Service uid. **REQUIRED** for appointment booking. Obtain via `GET /platform/v1/services?business_id={business_uid}`",
                    "type": "string",
                    "x-reference-to": "service"
                  },
                  "source_name": {
                    "description": "Source name (e.g., 'client_portal', 'api')",
                    "type": "string"
                  },
                  "source_url": {
                    "description": "Source URL",
                    "type": "string"
                  },
                  "staff_id": {
                    "description": "Staff uid. **REQUIRED** when service has staff_required=true (default). Obtain via `GET /platform/v1/businesses/{business_uid}/staffs`",
                    "type": "string",
                    "x-reference-to": "staff"
                  },
                  "start_time": {
                    "description": "ISO 8601 format. **REQUIRED** (or provide optional_times instead). Must be a future datetime.",
                    "type": "string"
                  },
                  "time_zone": {
                    "description": "Default is set to UTC if not provided",
                    "type": "string"
                  }
                },
                "required": [
                  "business_id",
                  "service_id",
                  "staff_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/bookings/cancel": {
      "post": {
        "description": "## Overview\nCancel booking Available for **Staff, App, Directory, and Client tokens**.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "business_id": "2a244fc4f6edcad7",
                      "client_id": "i1srcak1820zi7yr",
                      "conversation_id": "lcfnf1pag6itpwlf",
                      "created_at": "2020-01-19T07:44:21Z",
                      "duration": 60,
                      "event_instance_id": "a8ma2ephjfvwnvy7 (only for event)",
                      "id": "q85mz0l11b7e0u2j",
                      "source_data": {
                        "campaign": null,
                        "channel": "",
                        "name": "client_portal",
                        "website_url": null
                      },
                      "staff_id": "652fe81f2e369b1b",
                      "start_time": "2025-08-07T01:56:21.059-05:00",
                      "status": "cancelled",
                      "time_zone": "UTC",
                      "title": "Imm + free",
                      "type": "appointment/event"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Cancel a Booking [Alpha]",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/bookings/cancel"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "booking_id": {
                    "description": "Booking (appointment/event) uid. Can be obtained from:\n- `GET /platform/v1/scheduling/bookings` (requires Client token)\n- `GET /platform/v1/scheduling/appointments` (returns `id` field which is the booking_id)\n- Response from `POST /platform/v1/scheduling/bookings` (returns `data.booking.id`)",
                    "type": "string",
                    "x-reference-to": "booking"
                  },
                  "business_id": {
                    "description": "Business uid",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "event_instance_id": {
                    "description": "Event instance uid. Required only for cancelling event registrations (not appointments).",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  }
                },
                "required": [
                  "business_id",
                  "booking_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/bookings/{booking_uid}/update_rsvp_state": {
      "put": {
        "description": "## Overview\nUpdate RSVP state for a booking. Available for **Client tokens** only.\n\n## Required Parameters\n- `booking_uid` (path): The booking UID\n- `new_rsvp_state` (query): Valid values: 'confirmed', 'cancelled', 'pending'\n- `appointment_type` (body): 'appointment', 'event_instance', or 'event_attendance'\n- `business_id` (body): The business UID",
        "parameters": [
          {
            "description": "Booking UID",
            "in": "path",
            "name": "booking_uid",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "description": "New RSVP State. 'confirmed' is the only valid option. any other state is forbidden (return 403)",
            "in": "query",
            "name": "new_rsvp_state",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "booking": {
                      "approval_mode": "immediate",
                      "category_name": null,
                      "charge_type": "no_price",
                      "client_id": "9ni8maitv3m5d46z",
                      "conversation_id": "23pidd58zeesla4j",
                      "currency": "ILS",
                      "depth": "deep",
                      "description": null,
                      "duration": 60,
                      "end_time": "2025-08-07T02:56:22.469-05:00",
                      "image_url": "",
                      "interaction_details": "Denver, CO, USA",
                      "interaction_type": "business_location",
                      "invoice_payment_status_uid": null,
                      "invoices": [],
                      "is_recurring": true,
                      "no_show": false,
                      "notes": "",
                      "payable": false,
                      "payment": null,
                      "payment_id": null,
                      "payment_status": null,
                      "policies": {
                        "cancellation": {
                          "can_cancel": true,
                          "can_cancel_now": true,
                          "time_limit": 0
                        },
                        "meetings": {
                          "meetings_policy": ""
                        },
                        "rescheduling": {
                          "can_reschedule": true,
                          "can_reschedule_now": true,
                          "time_limit": 0
                        }
                      },
                      "price": "0.0",
                      "recurrence_description": "Daily (4 times)",
                      "rsvp_required": false,
                      "rsvp_state": "confirmed",
                      "series_id": "vr40xtqf6qecdbft",
                      "service_id": "om30w1mj75dvvnja",
                      "source_data": {
                        "campaign": null,
                        "channel": null,
                        "id": 1412199,
                        "name": "initiated_by_staff",
                        "website_url": null
                      },
                      "staff_id": "56f088bd289b1c51",
                      "staff_name": "staff name",
                      "start_time": "2025-08-07T01:56:22.469-05:00",
                      "state": "scheduled",
                      "suggested_times": [],
                      "suggested_times_end": [],
                      "time_zone": "(GMT+02:00) Jerusalem",
                      "title": "Service Without Payment",
                      "type": "appointment",
                      "uid": "g90kratlmu1n9w9i"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Update RSVP state",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/bookings/{booking_uid}/update_rsvp_state"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "appointment_type": {
                    "description": "Three types are valid. 'appointment', 'event_instance' or 'event_attendance'",
                    "type": "string"
                  },
                  "business_id": {
                    "description": "Business UID",
                    "type": "string"
                  }
                },
                "required": [
                  "business_id",
                  "appointment_type"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v2/event_instances": {
      "get": {
        "description": "## Overview\nList all event instances (group events) for the business.\n\nAvailable for **Staff tokens**.\n\n## Notes\n- Event instances are individual occurrences of event series (group events)\n- Returns empty array if no group events exist\n- Use this endpoint to get `event_instance_id` values for other event-related endpoints\n- App tokens do NOT work with this endpoint (backend bug)",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success - returns array of event instances",
            "content": {
              "application/json": {
                "example": [
                  {
                    "uid": "gmy6c6keyo2mmnaa",
                    "title": "Group Yoga Class",
                    "start_time": "2025-06-08T21:00:00.000Z",
                    "end_time": "2025-06-08T22:00:00.000Z",
                    "duration": 60,
                    "state": "scheduled",
                    "price": "10.0",
                    "currency": "USD",
                    "charge_type": "paid",
                    "interaction_type": "business_location",
                    "interaction_details": "123 Main St",
                    "staff_id": "36ri3mtnk53zpfkc",
                    "service_id": "d37paicvkb4u8taf"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or missing token"
          }
        },
        "summary": "List Event Instances",
        "tags": [
          "Event Instances"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/event_instances"
        },
        "x-auth-type": "Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      },
      "post": {
        "description": "## Overview\nCreate a new event instance (group event).\n\nAvailable for **Staff tokens**.\n\n## Required Fields\n- `title`: Event title\n- `start_time`: ISO 8601 datetime\n- `end_time`: ISO 8601 datetime (must be after start_time)\n- `duration`: Duration in minutes\n- `padding`: Buffer time in minutes (can be 0)\n- `interaction_type`: One of 'default_business_location', 'client_location', 'phone', 'video'\n- `max_attendance`: Maximum number of attendees\n\n## Note\nApp tokens do NOT work with this endpoint (backend bug)",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Event instance created successfully",
            "content": {
              "application/json": {
                "example": {
                  "uid": "f69jgubgg4ufktac",
                  "title": "Test Event",
                  "start_time": "2026-02-03T10:00:00.000Z",
                  "end_time": "2026-02-03T11:00:00.000Z",
                  "duration": 60,
                  "max_attendance": 10,
                  "state_summary": {
                    "state": "scheduled",
                    "state_h": "Scheduled"
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation error - missing or invalid fields"
          }
        },
        "summary": "Create Event Instance",
        "tags": [
          "Event Instances"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///v2/event_instances"
        },
        "x-auth-type": "Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "start_time",
                  "end_time",
                  "duration",
                  "padding",
                  "interaction_type",
                  "max_attendance"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Event title"
                  },
                  "start_time": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Event start time in ISO 8601 format"
                  },
                  "end_time": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Event end time in ISO 8601 format (must be after start_time)"
                  },
                  "duration": {
                    "type": "integer",
                    "description": "Duration in minutes"
                  },
                  "padding": {
                    "type": "integer",
                    "description": "Buffer time in minutes (can be 0)"
                  },
                  "interaction_type": {
                    "type": "string",
                    "enum": [
                      "default_business_location",
                      "client_location",
                      "phone",
                      "video"
                    ],
                    "description": "Event location type"
                  },
                  "max_attendance": {
                    "type": "integer",
                    "description": "Maximum number of attendees"
                  },
                  "service_id": {
                    "type": "string",
                    "description": "Optional service UID to associate with the event"
                  },
                  "staff_id": {
                    "type": "string",
                    "description": "Optional staff UID who hosts the event"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/event_instance/{event_instance_id}": {
      "get": {
        "description": "## Overview\nGet Event Instance Details.",
        "parameters": [
          {
            "description": "The id of the event instance",
            "in": "path",
            "name": "event_instance_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "event_instance": {
                      "charge_type": "paid",
                      "currency": "USD",
                      "duration": 60,
                      "end_time": "2020-06-08T22:00:00.000Z",
                      "interaction_details": "Tel Aviv, Israel",
                      "interaction_type": "business_location",
                      "price": "10.0",
                      "service_id": "d37paicvkb4u8taf",
                      "staff_id": "36ri3mtnk53zpfkc",
                      "start_time": "2020-06-08T21:00:00.000Z",
                      "state": "scheduled",
                      "title": "Event require pay",
                      "uid": "gmy6c6keyo2mmnaa"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Get Event Instance",
        "tags": [
          "Event Instance"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "GET",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/event_instance/{event_instance_id}"
        },
        "x-auth-type": "Application & Application User",
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/waitlist": {
      "post": {
        "description": "## Overview\nJoin an event waitlist. Available for **Staff, App, Directory, and Client tokens**.\n\n## Client Identification\nClient tokens: The client is identified from the token.\nStaff/App/Directory tokens: Must provide `client_id` to identify which client to add to the waitlist.\n\n## Note\nValidation errors may return dynamic form field IDs. To get the form field definitions, call `GET /platform/v1/forms?business_id={business_id}&form_type=scheduling&service_uid={event_service_id}`.",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "waitlist": {
                      "client_id": 7203,
                      "created_at": "2021-09-09T10:38:15.962+03:00",
                      "entity_id": 664,
                      "entity_type": "EventInstance",
                      "event_instance_uid": "49rytay9lggliv5f",
                      "initiator": "client",
                      "matter": {
                        "display_name": "AddedClient6",
                        "uid": "rh3bl5x5ksjlikbh"
                      },
                      "source_id": 8012,
                      "spot": 6,
                      "staff_uid": "91g1yq1uzbypf5wx",
                      "start_time_h": "Thu, September 16 at 2:00pm",
                      "state_summary": {
                        "state": "pending",
                        "state_h": "Pending"
                      },
                      "status": "pending",
                      "title": "Demo class / event",
                      "type": "waitlist",
                      "uid": "kqzp5epsr2wr90pn",
                      "where_h": "Modiin, Israel"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          },
          "422": {
            "description": "Failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Invalid staff",
                  "status": "Error"
                }
              }
            }
          }
        },
        "summary": "Create event Waitlist",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "POST",
          "responses": {
            "default": {
              "statusCode": "201"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/waitlist"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "business_id": {
                    "description": "Business UID. Required.",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "channel": {
                    "description": "Source channel for tracking.",
                    "type": "string"
                  },
                  "client_id": {
                    "description": "Client UID. Required for Staff/App/Directory tokens.",
                    "type": "string",
                    "x-reference-to": "client"
                  },
                  "event_instance_id": {
                    "description": "Event instance UID. Required - identifies which event to join the waitlist for.",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  },
                  "matter_uid": {
                    "description": "Matter/conversation UID to associate with this waitlist entry.",
                    "type": "string",
                    "x-reference-to": "matter"
                  },
                  "source_name": {
                    "description": "Source name for tracking (e.g., 'client_portal', 'api').",
                    "type": "string"
                  },
                  "source_url": {
                    "description": "Source URL for tracking.",
                    "type": "string"
                  },
                  "time_zone": {
                    "description": "Time zone for the waitlist entry.",
                    "type": "string"
                  }
                },
                "required": [
                  "business_id",
                  "event_instance_id"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/platform/v1/scheduling/waitlist/cancel": {
      "put": {
        "description": "## Overview\nCancel a waitlist registration. Available for **Staff, App, Directory, and Client tokens**.\n\n## Required Field Combinations\n- **Always required**: `business_uid`\n- **For events**: Add `event_instance_uid`\n- **To identify client** (Staff/App/Directory tokens): Add `client_uid` or `matter_uid`\n\n## Client Identification\n- **Client tokens**: The client is identified from the token.\n- **Staff/App/Directory tokens**: Must provide `client_uid` or `matter_uid` to identify which client's waitlist entry to cancel.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "waitlist": {
                      "client_id": 7192,
                      "created_at": "2021-08-24T14:46:42.355Z",
                      "entity_id": 664,
                      "entity_type": "EventInstance",
                      "event_instance_uid": "a8ma2ephjfvwnvy7",
                      "initiator": "client",
                      "matter": {
                        "display_name": "Tatto ",
                        "uid": "4s7p4tecdnq5g9ae"
                      },
                      "source_id": 7945,
                      "spot": 1,
                      "staff_uid": "91g1yq1uzbypf5wx",
                      "start_time_h": "Thu, September 16 at 11:00am",
                      "state_summary": {
                        "state": "cancelled",
                        "state_h": "Cancelled"
                      },
                      "status": "cancelled",
                      "title": "Demo class / event",
                      "type": "waitlist",
                      "uid": "0noit00aqikuq3n8",
                      "where_h": "Modiin, Israel"
                    }
                  },
                  "status": "OK"
                }
              }
            }
          }
        },
        "summary": "Cancel a Waitlist registration",
        "tags": [
          "Bookings"
        ],
        "x-amazon-apigateway-auth": {
          "type": "NONE"
        },
        "x-amazon-apigateway-integration": {
          "httpMethod": "PUT",
          "responses": {
            "default": {
              "statusCode": "200"
            }
          },
          "type": "http_proxy",
          "uri": "https:///platform/v1/scheduling/waitlist/cancel"
        },
        "x-auth-type": "Application & Application User",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "business_uid": {
                    "description": "Business UID. Required.",
                    "type": "string",
                    "x-reference-to": "business"
                  },
                  "client_uid": {
                    "description": "Client UID. Required for Staff/App/Directory tokens.",
                    "type": "string",
                    "x-reference-to": "client"
                  },
                  "event_instance_uid": {
                    "description": "Event instance UID. Required - identifies which event's waitlist to cancel from.",
                    "type": "string",
                    "x-reference-to": "event_instance"
                  },
                  "matter_uid": {
                    "description": "Matter/conversation UID associated with the waitlist entry.",
                    "type": "string",
                    "x-reference-to": "matter"
                  }
                },
                "required": [
                  "business_uid",
                  "event_instance_uid"
                ],
                "type": "object"
              }
            }
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/scheduling/business_availabilities": {
      "get": {
        "summary": "Get all BusinessAvailabilities",
        "description": "## Overview\nReturns available booking slots for all businesses in your directory with pagination support. This endpoint is useful for building marketplace-style booking interfaces.\n\nAvailable for **Directory tokens** only.",
        "tags": [
          "Business Availability"
        ],
        "parameters": [
          {
            "name": "date_start",
            "in": "query",
            "required": true,
            "description": "Start date in YYYY-MM-DD format",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "example": "2025-01-20"
          },
          {
            "name": "date_end",
            "in": "query",
            "required": true,
            "description": "End date in YYYY-MM-DD format. Maximum 7 days from date_start.",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "example": "2025-01-27"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "Page number for pagination (0-based)",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            },
            "example": 0
          },
          {
            "name": "per_page",
            "required": false,
            "in": "query",
            "description": "Number of items per page. Maximum 10.",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 10,
              "default": 10
            },
            "example": 10
          },
          {
            "name": "scheduling_enabled",
            "in": "query",
            "required": false,
            "description": "Filter by online scheduling status. When true (default), only returns businesses with online scheduling enabled. Set to false to include businesses with scheduling disabled.",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "BusinessAvailabilities retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/BusinessAvailabilityList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters - missing or invalid date_start/date_end (must be ISO 8601 format), or date range exceeds 7 days"
          },
          "401": {
            "description": "Unauthorized - missing or invalid token"
          },
          "403": {
            "description": "Forbidden - only Directory tokens can access this endpoint"
          },
          "404": {
            "description": "Directory not found"
          },
          "429": {
            "description": "Too Many Requests - another request is currently processing for this directory. Please retry after a few seconds."
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    },
    "/v3/scheduling/availability_slots": {
      "get": {
        "summary": "Get all AvailabilitySlots",
        "description": "## Overview\nThis endpoint returns available time slots for booking appointments. It considers staff schedules, resource availability, existing bookings, and business hours to compute open slots.\n\nAvailable for **Staff Tokens**.",
        "tags": [
          "Availability Slots"
        ],
        "parameters": [
          {
            "name": "start_time",
            "in": "query",
            "required": true,
            "description": "Start time for availability search in ISO 8601 format (UTC). Must be a valid date-time string.",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-05-19T00:00:00.000Z"
          },
          {
            "name": "end_time",
            "in": "query",
            "required": true,
            "description": "End time for availability search in ISO 8601 format (UTC). Must be after start_time. Recommended range is up to 31 days.",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2025-05-20T00:00:00.000Z"
          },
          {
            "name": "service_uid",
            "in": "query",
            "required": false,
            "description": "Unique identifier of the service",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resource_type_uids",
            "in": "query",
            "required": false,
            "description": "Comma-separated list of resource type UIDs. At least one of resource_type_uids, resource_uids, or staff_uids must be provided.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resource_uids",
            "in": "query",
            "required": false,
            "description": "Comma-separated list of resource UIDs. At least one of resource_type_uids, resource_uids, or staff_uids must be provided.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "staff_uids",
            "in": "query",
            "required": false,
            "description": "Comma-separated list of staff UIDs. At least one of resource_type_uids, resource_uids, or staff_uids must be provided.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "slot_duration",
            "in": "query",
            "required": false,
            "description": "Duration of each slot in minutes",
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "slot_interval",
            "in": "query",
            "required": false,
            "description": "Interval between slots in minutes (if relevant)",
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "padding_before",
            "in": "query",
            "required": false,
            "description": "Padding time before each slot in minutes (if relevant)",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "padding_after",
            "in": "query",
            "required": false,
            "description": "Padding time after each slot in minutes (if relevant)",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "exclude_booking_uid",
            "in": "query",
            "required": false,
            "description": "Unique identifier of a booking to exclude from busy slots calculation when determining availability. When provided, the specified booking is temporarily removed from the busy slots list before calculating available time slots. This is essential for rescheduling scenarios where you need to check if the original time slot would be available without the current booking, or for conflict detection when validating potential overlaps. Example: If booking 'abc123' is scheduled from 2:00-3:00 PM and you want to reschedule it, passing exclude_booking_uid=abc123 will show 2:00-3:00 PM as available (assuming no other bookings conflict). If other bookings exist during that time, the slot remains busy.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Availability slots retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "https://vcita.github.io/developers-hub/entities/response.json"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/AvailabilitySlotList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters - missing required parameters or invalid values"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Service or specified resources not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "Bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ResourcesList": {
        "type": "object",
        "properties": {
          "resources": {
            "description": "List of Resources",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resource.json"
            }
          }
        }
      },
      "ResourceTypesList": {
        "type": "object",
        "properties": {
          "resource_types": {
            "description": "List of ResourceTypes",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/resourceType.json"
            }
          }
        }
      },
      "BusinessAvailabilityList": {
        "type": "object",
        "properties": {
          "items": {
            "description": "List of business availability slots",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/businessAvailability.json"
            }
          },
          "total": {
            "description": "Total count of available businesses",
            "type": "string"
          }
        }
      },
      "AvailabilitySlotList": {
        "type": "object",
        "properties": {
          "availability_slots": {
            "description": "List of AvailabilitySlots",
            "type": "array",
            "items": {
              "$ref": "https://vcita.github.io/developers-hub/entities/scheduling/availabilitySlot.json"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "Bearer": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Provide a valid bearer token in the Authorization header. Example: 'Authorization: Bearer {app_token}'"
      }
    }
  },
  "tags": []
}
