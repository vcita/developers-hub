---
endpoint: GET /platform/v1/clients/{client_id}/payments
domain: clients
tags: []
status: success
savedAt: 2026-01-25T09:12:43.655Z
verifiedAt: 2026-01-25T09:12:43.655Z
timesReused: 0
---
# Get Payments

## Summary
Test passes when called without query parameters (HTTP 201), but fails with 500 errors when invalid filter syntax is used. Discovered specific filter parameter requirements through source code analysis.

## Prerequisites
1. Business must have Payments module enabled
2. Client must exist and have payments associated

## UID Resolution Procedure

| UID Field | GET Endpoint | Extract From | Create Fresh | Cleanup |
|-----------|--------------|--------------|--------------|---------|
| client_id | GET /platform/v1/clients | data.clients[0].id | - | N/A |

### Resolution Steps

**client_id**:
1. Call `GET /platform/v1/clients?per_page=1` with staff/directory token
2. Extract from response: `data.clients[0].id`

```json
{
  "client_id": {
    "source_endpoint": "GET /platform/v1/clients",
    "extract_from": "data.clients[0].id",
    "fallback_endpoint": null,
    "create_fresh": false,
    "create_endpoint": null,
    "create_body": null,
    "cleanup_endpoint": null,
    "cleanup_note": "Use existing clients"
  }
}
```

## How to Resolve Parameters
Parameters were resolved automatically.

## Critical Learnings

1. **Module permission**: Returns 403 `module_permission_missing` if Payments module is not enabled for the business
2. **Business context**: Staff token must belong to a business with client access

## Request Template

Use this template with dynamically resolved UIDs:

```json
{
  "method": "GET",
  "path": "/platform/v1/clients/{{resolved.client_id}}/payments?filter[state][in]=paid"
}
```