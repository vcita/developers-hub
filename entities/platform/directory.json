{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Directory",
  "description": "Represents a Directory (Partner) account in the platform, including all technical and configuration metadata.",
  "type": "object",
  "properties": {
    "id": {
      "type": "integer",
      "description": "Internal database identifier"
    },
    "uid": {
      "type": "string",
      "description": "Entity's unique external identifier"
    },
    "name": {
      "type": "string",
      "description": "The name of the directory"
    },
    "partner_name": {
      "type": "string",
      "description": "Official partner name"
    },
    "alias": {
      "type": "string",
      "description": "Short alias for the directory"
    },
    "subdomain": {
      "type": "string",
      "description": "The vcita subdomain associated with the directory"
    },
    "whitelabel_subdomain": {
      "type": "boolean",
      "description": "Whether whitelabel subdomain is enabled"
    },
    "host_mapping": {
      "type": "string",
      "description": "The custom domain mapped to the directory"
    },
    "host_mapping_verified_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when host mapping was verified"
    },
    "ssl_enabled": {
      "type": "boolean",
      "description": "Whether SSL is enabled for the custom domain"
    },
    "old_host_mapping": {
      "type": "string",
      "description": "Previous host mapping domain"
    },
    "frontage": {
      "type": "string",
      "description": "The frontage template/version used"
    },
    "white_label": {
      "type": "boolean",
      "description": "Basic white label enablement flag"
    },
    "manual_type": {
      "type": "string",
      "enum": ["white_label", "solution_provider", "co_branded"],
      "description": "The partnership type"
    },
    "whitelabel_created_at": {
      "type": "string",
      "format": "date-time"
    },
    "current_subscription_created_at": {
      "type": "string",
      "format": "date-time"
    },
    "admin_id": {
      "type": "integer",
      "description": "Business ID of the directory admin"
    },
    "configuration_key": {
      "type": "string",
      "description": "Internal configuration key (e.g., 'star', 'duda')"
    },
    "created_at": {
      "type": "string",
      "format": "date-time"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time"
    },
    "default_password": {
      "type": "string",
      "description": "Default password for new members (usually encrypted)"
    },
    "branding_theme_id": {
      "type": "integer"
    },
    "management_theme_id": {
      "type": "integer"
    },
    "old_type": {
      "type": "string"
    },
    "billing_type": {
      "type": "string",
      "enum": ["manual", "recurly"]
    },
    "managed": {
      "type": "boolean",
      "description": "Raw managed flag"
    },
    "is_managed": {
      "type": "boolean",
      "description": "V3 alias for managed"
    },
    "deprecated": {
      "type": "boolean",
      "description": "Raw deprecated flag"
    },
    "is_deprecated": {
      "type": "boolean",
      "description": "V3 alias for deprecated"
    },
    "members_count": {
      "type": "integer",
      "description": "Total number of businesses in this directory"
    },
    "can_give_trial": {
      "type": "boolean"
    },
    "slim_register": {
      "type": "boolean"
    },
    "social_links_on": {
      "type": "boolean"
    },
    "locale": {
      "type": "string"
    },
    "time_zone": {
      "type": "string"
    },
    "paypal_email": {
      "type": "string",
      "format": "email"
    },
    "rev_share": {
      "type": "integer"
    },
    "rev_share_tier2": {
      "type": "integer"
    },
    "banners_visibility": {
      "type": "string"
    },
    "only_owner_login_redirect": {
      "type": "boolean"
    },
    "paid_total": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]{2}$",
      "description": "Total revenue (decimal format)"
    },
    "custom_sms_sending_phone_number": {
      "type": "string"
    },
    "features": {
      "type": "string"
    },
    "features_info": {
      "type": "object",
      "description": "Serialized metadata about enabled features"
    },
    "settings": {
      "type": "object",
      "description": "Serialized configuration settings"
    },
    "welcome_engagement_params": {
      "type": "object"
    },
    "invite_subject": {
      "type": "string"
    },
    "invite_body": {
      "type": "string"
    },
    "unsubscribe_sms": {
      "type": "boolean"
    },
    "disable_analytics": {
      "type": "boolean"
    },
    "content_business_id": {
      "type": "integer"
    },
    "content_manager_enable": {
      "type": "boolean"
    },
    "user_identity_manager_enable": {
      "type": "boolean"
    },
    "ultimate_monthly_subscription_id": {
      "type": "integer"
    },
    "ultimate_annual_subscription_id": {
      "type": "integer"
    },
    "subscriptions_mismatch_at": {
      "type": "string",
      "format": "date-time"
    },
    "white_label_subscription_id": {
      "type": "integer"
    },
    "current_subscription_id": {
      "type": "integer"
    },
    "pending_member_id": {
      "type": "integer"
    },
    "default_package_id": {
      "type": "integer"
    },
    "default_self_paid": {
      "type": "boolean"
    },
    "redeem_state": {
      "type": "string"
    },
    "mobile_app_name": {
      "type": "string"
    },
    "mobile_app_ios": {
      "type": "string"
    },
    "mobile_app_android": {
      "type": "string"
    },
    "email_template_owner_uid": {
      "type": "string"
    },
    "urls": {
      "type": "object",
      "description": "Collection of URLs related to the directory",
      "properties": {
        "home_url": { "type": "string" },
        "support_url": { "type": "string" },
        "faq_url": { "type": "string" },
        "cancel_page_url": { "type": "string" },
        "upgrade_page_url": { "type": "string" },
        "signup_url": { "type": "string" },
        "login_url": { "type": "string" },
        "sms_purchase_url": { "type": "string" },
        "backoffice_url": { "type": "string" }
      }
    }
  },
  "required": ["id", "uid", "name"],
  "example": {
    "id": 1024,
    "uid": "D-THRYV-2026-X1",
    "name": "Thryv Business Portal",
    "partner_name": "Thryv Inc.",
    "alias": "thryv_pro",
    "subdomain": "thryv-business",
    "whitelabel_subdomain": true,
    "host_mapping": "portal.thryv.com",
    "host_mapping_verified_at": "2026-01-01T12:00:00Z",
    "ssl_enabled": true,
    "old_host_mapping": "old.portal.thryv.com",
    "frontage": "thryv_v3",
    "white_label": true,
    "manual_type": "solution_provider",
    "whitelabel_created_at": "2026-01-01T08:00:00Z",
    "current_subscription_created_at": "2026-01-01T08:00:00Z",
    "admin_id": 5500,
    "configuration_key": "star",
    "created_at": "2026-01-01T08:00:00Z",
    "updated_at": "2026-01-18T10:00:00Z",
    "default_password": "encrypted_password_example",
    "branding_theme_id": 204,
    "management_theme_id": 205,
    "old_type": "reseller",
    "billing_type": "recurly",
    "managed": true,
    "members_count": 12500,
    "can_give_trial": true,
    "slim_register": true,
    "social_links_on": true,
    "locale": "en-US",
    "time_zone": "America/Chicago",
    "paypal_email": "finance@thryv.com",
    "rev_share": 25,
    "rev_share_tier2": 10,
    "banners_visibility": "hide",
    "only_owner_login_redirect": true,
    "paid_total": "125000.50",
    "custom_sms_sending_phone_number": "+18885550199",
    "features": "unlimited",
    "features_info": { "active_modules": ["crm", "billing", "marketing"] },
    "settings": { "allow_custom_branding": true, "support_tier": "gold" },
    "welcome_engagement_params": { "template_id": "welcome_01" },
    "invite_subject": "Activate your business portal",
    "invite_body": "Welcome to the Thryv family! Your portal is ready.",
    "unsubscribe_sms": false,
    "disable_analytics": false,
    "content_business_id": 6000,
    "content_manager_enable": true,
    "features_info": { "active_modules": ["crm", "billing", "marketing"] },
    "time_zone": "America/Chicago",
    "paypal_email": "finance@thryv.com",
    "user_identity_manager_enable": true,
    "deprecated": false,
    "is_managed": true,
    "is_deprecated": false,
    "urls": {
      "home_url": "https://www.thryv.com",
      "support_url": "https://thryv.com/support",
      "faq_url": "https://thryv.com/faq",
      "login_url": "https://portal.thryv.com/login",
      "signup_url": "https://thryv.com/get-started",
      "upgrade_page_url": "https://portal.thryv.com/upgrade",
      "cancel_page_url": "https://portal.thryv.com/cancel",
      "sms_purchase_url": "https://portal.thryv.com/sms",
      "backoffice_url": "https://admin.thryv.com"
    }
  }
}
