{
  "type": "object",
  "description": "Represents a navigation menu item that defines how partners configure their platform navigation structure. Navigation items support hierarchical menus, localized titles, permission-based visibility, and mobile-specific settings.",
  "properties": {
    "uid": {
      "type": "string",
      "readOnly": true,
      "description": "Unique identifier for the navigation item (e.g., \"nav-item-abc123\")."
    },
    "parent_uid": {
      "type": "string",
      "nullable": true,
      "description": "Unique identifier of the parent navigation item for hierarchical menus. Set to null for root-level items (e.g., \"nav-item-parent123\" or null)."
    },
    "directory_uid": {
      "type": "string",
      "readOnly": true,
      "description": "Unique identifier of the directory (partner) that owns this navigation item. Automatically set from the Directory Token context (e.g., \"dir-abc123\")."
    },
    "order": {
      "type": "integer",
      "minimum": 0,
      "default": 0,
      "description": "Display order within the parent level. Lower numbers appear first. Items with the same order are sorted by creation time (e.g., 0, 1, 2)."
    },
    "title": {
      "type": "object",
      "description": "Localized titles for the navigation item. Must include at least the 'en' (English) locale.",
      "propertyNames": {
        "type": "string",
        "enum": ["de", "en", "es", "fr", "he", "it", "pl", "pt", "ru", "sl", "tr"]
      },
      "properties": {
        "en": {
          "type": "string",
          "description": "English title (required)."
        },
        "he": {
          "type": "string",
          "description": "Hebrew title (optional)."
        }
      },
      "required": ["en"],
      "additionalProperties": {
        "type": "string",
        "description": "Additional locale titles (e.g., \"es\", \"fr\", \"de\")."
      },
      "example": {
        "en": "Dashboard",
        "he": "לוח בקרה"
      }
    },
    "icon": {
      "type": "string",
      "nullable": true,
      "maxLength": 255,
      "description": "Icon identifier from the platform icon library. For a list of supported icon identifiers, refer to the inTandem UI icon library used by the platform (e.g., \"icon-Dashboard_POV\", \"icon-Settings\")."
    },
    "key": {
      "type": "string",
      "maxLength": 255,
      "description": "Human-readable unique identifier within the directory. Used by API consumers for programmatic access. Must be stable across title/translation changes (e.g., \"dashboard\", \"settings\", \"custom_module\")."
    },
    "modules": {
      "type": "array",
      "nullable": true,
      "uniqueItems": true,
      "items": {
        "type": "string"
      },
      "description": "Array of module identifiers required for this item to be visible. Item is shown only if the business has at least one of these modules enabled. The list of enabled modules can be retrieved from the features endpoint (e.g., \"https://developers.intandem.tech/reference/get_platform-v1-businesses-business-id-features\"). (e.g., [\"scheduling\", \"payments\"])."
    },
    "permissions": {
      "type": "array",
      "nullable": true,
      "uniqueItems": true,
      "items": {
        "type": "string"
      },
      "description": "Array of permission identifiers required to view this item. Item is shown only if the staff member has at least one of these permissions. To retrieve valid permission codes, use the endpoint (GET \"/v3/access_control/permissions\"). (e.g., [\"payments.invoices.export\", \"clients.manage\"])."
    },
    "url": {
      "type": "string",
      "maxLength": 500,
      "description": "Navigation URL. Supports three URL types: (1) Internal Route — a relative path starting with '/app/' that navigates the user within the platform (e.g., \"/app/dashboard\", \"/app/calendar\", \"/app/clients\", \"/app/payments/orders\"). (2) Embedded App — a relative path following the pattern '/app/embedded/{APP_NAME}/{PATH}', where {APP_NAME} is the app identifier and {PATH} is a navigation path appended to the app's base URL stored in the database; query parameters can also be appended (e.g., \"/app/embedded/printer/settings\", \"/app/embedded/printer/preview?app_id=123\"). (3) External URL — a full URL starting with 'https://' that opens in a new browser tab (e.g., \"https://help.vcita.com\")."
    },
    "badge_id": {
      "type": "string",
      "nullable": true,
      "enum": ["inbox_unread", null],
      "description": "Badge identifier that displays a notification indicator on this navigation item. Supported values are finite and managed by the platform (e.g., \"inbox_unread\" or null)."
    },
    "action": {
      "type": "object",
      "nullable": true,
      "description": "Action configuration for special behaviors when the item is clicked. Actions are handled by the inTandem JS SDK.",
      "properties": {
        "name": {
          "type": "string",
          "enum": ["open_modal"],
          "description": "Action type identifier. Currently supported: \"open_modal\" (opens a modal dialog using the inTandem JS SDK). See the [openModal documentation](https://developers.intandem.tech/docs/openmodal) for available modals and their required parameters."
        },
        "params": {
          "type": "object",
          "description": "Action-specific parameters. For \"open_modal\": params must include the modal configuration (e.g., {\"modalName\": \"AppMarket\"}, {\"modalName\": \"ClientPicker\"}, {\"modalName\": \"IframeModal\", \"url\": \"https://example.com\", \"title\": \"Page Title\"}). See the [inTandem JS SDK openModal documentation](https://developers.intandem.tech/docs/openmodal) for complete parameter specifications for each modal type."
        }
      },
      "required": ["name"],
      "example": {
        "name": "open_modal",
        "params": {
          "modalName": "AppMarket"
        }
      }
    },
    "available_in_mobile": {
      "type": "boolean",
      "default": true,
      "description": "Whether this navigation item should appear in mobile app navigation. Set to false for desktop-only features (e.g., true, false)."
    },
    "favorite_in_mobile": {
      "type": "boolean",
      "default": false,
      "description": "Whether this item appears in the mobile favorites/quick-access section. Only applicable when available_in_mobile is true (e.g., true, false)."
    },
    "upsell_handling": {
      "type": "string",
      "nullable": true,
      "enum": ["hide", "show_upsell", null],
      "description": "Behavior when user lacks required modules/permissions. 'hide' removes the item completely, 'show_upsell' displays it with an upgrade prompt. Null means default behavior (hide)."
    },
    "is_bmp": {
      "type": "boolean",
      "readOnly": true,
      "default": false,
      "description": "Indicates if this is a Business Management Platform sub-menu item. BMP children are built by inTandem internal logic and cannot be modified using the navigation items system."
    },
    "created_by": {
      "type": "string",
      "nullable": true,
      "readOnly": true,
      "enum": ["vcita", "app", "directory", null],
      "description": "Indicates who created this navigation item. Supported values are: \"vcita\" (created by vcita system), \"app\" (created by an application or integration), \"directory\" (created by the directory owner). Null means unknown or legacy value."
    },
    "updated_by": {
      "type": "string",
      "nullable": true,
      "readOnly": true,
      "enum": ["vcita", "app", "directory", null],
      "description": "Indicates who last updated this navigation item. Supported values are: \"vcita\" (updated by vcita system), \"app\" (updated by an application or integration), \"directory\" (updated by the directory owner). Null means unknown or legacy value."
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "readOnly": true,
      "description": "The date and time when the navigation item was created, in ISO 8601 format (e.g., \"2026-01-15T10:30:00Z\")."
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "readOnly": true,
      "description": "The date and time when the navigation item was last updated, in ISO 8601 format (e.g., \"2026-01-15T14:45:00Z\")."
    }
  },
  "required": ["uid", "directory_uid", "order", "title", "key", "url"],
  "example": {
    "uid": "nav-item-abc123",
    "parent_uid": null,
    "directory_uid": "dir-xyz789",
    "order": 1,
    "title": {
      "en": "Dashboard",
      "he": "לוח בקרה"
    },
    "icon": "icon-Dashboard_POV",
    "key": "dashboard",
    "modules": null,
    "permissions": null,
    "url": "/app/dashboard",
    "badge_id": null,
    "action": null,
    "available_in_mobile": true,
    "favorite_in_mobile": true,
    "upsell_handling": null,
    "is_bmp": false,
    "created_by": "directory",
    "updated_by": "directory",
    "created_at": "2026-01-15T10:30:00Z",
    "updated_at": "2026-01-15T10:30:00Z"
  }
}
