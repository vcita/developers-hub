{
  "type": "object",
  "properties": {
    "uid": {
      "type": "string",
      "description": "The unique identifier (UID) of the suggestion"
    },
    "business_uid": {
      "type": "string",
      "description": "The unique identifier (UID) of the business"
    },
    "rule_uid": {
      "type": "string",
      "description": "The UID of the existing rule this suggestion relates to (null for create suggestions)",
      "nullable": true
    },
    "action": {
      "type": "string",
      "description": "The type of change being suggested",
      "enum": [
        "create",
        "update",
        "delete"
      ]
    },
    "category": {
      "type": "string",
      "description": "The category of the business rule",
      "enum": [
        "tone_of_voice",
        "business_policies",
        "things_to_avoid",
        "faq"
      ]
    },
    "suggested_content": {
      "type": "string",
      "description": "The suggested new content for the rule"
    },
    "original_content": {
      "type": "string",
      "description": "The original content of the rule (for update/delete suggestions)",
      "nullable": true
    },
    "status": {
      "type": "string",
      "description": "The current status of the suggestion",
      "enum": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "confidence": {
      "type": "number",
      "description": "AI confidence score for the suggestion (0.00 to 1.00)",
      "nullable": true
    },
    "reasoning": {
      "type": "string",
      "description": "AI-generated reasoning for why this suggestion was made",
      "nullable": true
    },
    "metadata": {
      "type": "object",
      "description": "Additional metadata associated with the suggestion",
      "nullable": true
    },
    "reviewed_by_staff_uid": {
      "type": "string",
      "description": "The UID of the staff member who reviewed this suggestion",
      "nullable": true
    },
    "reviewed_at": {
      "type": "string",
      "format": "date-time",
      "description": "Date the suggestion was reviewed",
      "nullable": true
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Date the suggestion was created"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Date the suggestion was last updated"
    }
  },
  "required": [
    "uid",
    "business_uid",
    "action",
    "category",
    "suggested_content",
    "status",
    "created_at",
    "updated_at"
  ],
  "example": {
    "uid": "sug-f1e2d3c4-b5a6-9788-7654-321fedcba098",
    "business_uid": "biz-1234abcd-5678-90ef-ghij-klmnopqrstuv",
    "rule_uid": null,
    "action": "create",
    "category": "faq",
    "suggested_content": "Our business hours are Monday to Friday, 9 AM to 5 PM",
    "original_content": null,
    "status": "pending",
    "confidence": 0.87,
    "reasoning": "Detected consistent business hours mentioned across multiple client conversations",
    "metadata": {
      "source_conversations": 12
    },
    "reviewed_by_staff_uid": null,
    "reviewed_at": null,
    "created_at": "2024-12-16T08:00:00.000Z",
    "updated_at": "2024-12-16T08:00:00.000Z"
  },
  "description": "Represents an AI-generated suggestion to create, update, or delete a business rule. Suggestions require staff review (approve/reject) before being applied."
}
