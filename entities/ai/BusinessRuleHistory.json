{
  "type": "object",
  "properties": {
    "uid": {
      "type": "string",
      "description": "The unique identifier (UID) of the history record"
    },
    "rule_uid": {
      "type": "string",
      "description": "The UID of the business rule this history entry belongs to"
    },
    "business_uid": {
      "type": "string",
      "description": "The unique identifier (UID) of the business"
    },
    "category": {
      "type": "string",
      "description": "The category of the business rule at the time of the change",
      "enum": [
        "tone_of_voice",
        "business_policies",
        "things_to_avoid",
        "faq"
      ]
    },
    "content": {
      "type": "string",
      "description": "The content of the rule at the time of the change"
    },
    "source": {
      "type": "string",
      "description": "Whether the change was made by the system or a user",
      "enum": [
        "system",
        "user"
      ]
    },
    "action": {
      "type": "string",
      "description": "The type of change that was made",
      "enum": [
        "created",
        "updated",
        "deleted"
      ]
    },
    "changed_by_staff_uid": {
      "type": "string",
      "description": "The UID of the staff member who made the change",
      "nullable": true
    },
    "changed_at": {
      "type": "string",
      "format": "date-time",
      "description": "Date and time when the change was made"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Date the history record was created"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Date the history record was last updated"
    }
  },
  "required": [
    "uid",
    "rule_uid",
    "business_uid",
    "category",
    "content",
    "source",
    "action",
    "changed_at",
    "created_at",
    "updated_at"
  ],
  "example": {
    "uid": "hist-a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "rule_uid": "br-a1b2c3d4-5678-90ef-ghij-klmnopqrstuv",
    "business_uid": "biz-1234abcd-5678-90ef-ghij-klmnopqrstuv",
    "category": "tone_of_voice",
    "content": "Always use a friendly and professional tone when communicating with clients",
    "source": "user",
    "action": "updated",
    "changed_by_staff_uid": "stf-9876wxyz-5432-10ab-cdef-ghijklmnopqr",
    "changed_at": "2024-12-16T14:30:00.000Z",
    "created_at": "2024-12-16T14:30:00.000Z",
    "updated_at": "2024-12-16T14:30:00.000Z"
  },
  "description": "Represents a historical record of a change made to a business rule, including what changed, who changed it, and when."
}
