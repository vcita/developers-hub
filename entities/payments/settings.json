{
  "type": "object",
  "description": "SMB payment configuration, including gateway integration details, tip settings, and automated fee-offset logic (surcharges/convenience fees).",
  "properties": {
    "payments_enabled": {
      "type": "boolean",
      "description": "Online payments enabled status for SMB."
    },
    "currency": {
      "type": "string",
      "description": "Primary currency (ISO 4217, e.g., \"USD\")."
    },
    "supported_currencies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of supported currencies (e.g., [\"USD\", \"EUR\", \"GBP\"])."
    },
    "multiple_currencies": {
      "type": "boolean",
      "description": "Multi-currency support enabled."
    },
    "allow_view_payments": {
      "type": "boolean",
      "description": "Clients can view payments in portal."
    },
    "terms_and_conditions_type": {
      "type": "string",
      "enum": ["text", "external_link"],
      "description": "Terms format: \"text\", \"external_link\"."
    },
    "terms_and_conditions_value": {
      "type": "string",
      "description": "Terms text or URL."
    },
    "payments_gateway_type": {
      "type": "string",
      "description": "Active gateway: \"stripe\", \"vcitaPayments\", etc."
    },
    "connected_payment_gateways": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Connected gateways array (e.g., [\"stripe\"])."
    },
    "allow_credit_card": {
      "type": "boolean",
      "description": "All card payments (credit/debit/prepaid) enabled."
    },
    "allow_bank_debit_on_checkout": {
      "type": "boolean",
      "description": "ACH/bank debit enabled at checkout."
    },
    "allow_bank_debit_on_checkout_enabled": {
      "type": "boolean",
      "description": "Read-only field indicating if SMB has ACH/bank debit offering enabled (can then be enabled/disabled)."
    },
    "client_store_card_for_business_use": {
      "type": "boolean",
      "description": "Businesses can charge a card that was saved by the client for future use."
    },
    "store_card_for_business_use_enabled": {
      "type": "boolean",
      "description": "Read-only field indicating if SMB has card-on-file offering available (can then be enabled/disabled)."
    },
    "ewallet_type": {
      "type": "string",
      "description": "E-wallet type (e.g., \"paypal\")."
    },
    "allow_express_wallets": {
      "type": "boolean",
      "description": "Digital wallets (Google Pay, Apple Pay, etc.) enabled."
    },
    "stripe_access_token": {
      "type": "string",
      "description": "Stripe access token (Stripe gateway only)."
    },
    "stripe_user_id": {
      "type": "string",
      "description": "Stripe account ID (e.g., \"acct_...\"). (Stripe gateway only)."
    },
    "stripe_email": {
      "type": "string",
      "description": "Stripe account connection email used by the SMB for Stripe integration."
    },
    "braintree_merchant_id": {
      "type": "string",
      "description": "Braintree merchant ID (Braintree only)."
    },
    "paypal_email": {
      "type": "string",
      "description": "Paypal account connection email used by the SMB for Paypal integration."
    },
    "enable_tips_for_bo": {
      "type": "boolean",
      "description": "Tips enabled on back office charges."
    },
    "enable_tips_for_cp": {
      "type": "boolean",
      "description": "Client tips enabled in portal checkout."
    },
    "tips": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["percent"],
            "description": "Tip type: \"percent\"."
          },
          "value": {
            "type": "integer",
            "minimum": 1,
            "maximum": 99,
            "description": "Tip percentage (1-99)."
          }
        },
        "required": ["type", "value"]
      },
      "description": "Preset tip options (defaults: 15%, 20%, 25%)."
    },
    "offset_fee_configuration": {
      "type": "object",
      "properties": {
        "offset_fee_mode": {
          "type": "string",
          "enum": ["surcharge_fee", "convenience_fee", "none"],
          "description": "Fee mode: \"surcharge_fee\", \"convenience_fee\", \"none\"."
        },
        "surcharge_fee_enabled": {
          "type": "boolean",
          "description": "Read-only surcharge status for SMB cost recovery."
        },
        "surcharge_fee_rate": {
          "type": "number",
          "description": "Read-only surcharge rate (e.g., 2.9%)."
        },
        "convenience_fee_type": {
          "type": "string",
          "enum": ["flat", "percentage"],
          "description": "Fee type: \"flat\", \"percentage\"."
        },
        "convenience_fee_value": {
          "type": "number",
          "description": "Fee amount (e.g., 2.50, 1.0)."
        }
      }
    },
    "tax_mode": {
      "type": "string",
      "enum": ["exclude", "include"],
      "description": "Tax handling: \"exclude\", \"include\"."
    },
    "show_taxes": {
      "type": "boolean",
      "description": "Display taxes in checkout."
    },
    "partial_payments_enabled": {
      "type": "boolean",
      "description": "Partial payments allowed for clients."
    },
    "billing_address": {
      "type": "string",
      "description": "Business billing address."
    },
    "invoice_terms": {
      "type": "string",
      "description": "Invoice payment terms (e.g., \"30 days\")."
    },
    "estimate_terms": {
      "type": "string",
      "description": "Estimate payment terms."
    },
    "hide_powered_by": {
      "type": "boolean",
      "description": "Hides \"powered by\" branding."
    },
    "pdf_customization_color": {
      "type": "string",
      "description": "PDF invoice color (e.g., \"#000000\")."
    },
    "pdf_customization_cover": {
      "type": "string",
      "description": "PDF cover template (e.g., \"default\")."
    },
    "pdf_customization_logo_size": {
      "type": "string",
      "description": "PDF logo size (e.g., \"medium\")."
    },
    "pdf_customization_template": {
      "type": "string",
      "description": "PDF template (e.g., \"default\")."
    },
    "vcita_payments_business_profession_code": {
      "type": "string",
      "description": "vcitaPayments gateway only. Merchant Category Code (MCC) classifying the SMB business type."
    },
    "matter_term": {
      "type": "string",
      "description": "Custom matter term label (e.g., \"Term\")."
    }
  },
  "example": {
    "payments_enabled": true,
    "currency": "USD",
    "supported_currencies": ["USD", "EUR", "GBP"],
    "multiple_currencies": true,
    "allow_view_payments": true,
    "terms_and_conditions_type": "external_link",
    "terms_and_conditions_value": "https://example.com/terms",
    "payments_gateway_type": "stripe",
    "connected_payment_gateways": ["stripe"],
    "allow_credit_card": true,
    "allow_bank_debit_on_checkout": true,
    "allow_bank_debit_on_checkout_enabled": true,
    "client_store_card_for_business_use": true,
    "store_card_for_business_use_enabled": true,
    "ewallet_type": "paypal",
    "allow_express_wallets": true,
    "stripe_access_token": "sk_test_...",
    "stripe_user_id": "acct_1234567890",
    "stripe_email": "business@example.com",
    "braintree_merchant_id": null,
    "paypal_email": "business@example.com",
    "enable_tips_for_bo": true,
    "enable_tips_for_cp": true,
    "tips": [
      {
        "type": "percent",
        "value": 15
      },
      {
        "type": "percent",
        "value": 20
      },
      {
        "type": "percent",
        "value": 25
      }
    ],
    "offset_fee_configuration": {
      "offset_fee_mode": "convenience_fee",
      "surcharge_fee_enabled": false,
      "surcharge_fee_rate": null,
      "convenience_fee_type": "percentage",
      "convenience_fee_value": 2.5
    },
    "tax_mode": "exclude",
    "show_taxes": true,
    "partial_payments_enabled": true,
    "billing_address": "123 Main St, City, State 12345",
    "invoice_terms": "30 days",
    "estimate_terms": "Valid for 30 days",
    "hide_powered_by": false,
    "pdf_customization_color": "#000000",
    "pdf_customization_cover": "default",
    "pdf_customization_logo_size": "medium",
    "pdf_customization_template": "default",
    "vcita_payments_business_profession_code": "8011",
    "matter_term": "Project"
  }
}

