{
  "type": "object",
  "definitions": {
    "paymentCard": {
      "type": "object",
      "description": "A stored payment card belonging to a client.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier of the payment card."
        },
        "client_id": {
          "type": "string",
          "description": "UID of the client who owns this card."
        },
        "default": {
          "type": "boolean",
          "description": "True if this card is set as the client’s default."
        },
        "active": {
          "type": "boolean",
          "description": "True if the card is currently active."
        },
        "card_brand": {
          "type": "string",
          "enum": [
            "visa",
            "mastercard",
            "amex",
            "discover",
            "diners",
            "jcb",
            "unionpay"
          ],
          "description": "Card network brand."
        },
        "funding_type": {
          "type": "string",
          "enum": [
            "credit",
            "debit",
            "prepaid",
            "unknown"
          ],
          "description": "Type of funding associated with the card."
        },
        "last_4": {
          "type": "string",
          "description": "Last four digits of the card number (for display only)."
        },
        "exp_month": {
          "type": "integer",
          "minimum": 1,
          "maximum": 12,
          "description": "Card expiration month, 1–12."
        },
        "exp_year": {
          "type": "integer",
          "minimum": 2023,
          "description": "Card expiration year (>= 2023)."
        },
        "cardholder_name": {
          "type": "string",
          "description": "Name printed on the card."
        },
        "staff_id": {
          "type": [
            "string",
            "null"
          ],
          "description": "UID of the staff member who added the card, if applicable."
        },
        "staff_name": {
          "type": "string",
          "description": "Display name of the staff member who added the card."
        },
        "business_id": {
          "type": "string",
          "description": "UID of the business the card is associated with."
        },
        "payment_provider": {
          "type": "string",
          "enum": [
            "stripe",
            "square",
            "squarepaymentgateway"
          ],
          "description": "Payment processor managing the card."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the card was created."
        },
        "initiator": {
          "type": "string",
          "enum": [
            "client",
            "staff"
          ],
          "description": "Who added the card."
        },
        "usage_permission": {
          "type": "string",
          "enum": [
            "client",
            "staff",
            "all"
          ],
          "description": "Permission scope describing who can use the card."
        }
      },
      "required": [
        "id",
        "client_id",
        "default",
        "active",
        "card_brand",
        "funding_type",
        "last_4",
        "exp_month",
        "exp_year",
        "cardholder_name",
        "staff_id",
        "staff_name",
        "business_id",
        "payment_provider",
        "created_at",
        "initiator",
        "usage_permission"
      ]
    },
    "cardsListData": {
      "type": "object",
      "description": "Data wrapper for a client's stored payment cards.",
      "properties": {
        "max_limit_reached": {
          "type": "boolean",
          "description": "Indicates if the client has reached the maximum number of stored cards."
        },
        "cards": {
          "type": "array",
          "description": "List of all stored payment cards. Each element contains full card details.",
          "items": {
            "$ref": "#/definitions/paymentCard"
          }
        }
      },
      "required": [
        "max_limit_reached",
        "cards"
      ]
    }
  },
  "$ref": "#/definitions/paymentCard"
}

