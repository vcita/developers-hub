{
  "type": "object",
  "properties": {
    "status": {
      "type": "string",
      "enum": [
        "OK"
      ],
      "description": "Response status. Always OK."
    },
    "data": {
      "type": "object",
      "properties": {
        "client_payment_cards": {
          "type": "array",
          "description": "List of all stored payment cards.",
          "items": {
            "type": "object",
            "properties": {
              "uid": {
                "type": "string",
                "description": "Unique identifier of the payment card."
              },
              "client_uid": {
                "type": "string",
                "description": "UID of the card owner."
              },
              "default": {
                "type": "boolean",
                "description": "True if this is the client’s default card."
              },
              "active": {
                "type": "boolean",
                "description": "True if the card is currently active."
              },
              "card_brand": {
                "type": "string",
                "enum": [
                  "visa",
                  "mastercard",
                  "amex",
                  "discover",
                  "diners",
                  "jcb",
                  "unionpay"
                ],
                "description": "Network: visa, mastercard, amex, discover, etc."
              },
              "funding_type": {
                "type": "string",
                "enum": [
                  "credit",
                  "debit",
                  "prepaid",
                  "unknown"
                ],
                "description": "Funding type: credit, debit, prepaid, unknown."
              },
              "last_four_digits": {
                "type": "string",
                "description": "Last four digits (display only)."
              },
              "exp_month": {
                "type": "integer",
                "minimum": 1,
                "maximum": 12,
                "description": "Expiration month (1–12)."
              },
              "exp_year": {
                "type": "integer",
                "minimum": 2023,
                "description": "Expiration year (>= 2023)."
              },
              "cardholder_name": {
                "type": "string",
                "description": "Name printed on the card."
              },
              "staff_uid": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "UID of staff who added the card (or null)."
              },
              "staff_name": {
                "type": "string",
                "description": "Display name of the staff member who added the card."
              },
              "business_uid": {
                "type": "string",
                "description": "UID of the business the card is associated with."
              },
              "created_at": {
                "type": "string",
                "format": "date-time",
                "description": "Timestamp of when the card was created."
              },
              "payment_provider": {
                "type": "string",
                "enum": [
                  "stripe",
                  "square",
                  "squarepaymentgateway"
                ],
                "description": "stripe, square, or squarepaymentgateway."
              },
              "initiator": {
                "type": "string",
                "enum": [
                  "client",
                  "staff"
                ],
                "description": "client or staff."
              },
              "can_be_used_by_staff": {
                "type": "boolean",
                "description": "Indicates whether this stored card is eligible to be used by staff-initiated payment flows."
              }
            },
            "required": [
              "uid",
              "client_uid",
              "default",
              "active",
              "card_brand",
              "funding_type",
              "last_four_digits",
              "exp_month",
              "exp_year",
              "cardholder_name",
              "staff_uid",
              "staff_name",
              "business_uid",
              "created_at",
              "payment_provider",
              "initiator",
              "can_be_used_by_staff"
            ]
          }
        }
      },
      "required": [
        "client_payment_cards"
      ]
    }
  },
  "required": [
    "status",
    "data"
  ],
  "example": {
    "status": "OK",
    "data": {
      "client_payment_cards": [
        {
          "uid": "card_123",
          "client_uid": "clt_aaabbbccc112233",
          "default": true,
          "active": true,
          "card_brand": "visa",
          "funding_type": "credit",
          "last_four_digits": "4242",
          "exp_month": 12,
          "exp_year": 2028,
          "cardholder_name": "Jane Doe",
          "staff_uid": null,
          "staff_name": "Jane Smith",
          "business_uid": "biz_1234567890",
          "created_at": "2025-01-15T10:30:00.000Z",
          "payment_provider": "stripe",
          "initiator": "client",
          "can_be_used_by_staff": false
        }
      ]
    }
  },
  "description": "Response wrapper for listing a client's stored payment cards."
}

