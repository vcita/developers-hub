{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "OfferingPrerequisiteRule",
  "description": "Defines dependency rules between offerings, specifying which offerings a business must already possess before being eligible to purchase or install a specific target offering.",
  "type": "object",
  "properties": {
    "uid": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the prerequisite rule."
    },
    "target_offering_uid": {
      "type": "string",
      "format": "uuid",
      "description": "The unique identifier of the offering that requires prerequisites."
    },
    "required_offering_uids": {
      "type": "array",
      "items": {
        "type": "string",
        "format": "uuid"
      },
      "description": "A list of offering UIDs. Possession of ANY of these offerings satisfies the prerequisite (OR logic)."
    },
    "directory_uid": {
      "type": "string",
      "format": "uuid",
      "description": "Optional directory UID. If provided, the rule applies only to businesses within this directory. If null, the rule is global."
    },
    "is_active": {
      "type": "boolean",
      "default": true,
      "description": "Indicates whether the rule is currently enforced."
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Creation timestamp."
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp."
    }
  },
  "readOnly": [
    "uid",
    "created_at",
    "updated_at"
  ],
  "required": [
    "uid",
    "target_offering_uid",
    "required_offering_uids",
    "created_at",
    "updated_at"
  ],
  "example": {
    "uid": "123e4567-e89b-12d3-a456-426614174000",
    "target_offering_uid": "bc33f12d-98ee-428f-9f65-18bba589cb95",
    "required_offering_uids": [
      "d290f1ee-6c54-4b01-90e6-d701748f0851",
      "6c71874z-4d2b-46q1-bbdd-f8c7e12e66d0"
    ],
    "directory_uid": "98ees428fq9f65tyh",
    "is_active": true,
    "created_at": "2025-01-01T10:00:00.000Z",
    "updated_at": "2025-01-01T10:00:00.000Z"
  }
}

