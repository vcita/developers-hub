{
  "type": "object",
  "description": "Online profile configuration for a business. Contains settings for client-facing features like supported languages and privacy policy. This is a singleton resource - each business has at most one online profile.",
  "properties": {
    "uid": {
      "type": "string",
      "description": "Unique identifier for the online profile record."
    },
    "business_uid": {
      "type": "string",
      "description": "Unique identifier of the business that owns this online profile."
    },
    "supported_languages": {
      "type": "array",
      "description": "List of ISO 639-1 language codes supported by the business for client-facing content (e.g., [\"en\", \"es\", \"fr\"]).",
      "items": {
        "type": "string",
        "pattern": "^[a-z]{2}$"
      },
      "uniqueItems": true
    },
    "privacy_policy": {
      "oneOf": [
        {
          "type": "object",
          "description": "Privacy policy configuration when set.",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["link", "text"],
              "description": "The type of privacy policy configuration. 'link': External URL pointing to the business's privacy policy page. 'text': Inline privacy policy content that will be displayed in a modal."
            },
            "url": {
              "type": "string",
              "format": "uri",
              "description": "External URL to the privacy policy page. Used when type is 'link' (e.g., \"https://example.com/privacy\")."
            },
            "content": {
              "type": "string",
              "maxLength": 40000,
              "description": "Inline privacy policy text content. Used when type is 'text'. Maximum 40,000 characters."
            }
          }
        },
        {
          "type": "null"
        }
      ],
      "description": "Privacy policy configuration for the business. Null if not configured or incomplete."
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "The date and time when the online profile was created, in ISO 8601 format."
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "The date and time when the online profile was last updated, in ISO 8601 format."
    }
  },
  "example": {
    "uid": "abc123",
    "business_uid": "d290f1ee26c54",
    "supported_languages": ["en", "es"],
    "privacy_policy": {
      "type": "link",
      "url": "https://example.com/privacy",
      "content": null
    },
    "created_at": "2026-01-12T10:30:00Z",
    "updated_at": "2026-01-12T10:30:00Z"
  }
}

